{"version":3,"sources":["js/angular/app.js","js/angular/services/validate.js","js/angular/services/utils.js","js/angular/services/tagServices.js","js/angular/services/referenceServices.js","js/angular/services/questionServices.js","js/angular/services/productServices.js","js/angular/services/preferenceServices.js","js/angular/services/landingServices.js","js/angular/services/interceptors.js","js/angular/services/formServices.js","js/angular/services/djangoAuth.js","js/angular/services/companyServices.js","js/angular/services/blogServices.js","js/angular/controllers/tagControllers.js","js/angular/controllers/searchControllers.js","js/angular/controllers/referenceControllers.js","js/angular/controllers/profileControllers.js","js/angular/controllers/productControllers.js","js/angular/controllers/masterControllers.js","js/angular/controllers/landingControllers.js","js/angular/controllers/companyControllers.js","js/angular/controllers/blogControllers.js","js/angular/controllers/authControllers.js","js/angular/directives/legend.js","js/angular/directives/horizontalBars.js","js/angular/directives/convertToNumber.js","includes/tag_form.js","includes/tag_detail.js","includes/reference_form.js","includes/reference_detail.js","includes/product_form.js","includes/product_autoinclude.js","includes/modal.js","includes/general_search_form.js","auth/verifyemail.js","auth/userprofile.js","auth/signup.js","auth/passwordresetconfirm.js","auth/passwordreset.js","auth/login.js","auth/forbidden.js","thanks.js","tag_list.js","search_results.js","search_empty.js","reference_new.js","reference_list.js","reference_detail.js","reference_deleted.js","product_search.js","product_detail.js","landing.js","initial_questions.js","how_to.js","ethics_profile.js","company_detail.js","company_all.js","coming_soon.js","blog_list.js","blog_detail.js","404.js"],"names":["portal","angular","module","config","$resourceProvider","defaults","stripTrailingSlashes","$httpProvider","interceptors","push","$routeProvider","when","templateUrl","controller","resolve","authenticated","djangoAuth","authenticationStatus","otherwise","redirectTo","service","message","minlength","maxlength","email","required","more_messages","demo","check_more_messages","name","error","this","validation_messages","field","form","error_bin","messages","e","$error","special_message","replace","deduped_messages","forEach","el","i","indexOf","form_validation","substr","factory","services","wrap","text","width","each","word","d3","select","words","data","label","toUpperCase","split","reverse","line","lineNumber","lineHeight","y","attr","x","dy","parseFloat","tspan","append","pop","join","node","getComputedTextLength","_categoryIcons","Animal Welfare","Consumer Health","Corporate Finances","Environment","Labor","Public Engagement","getCategoryIcons","parseSingleScores","scores","j","categories","length","category","score","user","overall","parseMultiScores","dataPoint","Company","_storedLink","set","link","get","_includes","generalSearchForm","productForm","tagForm","tagDetail","referenceForm","referenceDetail","modal","templateName","removeFromList","item","list","index","some","elem","id","splice","BaseUrl","$resource","_tags","all","method","params","tagID","isArray","saveMulti","update","remove","createTag","success","failure","products","save","saveMult","parseResponse","cat_id","companies","company","$","grep","v","tag_type","tag_types","subcategory","_reference","referenceAction","detail","create","referenceID","refID","_question","withAnswers","questionDetail","_answers","setInitial","answerNum","answerID","allWithAnswers","initialAnswers","answers","_productInfo","productID","_productScores","_divisions","_categories","getScores","include_object","getDivisions","getCategories","allTags","product_id","queryDict","tempProduct","extend","key","hasOwnProperty","_pref","preferenceID","getAll","_landing","query","recentData","_search","general","q","$injector","$cookies","$rootScope","$q","interceptor","responseError","response","status","http","headers","common","Authorization","$broadcast","reject","$http","API_URL","use_session","cookieLength","authPromise","request","args","deferred","defer","url","withCredentials","X-CSRFToken","csrftoken","Access-Control-Allow-Credentials","bind","console","log","non_field_errors","promise","register","username","password1","password2","more","login","password","then","expires","Date","setDate","getDate","put","logout","tokenClear","changePassword","new_password1","new_password2","resetPassword","profile","cacheBuster","getTime","putObject","updateProfile","verify","confirmReset","uid","token","restrict","force","da","getAuthStatus","initialize","sessions","_companyInfo","companyID","_companyScores","_allScores","allScores","include_subcategories","no_product","_blogAPI","postID","getPost","postName","$scope","Tag","Scores","categoryIcons","tags","Includes","ArrayTools","tag_template","editTag","newTag","tag","tagTypes","product","reference","tagCancel","$event","preventDefault","stopPropagation","tagSubmit","msg","JSON","stringify","postData","modalContent","title","body","actionName","modalTemplate","deleteTag","modalAction","ethicstags","removeClass","state","showNewTagForm","showTagForm","checkForObject","obj","tagFormState","addTagType","showNewTagType","newTagType","productListUrl","removeProduct","loadFacts","clearProducts","selectedProduct","$item","originalObject","$location","generalSearch","search","path","Search","$routeParams","$anchorScroll","searchQuery","loading","searchSuccess","$promise","$resolved","results","result_keys","Object","keys","map","references","goToHash","hash","Reference","$filter","referencesFetched","metatags","header_text","filtering","includeTagged","includeUntagged","includeNoData","filterReferences","_checkTagged","_checkUntagged","_checkNoData","_checkText","toLowerCase","notes","Meta","referenceModal","reference_template","editReference","tempReference","referenceCancel","ethicssubcategory","referenceSubmit","Preference","preferences","options","showPrefForm","openPrefForm","newPref","fact","closePrefForm","updatePref","prefSuccess","preference","Question","questions","selected","answerQuestions","filter","Product","parseScores","countTags","count","product_tag_count","product_tags","productFollowUp","company_tags","resetTemp","company_id","division","undefined","price_0","price_1","divisions","productFormTemplate","priceRange","showToggle","searched","clearForm","productSubmit","productSuccess","toggleCollapse","toggleOpen","collapse","LinkStore","first_name","last_name","$on","event","initial_answers","ev","current","previous","rejection","$$route","originalPath","Landing","populateRecent","events","posts","companyName","getUserScore","user_name","sortByUserScore","a","b","sortByLabel","localeCompare","filterProps","showGeneric","ordering","_scores","sortScores","sort","filterScores","Blog","post","model","getObject","Validate","formData","errors","$invalid","complete","emailVerificationToken","firstToken","passwordResetToken","backLink","directive","$window","scope","element","attrs","legendClass","legendWidth","boxHeight","boxPadding","marginTop","marginBottom","marginLeft","svg","marginRight","legendAttr","$watch","newVals","oldVals","render","selectAll","height","row","enter","d","chartUtils","parseInt","barHeight","barPadding","barClass","titleClass","appendNameToClass","appendName","chartGap","titleSpace","linkText","style","window","onresize","$apply","innerWidth","nodeWidth","offsetWidth","xScale","scale","linear","domain","range","xAxis","axis","tickValues","tickSize","orient","chartHeight","call","wrapper","charts","labels","bars","anchor","dist","Math","abs","pos","transition","duration","require","ngModel","$parsers","val","$formatters","run","$templateCache"],"mappings":"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","file":"app.min.js","sourcesContent":["'use strict';\n\nvar portal = angular.module('portal', [\n    'ngResource',\n    'ui.bootstrap',\n    'ngAnimate',\n    'ngRoute',\n    'ngCookies',\n    'hc.marked',\n    'angucomplete-alt'\n]);\n\n// Resource settings\nportal.config(['$resourceProvider',function($resourceProvider) {\n  $resourceProvider.defaults.stripTrailingSlashes = false;\n}]);\n\n// api settings\nportal.config(['$httpProvider', function ($httpProvider) {\n  $httpProvider.interceptors.push('tokenCleaner');\n}]);\n\nportal.config(['$routeProvider',\n  function($routeProvider) {\n    $routeProvider\n      .when('/', {\n          templateUrl: 'templates/landing.html',\n      })\n      .when('/login', {\n        templateUrl: 'templates/auth/login.html',\n      })\n      .when('/signUp', {\n        templateUrl: 'templates/auth/signup.html',\n      })\n      .when('/forbidden', {\n        templateUrl: 'templates/auth/forbidden.html',\n      })\n      .when('/verifyEmail/:emailVerificationToken', {\n        templateUrl: 'templates/auth/verifyemail.html',\n      })\n      .when('/passwordReset', {\n        templateUrl: 'templates/auth/passwordreset.html',\n      })\n      .when('/passwordResetConfirm/:firstToken/:passwordResetToken', {\n        templateUrl: 'templates/auth/passwordresetconfirm.html',\n      })\n      .when('/companies/detail/:companyName', {\n        controller: 'CompanyDetailCtrl',\n        templateUrl: 'templates/company_detail.html',\n      })\n      .when('/companies/all', {\n        controller: 'CompanyAllCtrl',\n        templateUrl: 'templates/company_all.html',\n      })\n      .when('/products/search', {\n        controller: 'ProductSearchCtrl',\n        templateUrl: 'templates/product_search.html',\n      })\n      .when('/products/detail/:productID', {\n        controller: 'ProductDetailCtrl',\n        templateUrl: 'templates/product_detail.html',\n      })\n      .when('/blog/all', {\n        controller: 'BlogListCtrl',\n        templateUrl: 'templates/blog_list.html'\n      })\n      .when('/blog/detail/:postName', {\n        controller: 'BlogDetailCtrl',\n        templateUrl: 'templates/blog_detail.html'\n      })\n      .when('/search/general', {\n        controller: 'GeneralSearchCtrl',\n        templateUrl: 'templates/search_empty.html'\n      })\n      .when('/search/general/:searchQuery', {\n        controller: 'GeneralSearchCtrl',\n        templateUrl: 'templates/search_results.html'\n      })\n      .when('/references/all', {\n        controller: 'AllReferenceCtrl',\n        templateUrl: 'templates/reference_list.html'\n      })\n      .when('/references/how-to', {\n        templateUrl: 'templates/how_to.html'\n      })\n      .when('/references/new', {\n        controller: 'NewReferenceCtrl',\n        templateUrl: 'templates/reference_new.html',\n        resolve: {\n          authenticated: ['djangoAuth', function(djangoAuth){\n            return djangoAuth.authenticationStatus(true);\n          }],\n        }\n      })\n      .when('/references/deleted', {\n        templateUrl: 'templates/reference_deleted.html',\n        resolve: {\n          authenticated: ['djangoAuth', function(djangoAuth){\n            return djangoAuth.authenticationStatus(true);\n          }],\n        }\n      })\n      .when('/references/detail/:referenceID', {\n        controller: 'ReferenceDetailCtrl',\n        templateUrl: 'templates/reference_detail.html'\n      })\n      .when('/tags/all', {\n        controller: 'TagListCtrl',\n        templateUrl: 'templates/tag_list.html'\n      })\n      .when('/forum/main', {\n        templateUrl: 'templates/coming_soon.html'\n      })\n      .when('/account', {\n        templateUrl: 'templates/auth/userprofile.html',\n        resolve: {\n          authenticated: ['djangoAuth', function(djangoAuth){\n            return djangoAuth.authenticationStatus(true);\n          }],\n        }\n      })\n      .when('/profile', {\n        controller: 'ProfileCtrl',\n        templateUrl: 'templates/ethics_profile.html',\n        resolve: {\n          authenticated: ['djangoAuth', function(djangoAuth){\n            return djangoAuth.authenticationStatus(true);\n          }],\n        }\n      })\n      .when('/initial', {\n        controller: 'InitialCtrl',\n        templateUrl: 'templates/initial_questions.html',\n        resolve: {\n          authenticated: ['djangoAuth', function(djangoAuth){\n            return djangoAuth.authenticationStatus(true);\n          }],\n        }\n      })\n      .when('/thanks', {\n        templateUrl: 'templates/thanks.html',\n        resolve: {\n          authenticated: ['djangoAuth', function(djangoAuth){\n            return djangoAuth.authenticationStatus(true);\n          }],\n        }\n      })\n      .when('/404', {\n        templateUrl: 'templates/404.html'\n      })\n      .otherwise({\n          redirectTo: '/404'\n      });\n\n}]);\n","'use strict';\n\nangular.module('portal')\n  .service('Validate', [function Validate() {\n    return {\n        'message': {\n            'minlength': 'This value is not long enough.',\n            'maxlength': 'This value is too long.',\n            'email': 'A properly formatted email address is required.',\n            'required': 'This field is required.'\n        },\n        'more_messages': {\n            'demo': {\n                'required': 'Here is a sample alternative required message.'\n            }\n        },\n        'check_more_messages': function(name,error){\n            return (this.more_messages[name] || [])[error] || null;\n        },\n        validation_messages: function(field,form,error_bin){\n            var messages = [];\n            for(var e in form[field].$error){\n                if(form[field].$error[e]){\n                    var special_message = this.check_more_messages(field,e);\n                    if(special_message){\n                        messages.push(special_message);\n                    }else if(this.message[e]){\n                        messages.push(this.message[e].replace('This',field));\n                    }else{\n                        messages.push(\"Error: \" + e);\n                    }\n                }\n            }\n            var deduped_messages = [];\n            angular.forEach(messages, function(el, i){\n                if(deduped_messages.indexOf(el) === -1) deduped_messages.push(el);\n            });\n            if(error_bin){\n                error_bin[field] = deduped_messages;\n            }\n        },\n        'form_validation': function(form,error_bin){\n            for(var field in form){\n                if(field.substr(0,1) != \"$\"){\n                    this.validation_messages(field,form,error_bin);\n                }\n            }\n        }\n    };\n}]);\n","angular.module('portal')\n.factory('BaseUrl', [function () {\n    return 'https://api.axiologue.org/';\n}]);\n\nangular.module('portal')\n.factory('chartUtils', [function () {\n  var services = {};\n\n  // D3 text wrapper function\n  // Taken from http://bl.ocks.org/mbostock/7555321\n  services.wrap = function (text, width) {\n    text.each(function() {\n      var text = d3.select(this),\n          words = text.data()[0].label.toUpperCase().split(/\\s+/).reverse(),\n          word,\n          line = [],\n          lineNumber = 0,\n          lineHeight = 1, // ems\n          y = text.attr(\"y\"),\n          x = text.attr('x'),\n          dy = parseFloat(text.attr(\"dy\")),\n          tspan = text.text(null).append(\"tspan\").attr(\"x\", x).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n      while (word = words.pop()) {\n        line.push(word);\n        tspan.text(line.join(\" \"));\n        if (tspan.node().getComputedTextLength() > width) {\n          line.pop();\n          tspan.text(line.join(\" \"));\n          line = [word];\n          tspan = text.append(\"tspan\").attr(\"x\", x).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n        }\n      }\n      if (lineNumber > 0) {\n       text.attr(\"y\", function () {\n        return y - (lineNumber * 16)/2;\n       });\n      }\n    });\n  };\n\n  return services;\n}]);\n\nangular.module('portal')\n.factory('Scores', [function () {\n  var services = {},\n      _categoryIcons = {\n        'Animal Welfare': 'paw',\n        'Consumer Health': 'ambulance',\n        'Corporate Finances': 'dollar',\n        'Environment': 'leaf',\n        'Labor': 'suitcase', \n        'Public Engagement': 'bullhorn'\n  }; \n\n  services.getCategoryIcons = function () {\n    return _categoryIcons;\n  };\n\n  services.parseSingleScores = function (scores) {\n    var data = [];\n\n    for (var j=0; j < scores[0].categories.length + 1; j++) { \n      var category = {\n        'label': j === 0 ? 'overall' : scores[0].categories[j-1].category,\n        'scores': []\n      };\n\n      for (var i=0; i < scores.length; i++) {\n        var score = {\n          'user': scores[i].user,\n          'score': j === 0 ? scores[i].overall : scores[i].categories[j-1].score\n        };\n       \n        category.scores.push(score);\n      }\n\n      data.push(category);\n    }\n\n    return data;\n  };\n\n  services.parseMultiScores = function (scores) {\n    var data = [];\n\n    for (var i=0; i < scores.length; i++) {\n      var dataPoint = {'label': scores[i].Company.name, 'scores': []};\n\n      for (var j=0; j < scores[i].scores.length; j++) {\n        dataPoint.scores.push({'user': scores[i].scores[j].user, 'score': scores[i].scores[j].overall});\n      }\n\n      data.push(dataPoint);\n    }\n\n    return data;\n  };\n\n  return services;\n}]);\n\nangular.module('portal')\n.factory('LinkStore', [function () {\n  var services = {},\n      _storedLink = \"/\";\n\n  services.set = function (link) {\n    _storedLink = link;\n  };\n\n  services.get = function () {\n    return _storedLink;\n  };\n\n  return services;\n}]);\n\nangular.module('portal')\n.factory('Includes', [function () {\n  var services = {},\n      _includes = {\n        generalSearchForm: 'templates/includes/general_search_form.html',\n        productForm: 'templates/includes/product_form.html',\n        tagForm: 'templates/includes/tag_form.html',\n        tagDetail: 'templates/includes/tag_detail.html',\n        referenceForm: 'templates/includes/reference_form.html',\n        referenceDetail: 'templates/includes/reference_detail.html',\n        modal: 'templates/includes/modal.html'\n      };\n\n  services.get = function (templateName) {\n    return _includes[templateName];\n  };\n\n  return services;\n}]);\n\nangular.module('portal')\n.factory('ArrayTools', [function () {\n  var services = {};\n\n  services.removeFromList = function (item, list) {\n    var index = 0;\n      list.some(function(elem, i) {\n        if (elem.id === item.id) {\n          index = i;\n          return true;\n        }\n      });\n      list.splice(index,1);\n  };\n\n  return services;\n}]);\n","angular.module('portal')\n.factory('Tag', ['BaseUrl', '$resource', function (BaseUrl, $resource) {\n  var services = {},\n      _tags = $resource(BaseUrl + 'tags/etags/:tagID/', {}, {\n        all: {method: 'GET', params: {tagID: 'list'}, isArray: true},\n        saveMulti: {method: 'POST', params: {tagID: 'new'}, isArray: true},\n        update: {method: 'PATCH'},\n        remove: {method: 'DELETE'}\n      });\n\n  services.all = function () {\n    return _tags.all();\n  };\n\n  services.createTag = function (data, success, failure) {\n    if (data.products.length <= 1) {\n      return _tags.save({tagID: 'new'}, data, success, failure);\n    } else {\n      return _tags.saveMult({}, data, success, failure);\n    }\n  }\n\n  services.remove = function (tagID, success) {\n    return _tags.remove({tagID: tagID}, success);\n  };\n\n  services.update = function (data, success, failure) {\n    return _tags.update({tagID: data.id}, data, success, failure);\n  }\n\n  // Fix data coming back from server to match display data\n  services.parseResponse = function (data, cat_id, companies, categories) {\n     // Replace element IDs with actual names\n      data.company = $.grep(companies, function(v) {return v.id === data.company;})[0].name;\n      var category = $.grep(categories ,function(v) {return v.id === cat_id;})[0];\n\n      data.tag_type = {\n        name: $.grep(category.tag_types, function(v) {return v.id === data.tag_type;})[0].name,\n        subcategory: category.name,\n        id: data.tag_type\n      };\n  \n      return data;\n  }\n\n  return services;\n}]);\n","angular.module('portal')\n.factory('Reference', ['BaseUrl', '$resource', function (BaseUrl, $resource) {\n  var services = {},\n      _reference = $resource(BaseUrl + 'references/:referenceAction/', {}, {\n        all: {method: 'GET', params: {referenceAction: 'list'}, isArray: true},\n        detail: {method: 'GET'},\n        create: {method: 'POST', params: {referenceAction: 'new'}},\n        update: {method: 'PATCH'},\n        remove: {method: 'DELETE'}\n      });\n\n  services.all = function (success) {\n    return _reference.all({}, success);\n  };\n\n  services.get = function (referenceID) {\n    return _reference.detail({referenceAction: referenceID});\n  };\n\n  services.create = function (data, success, failure) {\n    return _reference.create({}, data, success, failure);\n  };\n\n  services.update = function (data, success, failure) {\n    return _reference.update({referenceAction: data.id }, data, success, failure);\n  };\n\n  services.remove = function (refID, success) {\n    return _reference.remove({referenceAction: refID}, success);\n  };\n  \n  return services;\n}]);\n","angular.module('portal')\n.factory('Question', ['BaseUrl', '$resource', function (BaseUrl, $resource) {\n  var services = {},\n      _question = $resource(BaseUrl + 'profile/question/:questionDetail/', {}, {\n        withAnswers: {method: 'GET', params: {questionDetail: 'all-answers'}, isArray: true}\n      }),\n      _answers = $resource(BaseUrl + 'profile/question/:answerNum/:answerID/', {}, {\n        setInitial: {method: 'POST', params: {answerNum: 'answers', answerID: 'set'}} \n      });\n\n  services.allWithAnswers = function () {\n    return _question.withAnswers();\n  };\n\n  services.initialAnswers = function (answers, success) {\n    return _answers.setInitial({}, {answers: answers}, success);\n  };\n\n  return services;\n}]);\n","angular.module('portal')\n.factory('Product', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n\n  var services = {},\n      _productInfo = $resource(BaseUrl + 'products/products/:productID/', {}, {\n        list: { method: 'GET', params: {productID: 'list'}},\n        detail: { method: 'GET'}\n      }),\n      _productScores = $resource(BaseUrl + 'profile/scores/product/', {}, {\n        get: { method: 'GET', isArray: true}\n      }),\n      _tags = $resource(BaseUrl + 'tags/etags/list/', {},{\n        all: {method: 'GET', isArray: true}\n      }),\n      _divisions = ['Boys', 'Girls', 'Infant', 'Kids', 'Men', 'Newborn', 'Preschool', 'Toddler', 'Unisex', 'Women'],\n      _categories = ['Baseball','Basketball','Crosstraining','Football','Hiking','Golf','Indoor','Lacrosse','Rugby','Running','Skate','Snowboarding','Soccer','Softball','Tennis','Track & Field','Trail Running','Trainers','Walking','Wrestling','Yoga'];\n  \n\n  services.detail = function (productID, success) {\n    return _productInfo.detail({productID: productID}, success);\n  };\n\n  services.getScores = function (productID, success) {\n    return _productScores.get({id: productID, include_object: false}, success);\n  };\n\n  services.getDivisions = function () {\n    return _divisions;\n  };\n\n  services.getCategories = function () {\n    return _categories;\n  };\n\n  services.allTags = function (productID, success) {\n    return _tags.all({product_id: productID}, success);\n  };\n\n  services.list = function (queryDict, success) {\n    var tempProduct = $.extend({}, queryDict);\n    // remove empty keys\n    for (var key in tempProduct) {\n      if (tempProduct.hasOwnProperty(key)) {\n        if (!tempProduct[key]) {\n          delete tempProduct[key];\n        }\n      }\n    }\n\n    return _productInfo.list(tempProduct, success);\n\n  };\n\n  return services;\n\n}]);\n","angular.module('portal')\n.factory('Preference', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n  var services = {},\n      _pref = $resource(BaseUrl + 'profile/prefs/:preferenceID/', {}, {\n        all: {method: 'GET', params: {preferenceID: 'all'}, isArray: true},\n        update: {method: 'PUT'}\n      });\n\n    services.getAll = function () {\n      return _pref.all();\n    };\n\n    services.update = function (data, success) {\n      return _pref.update({preferenceID: data.id}, data, success);\n    };\n\n    return services;\n\n}]);\n","angular.module('portal')\n.factory('Landing', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n  var services = {};\n\n  var _landing = $resource(BaseUrl + 'landing/recent/', {}, {\n    query: {method: 'GET', isArray: true}\n  });\n\n  services.recentData = function (success) {\n    return _landing.query(success);\n  };\n\n  return services;\n}]);\n\n\nangular.module('portal')\n.factory('Search', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n  var services = {},\n      _search = $resource(BaseUrl + 'search/general/', {}, {\n        get: {method: 'GET'}\n      });\n\n  services.general = function (query, success) {\n    return _search.get({q: query}, success);\n  };\n\n  return services;\n}]);\n","angular.module('portal')\n.factory('tokenCleaner', ['$injector', '$cookies', '$rootScope', '$q', function ($injector, $cookies, $rootScope, $q) {\n  var interceptor = {\n     responseError: function(response) {\n      if (response.status === 401 && response.data) {\n        if (response.data.detail === 'Invalid token.') {\n          $cookies.remove('token');\n          $cookies.remove('user');\n\n          var http = $injector.get('$http');\n          delete http.defaults.headers.common.Authorization;\n          $rootScope.$broadcast(\"djangoAuth.logged_out\");\n        }\n      }\n\n      return $q.reject(response);\n    }\n  };\n\n  return interceptor;\n}]);\n","// For getting company and ethics lists, used in form-making\nangular.module('portal')\n.factory('Meta',['$resource', 'BaseUrl',\n  function ($resource, BaseUrl) {\n    return $resource(BaseUrl + 'tags/formMeta/',{},{\n      query: {method:'GET',params:{},isArray:true}\n    });\n}]);\n","'use strict';\n\nangular.module('portal')\n  .service('djangoAuth', [\n        '$q',\n        '$http',\n        '$cookies',\n        '$rootScope',\n        'BaseUrl',\n        function djangoAuth($q, $http, $cookies, $rootScope,BaseUrl) {\n    // AngularJS will instantiate a singleton by calling \"new\" on this function\n    var service = {\n        /* START CUSTOMIZATION HERE */\n        // Change this to point to your Django REST Auth API\n        // e.g. /api/rest-auth  (DO NOT INCLUDE ENDING SLASH)\n        'API_URL': BaseUrl + 'rest-auth',\n        // Set use_session to true to use Django sessions to store security token.\n        // Set use_session to false to store the security token locally and transmit it as a custom header.\n        'use_session': false,\n        'cookieLength': 14,\n        /* END OF CUSTOMIZATION */\n        'authenticated': null,\n        'authPromise': null,\n        'request': function(args) {\n            // Let's retrieve the token from the cookie, if available\n            if($cookies.get('token')){\n                $http.defaults.headers.common.Authorization = 'Token ' + $cookies.get('token');\n            }\n            // Continue\n            params = args.params || {};\n            args = args || {};\n            var deferred = $q.defer(),\n                url = this.API_URL + args.url,\n                method = args.method || \"GET\",\n                params = params,\n                data = args.data || {};\n            // Fire the request, as configured.\n            $http({\n                url: url,\n                withCredentials: this.use_session,\n                method: method.toUpperCase(),\n                headers: {'X-CSRFToken': $cookies.csrftoken,\n                          'Access-Control-Allow-Credentials': 'true'},\n                params: params,\n                data: data\n            })\n            .success(angular.bind(this,function(data, status, headers, config) {\n                deferred.resolve(data, status);\n            }))\n            .error(angular.bind(this,function(data, status, headers, config) {\n                console.log(\"error syncing with: \" + url);\n                // Set request status\n                if(data){\n                    data.status = status;\n                }\n                if(status === 0){\n                    if(data === \"\"){\n                        data = {};\n                        data.status = 0;\n                        data.non_field_errors = [\"Could not connect. Please try again.\"];\n                    }\n                    // or if the data is null, then there was a timeout.\n                    if(data === null){\n                        // Inject a non field error alerting the user\n                        // that there's been a timeout error.\n                        data = {};\n                        data.status = 0;\n                        data.non_field_errors = [\"Server timed out. Please try again.\"];\n                    }\n                }\n                deferred.reject(data, status, headers, config);\n            }));\n            return deferred.promise;\n        },\n        'register': function(username,password1,password2,email,more){\n            var data = {\n                'username':username,\n                'password1':password1,\n                'password2':password2,\n                'email':email\n            };\n            data = angular.extend(data,more);\n            return this.request({\n                'method': \"POST\",\n                'url': \"/registration/\",\n                'data' :data\n            });\n        },\n        'login': function(username,password){\n            var djangoAuth = this;\n            return this.request({\n                'method': \"POST\",\n                'url': \"/login/\",\n                'data':{\n                    'username':username,\n                    'password':password,\n                }\n            }).then(function(data){\n                if(!djangoAuth.use_session){\n                    var expires = new Date();\n                    expires.setDate(expires.getDate() + djangoAuth.cookieLength);\n                    $http.defaults.headers.common.Authorization = 'Token ' + data.key;\n                    $cookies.put('token',data.key,{'expires':expires});\n                }\n                djangoAuth.authenticated = true;\n                $rootScope.$broadcast(\"djangoAuth.logged_in\", data);\n            });\n        },\n        'logout': function(){\n            var djangoAuth = this;\n            return this.request({\n                'method': \"POST\",\n                'url': \"/logout/\"\n            }).then(function(data){\n                djangoAuth.tokenClear();\n                $rootScope.$broadcast(\"djangoAuth.logged_out\");\n            });\n        },\n        'changePassword': function(password1,password2){\n            return this.request({\n                'method': \"POST\",\n                'url': \"/password/change/\",\n                'data':{\n                    'new_password1':password1,\n                    'new_password2':password2\n                }\n            });\n        },\n        'resetPassword': function(email){\n            return this.request({\n                'method': \"POST\",\n                'url': \"/password/reset/\",\n                'data':{\n                    'email':email\n                }\n            });\n        },\n        'profile': function(){\n            return this.request({\n                'method': \"GET\",\n                'url': \"/user/\",\n                'params': { 'cacheBuster': new Date().getTime() }\n            }).then(function (data) {\n              var expires = new Date();\n              expires.setDate(expires.getDate() + djangoAuth.cookieLength);\n              $cookies.putObject('user', data, {'expires':expires});\n              $rootScope.$broadcast(\"djangoAuth.set_profile\", data);\n            }); \n        },\n        'updateProfile': function(data){\n            return this.request({\n                'method': \"PATCH\",\n                'url': \"/user/\",\n                'data':data\n            }); \n        },\n        'verify': function(key){\n            return this.request({\n                'method': \"POST\",\n                'url': \"/registration/verify-email/\",\n                'data': {'key': key} \n            });            \n        },\n        'confirmReset': function(uid,token,password1,password2){\n            return this.request({\n                'method': \"POST\",\n                'url': \"/password/reset/confirm/\",\n                'data':{\n                    'uid': uid,\n                    'token': token,\n                    'new_password1':password1,\n                    'new_password2':password2\n                }\n            });\n        },\n        'authenticationStatus': function(restrict, force){\n            // Set restrict to true to reject the promise if not logged in\n            // Set to false or omit to resolve when status is known\n            // Set force to true to ignore stored value and query API\n            restrict = restrict || false;\n            force = force || false;\n            if(this.authPromise === null || force){\n                this.authPromise = this.request({\n                    'method': \"GET\",\n                    'url': \"/user/\"\n                });\n            }\n            var da = this;\n            var getAuthStatus = $q.defer();\n            if (this.authenticated !== null && !force) {\n                // We have a stored value which means we can pass it back right away.\n                if(this.authenticated === false && restrict){\n                    getAuthStatus.reject(\"User is not logged in.\");\n                }else{\n                    getAuthStatus.resolve();\n                }\n            } else {\n                // There isn't a stored value, or we're forcing a request back to\n                // the API to get the authentication status.\n                this.authPromise.then(function(){\n                    da.authenticated = true;\n                    getAuthStatus.resolve();\n                },function(){\n                    da.authenticated = false;\n                    if(restrict){\n                        getAuthStatus.reject(\"User is not logged in.\");\n                    }else{\n                        getAuthStatus.resolve();\n                    }\n                });\n            }\n            return getAuthStatus.promise;\n        },\n        'initialize': function(url, sessions){\n            this.API_URL = url;\n            this.use_session = sessions;\n            return this.authenticationStatus();\n        },\n        'tokenClear': function () {\n            var djangoAuth = this;\n            delete $http.defaults.headers.common.Authorization;\n            $cookies.remove('token');\n            $cookies.remove('user');\n            djangoAuth.authenticated = false;\n        }\n    };\n    return service;\n  }]);\n\n\n","angular.module('portal')\n.factory('Company', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n\n  var services = {},\n      _companyInfo = $resource(BaseUrl + 'products/companies/:companyID/', {}, {\n        all: { method: 'GET', params: {companyID: 'all'}, isArray: true},\n        detail: { method: 'GET'}\n      }),\n      _companyScores = $resource(BaseUrl + 'profile/scores/company/', {}, {\n        get: { method: 'GET', isArray: true}\n      }),\n      _allScores = $resource(BaseUrl + 'profile/scores/company/all/', {}, {\n        get: { method: 'GET', isArray: true}\n      }),\n      _tags = $resource(BaseUrl + 'tags/etags/list/', {},{\n        all: {method: 'GET', isArray: true}\n      });\n\n  services.detail = function (companyID) {\n    return _companyInfo.detail({companyID: companyID});\n  };\n\n  services.getScores = function (name, success) {\n    return _companyScores.get({name: name, include_object: 'False'}, success);\n  };\n\n  services.allScores = function (success) {\n    return _allScores.get({include_subcategories: 'False'}, success);\n  };\n\n  services.allTags = function (name) {\n    return _tags.all({company: name, no_product: 'True'});\n  };\n\n  services.getAll = function () {\n    return _companyInfo.all();\n  };\n\n  return services;\n\n}]);\n","angular.module('portal')\n.factory('Blog', ['BaseUrl', '$resource', function (BaseUrl, $resource) {\n  var services = {},\n      _blogAPI = $resource(BaseUrl + 'blog/posts/:postID/', {}, {\n        list: {method: 'GET', params: {postID: 'all'}, isArray: true},\n        detail: {method: 'GET'}\n      });\n\n  services.list = function () {\n    return _blogAPI.list();\n  };\n\n  services.getPost = function (postName) {\n    return _blogAPI.detail({postID: postName});\n  };\n\n  return services;\n}]);\n","angular.module('portal')\n.controller('TagListCtrl', ['$scope', 'Tag', 'Scores', function ($scope, Tag, Scores) {\n  // Font Awesome Icons for tag categories\n  $scope.categoryIcons = Scores.getCategoryIcons();\n\n  $scope.tags = Tag.all();\n\n}]);\n\nangular.module('portal')\n.controller('SingleTagCtrl', ['$scope', 'Tag', 'Includes', 'ArrayTools', function ($scope, Tag, Includes, ArrayTools) {\n  $scope.tag_template = Includes.get('tagDetail');\n\n  $scope.editTag = function () {\n    $scope.tag_template = Includes.get('tagForm');\n    $scope.newTag = $.extend({}, $scope.tag);\n   // Get company and category ids\n    $scope.newTag.company = $.grep($scope.companies,function(v) {return v.name === $scope.newTag.company;})[0].id;\n    var category = $.grep($scope.categories,function(v) {return v.name === $scope.newTag.tag_type.subcategory;})[0];\n    $scope.newTag.subcategory = category.id;\n\n    // Add the appropriate tagTypes for that category\n    $scope.tagTypes = category.tag_types;\n    $scope.newTag.tag_type = $scope.tag.tag_type.id;\n\n    // Add the attached product if it exists, otherwise set newTag.products to empty\n    $scope.newTag.products = $scope.tag.product ? [$scope.tag.product] : []\n    $scope.newTag.reference = $scope.reference.id;\n  };\n\n  $scope.tagCancel = function ($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    $scope.tag_template = Includes.get('tagDetail');\n  };\n\n  $scope.tagSubmit = function () {\n    var success = function (response) {\n      $scope.tag = $.extend({}, Tag.parseResponse(response, $scope.newTag.subcategory, $scope.companies, $scope.categories));\n      $scope.tag_template = Includes.get('tagDetail');\n    };\n\n    var failure = function (response) {\n      $scope.error.msg = JSON.stringify(response.data);\n      $scope.error.error = true;\n    };\n\n    // update the product if it exists\n    // then remove the products field\n    if($scope.newTag.products) {\n      if ($scope.newTag.products[0]) {\n        $scope.newTag.product=$scope.newTag.products[0].id;\n      }\n    }\n\n    // copy the from data, strip the products\n    var postData = $.extend({},$scope.newTag);\n    delete postData.products;\n\n    Tag.update(postData, success, failure);\n  };\n\n    // Delete modal info\n  $scope.modalContent = {\n    id: 'tag-delete-' + $scope.tag.id,\n    title: 'Delete This Tag?',\n    body: 'Are you sure you want to delete the tag ' + $scope.tag.company + ': ' + $scope.tag.tag_type.name + '?  This action cannot be undone.',\n    actionName: 'Delete'\n  };\n  $scope.modalTemplate = Includes.get('modal');\n\n  $scope.deleteTag = function () {\n    $('#tag-delete-' + $scope.tag.id).modal('toggle');\n  }\n\n  $scope.modalAction = function () {\n    var success = function (response) {\n      ArrayTools.removeFromList(response, $scope.reference.ethicstags);\n\n      // Code to programmatically dismiss Bootstrap modal overlay\n      $('#tag-delete-' + $scope.tag.id).modal('toggle');\n      $('body').removeClass('modal-open');\n      $('.modal-backdrop').remove();\n    };\n\n    Tag.remove($scope.tag.id, success);\n\n  }\n\n}]);\n\nangular.module('portal')\n.controller('NewTagCtrl', ['$scope', 'Tag', function ($scope, Tag) {\n  $scope.newTag = { id: 0, products: [], reference: $scope.reference.id };\n  $scope.error = {  error: false, msg: \"\" };\n  $scope.state = { showNewTagForm: false };\n\n  $scope.tagCancel = function ($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    $scope.state.showNewTagForm = false;\n  };\n\n  $scope.showTagForm = function () {\n    $scope.newTag = { id: 0, products: [], reference: $scope.reference.id };\n\n    $scope.state.showNewTagForm = true;\n  };\n\n  $scope.tagSubmit = function () {\n    var failure = function (response) {\n      $scope.error.msg = JSON.stringify(response.data);\n      $scope.error.error = true;\n    };\n\n    var success = function (response) {\n      if (response.isArray) {\n        for (var i=0; i < response.length; i++) {\n          Tag.parseResponse(response[i], $scope.newTag.subcategory, $scope.companies, $scope.categories);\n          $scope.reference.ethicstags.push(response[i]);\n        }\n      } else {\n        Tag.parseResponse(response, $scope.newTag.subcategory, $scope.companies, $scope.categories)\n        $scope.reference.ethicstags.push(response);\n      }\n\n      $scope.state.showNewTagForm = false;\n    };\n    \n    Tag.createTag($scope.newTag, success, failure);\n  };\n\n}]);\n\nangular.module('portal')\n.controller('TagFormCtrl', ['$scope', 'Tag', 'BaseUrl', 'ArrayTools', function ($scope, Tag, BaseUrl, ArrayTools) {\n\n\n  $scope.tagFormState = {\n    addTagType: false\n  };\n\n  // Shows the form to add new Tag Type\n  $scope.showNewTagType = function ($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    $scope.tagFormState.addTagType = !$scope.tagFormState.addTagType;\n    $scope.newTagType = { name: '' };\n  };\n\n  $scope.productListUrl = BaseUrl + 'products/products/list/?company_id= ' + $scope.newTag.company + '&name=';\n\n  // remove a product from the list of selected products\n  $scope.removeProduct = function ($event,product) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    ArrayTools.removeFromList(product,$scope.newTag.products);\n  };\n\n  // Switches to the appropriate set of TagTypes when an ethical category is selected\n  $scope.loadFacts = function () {\n    $scope.tagTypes = $.grep($scope.categories,function(v) {return v.id === $scope.newTag.subcategory;})[0].tag_types;\n  };\n\n  // Clear products when the company changes\n  // This enforces the only showing products of the selected company \n  $scope.clearProducts = function () {\n    $scope.productListUrl = BaseUrl + 'products/products/list/?company_id= ' + $scope.newTag.company + '&name=';\n    $scope.newTag.products = [];\n  };\n\n  // function to check for an object by ID\n  function checkForObject (obj, list) {\n    var i;\n    for (i=0; i < list.length; i++) {\n      if( list[i].id === obj.id) {\n        return true\n      }\n    }\n\n    return false;\n  }\n\n  // function for adding a product\n  $scope.selectedProduct = function ($item) {\n    // check if item is already in the array\n    if(checkForObject($item.originalObject,$scope.newTag.products)) {\n        // if product already added, raise error\n        $scope.error.msg = \"That product has already been selected\";\n        $scope.error.error = true;\n    } else {\n        // otherwise, add the product to the array\n        $scope.newTag.products.push($item.originalObject);\n        $scope.error.error = false;\n    }\n  };\n}]);\n","angular.module('portal')\n.controller('GeneralSearchFormCtrl', ['$scope', '$location', function ($scope, $location) {\n\n  $scope.generalSearch = function () {\n    if ($scope.search.query) {\n      $location.path('search/general/' + $scope.search.query);\n    }\n  };\n}]);\n\nangular.module('portal')\n.controller('GeneralSearchCtrl', ['$scope', 'Includes', function ($scope, Includes) {\n  $scope.generalSearchForm = Includes.get('generalSearchForm');\n}]);\n\nangular.module('portal')\n.controller('SearchResultsCtrl', ['$scope', 'Search', '$routeParams', '$location', '$anchorScroll', function ($scope, Search, $routeParams, $location, $anchorScroll) {\n  $scope.search = { query: $routeParams.searchQuery };\n  $scope.state = { loading: true };\n\n  var searchSuccess = function (response) {\n    $scope.state.loading = false;\n    \n    delete response.$promise;\n    delete response.$resolved;\n\n    $scope.results = response;\n    $scope.result_keys = Object.keys(response);\n    $scope.results.products = $scope.results.products.map(function (obj) {\n      return { id: obj.id, text: obj.text.split('\\n') };\n    });\n    $scope.results.references = $scope.results.references.map(function (obj) {\n      return { id: obj.id, text: obj.text.split('\\n') };\n    });\n  };\n\n  Search.general($routeParams.searchQuery, searchSuccess);\n\n  $scope.goToHash = function (hash) {\n\n    $anchorScroll(hash);\n  };\n}]);\n","angular.module('portal')\n.controller('AllReferenceCtrl', ['$scope', 'Reference', '$filter', function ($scope, Reference, $filter) {\n  // Reference Parsing from server\n  var referencesFetched = function (response) {\n\n    var references = response.map(function (obj) {\n      if (obj.metatags.length > 0) { obj.header_text = 'Marked As Having No Data'; }\n      else {\n        if (obj.ethicstags.length > 0) { obj.header_text = obj.ethicstags.length + ' Data Points'; }\n        else { obj.header_text = 'Not Yet Analyzed'; }\n      }\n\n      return obj;\n    });\n\n    $scope.references = references;\n  };\n\n  Reference.all(referencesFetched);\n\n  // Filtering\n  $scope.filtering = {\n    includeTagged: true,\n    includeUntagged: true,\n    includeNoData: false,\n    text: \"\"\n  };\n\n  $scope.filterReferences = function (item) {\n    var _checkTagged = $scope.filtering.includeTagged || item.ethicstags.length === 0;\n    var _checkUntagged = $scope.filtering.includeUntagged || item.ethicstags.length >  0;\n    var _checkNoData = $scope.filtering.includeNoData || item.metatags.length === 0;\n    var _checkText = item.title.toLowerCase().indexOf($scope.filtering.text.toLowerCase()) > -1 ||\n                     item.notes.toLowerCase().indexOf($scope.filtering.text.toLowerCase()) > -1;\n    return _checkText && _checkNoData && _checkUntagged && _checkTagged; \n  };\n\n    \n}]);\n\nangular.module('portal')\n.controller('ReferenceDetailCtrl', ['$scope', 'Reference', '$routeParams', 'Includes', 'Meta', function ($scope, Reference, $routeParams, Includes, Meta) {\n  $scope.reference = Reference.get($routeParams.referenceID);\n  $scope.error = {error: false, msg: \"\"};\n  $scope.referenceModal = Includes.get('modal');\n\n  $scope.reference_template = Includes.get('referenceDetail');\n  $scope.tagForm = Includes.get('tagForm');\n\n  $scope.editReference = function () {\n    $scope.reference_template = Includes.get('referenceForm');\n    $scope.tempReference = {\n      title: $scope.reference.title,\n      url: $scope.reference.url,\n      id: $scope.reference.id,\n      notes: $scope.reference.notes\n    };\n  };\n\n  $scope.referenceCancel = function ($event) {\n    $event.stopPropagation();\n    $event.preventDefault();\n    $scope.reference_template = Includes.get('referenceDetail');\n  };\n\n  Meta.query(function (data, response) {\n    $scope.companies = data[0].company;\n    $scope.categories = data[1].ethicssubcategory;\n  });\n\n  $scope.referenceSubmit = function () {\n    var success = function (response) {\n      $scope.reference.title = response.title;\n      $scope.reference.url = response.url;\n      $scope.reference.notes = response.notes;\n\n      $scope.reference_template = Includes.get('referenceDetail');\n    };\n\n    var failure = function (response) {\n      $scope.error.msg = JSON.stringify(response.data);\n      $scope.error.error = true;\n    };\n\n    Reference.update($scope.tempReference, success, failure);\n  }\n\n}]);\n\nangular.module('portal')\n.controller('NewReferenceCtrl', ['$scope', 'Reference', 'Includes', function ($scope, Reference, Includes) {\n  $scope.referenceForm = Includes.get('referenceForm');\n\n  $scope.error = {error: false,\n                  msg: \"\"};\n  $scope.success = {success: false,\n                    msg: \"Your article has been sucessfully submitted\"};\n    \n  $scope.tempReference = {\n      id: 0,\n      url: \"\",\n      title: \"\",\n      notes: \"\"\n    };\n\n  $scope.referenceSubmit = function () {\n    var success = function (data, response) {\n      $scope.tempReference = {\n        id: 0,\n        url: \"\",\n        title: \"\",\n        notes: \"\"\n      };\n      $scope.error.error = false;\n      $scope.success.success = true;\n    };\n\n    var failure = function (response) {\n      $scope.error.msg = JSON.stringify(response.data);\n      $scope.error.error = true;\n      $scope.success.success = false;\n    };\n\n    Reference.create($scope.tempReference, success, failure);\n  };\n}]);\n\nangular.module('portal')\n.controller('ReferenceDeleteCtrl', ['$scope', 'Reference', '$location', function ($scope, Reference, $location) {\n  $scope.modalContent = {\n    id: 'reference-delete',\n    title: 'Delete This Source?',\n    body: 'Are you sure you want to delete the source ' + $scope.reference.title + '?  This action cannot be undone.',\n    actionName: 'Delete'\n  };\n\n  $scope.modalAction = function () {\n    var success = function () {\n      // Code to programmatically dismiss Bootstrap modal overlay\n      $('#reference-delete').modal('toggle');\n      $('body').removeClass('modal-open');\n      $('.modal-backdrop').remove();\n\n      $location.path('/references/deleted');\n    }\n\n    Reference.remove($scope.reference.id, success);\n  }\n}]);\n","angular.module('portal')\n.controller('ProfileCtrl', ['$scope', 'Preference', function ($scope, Preference) {\n  $scope.preferences = Preference.getAll();\n\n  $scope.options = [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5];\n}]);\n\nangular.module('portal')\n.controller('SinglePrefCtrl', ['$scope', 'Preference', function ($scope, Preference) {\n  $scope.showPrefForm = false;\n\n  $scope.openPrefForm = function () {\n    $scope.showPrefForm = true;\n\n    $scope.newPref = $.extend({}, $scope.fact);\n  };\n\n  $scope.closePrefForm = function ($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    $scope.showPrefForm = false;\n  };\n\n  $scope.updatePref = function () {\n    var prefSuccess = function (response) {\n      $scope.fact.preference = response.preference;\n\n      $scope.showPrefForm = false;\n    };\n\n    Preference.update($scope.newPref, prefSuccess);\n  };\n}]);\n\nangular.module('portal')\n.controller('InitialCtrl', ['$scope', 'Question', '$location', function ($scope, Question, $location) {\n  $scope.questions = Question.allWithAnswers();\n\n  $scope.selected = {};\n\n  $scope.answerQuestions = function () {\n    var answers = $scope.questions\n      .filter(function (obj) { return obj.selected; })\n      .map(function (obj) { return +obj.selected; });\n\n    if (answers.length === $scope.questions.length) {\n      var success = function (response) {\n        $location.path('/thanks');\n      };\n\n      $scope.error = \"\";\n      Question.initialAnswers(answers, success);\n    } else {\n      $scope.error = \"Please select an answer for each question.\";\n    }\n  };\n\n\n}]);\n","angular.module('portal')\n.controller('ProductDetailCtrl', ['$scope', 'Product', 'Company', '$routeParams', 'Scores', function ($scope, Product, Company, $routeParams, Scores) {\n\n  // get name of the current company\n  var productID = $routeParams.productID;\n\n  // Font Awesome Icons for tag categories\n  $scope.categoryIcons = Scores.getCategoryIcons();\n\n  // Dummy Blank Data for score charts\n  $scope.scores = [\n    {\n      'category' : '',\n      'scores': []\n    }\n  ];\n  \n  // API Calls \n  var parseScores = function (response) {\n    $scope.scores = Scores.parseSingleScores(response);\n  };\n\n  Product.getScores(productID, parseScores);\n\n  var countTags = function (response) {\n    var count = 0;\n    for (var i=0; i < response.length; i++) {\n      count += response[i].tags.length;\n    }\n    $scope.product_tag_count = count;\n  };\n\n  $scope.product_tags = Product.allTags(productID, countTags);\n\n  var productFollowUp = function (response) {\n    $scope.product = response;\n\n    $scope.company_tags = Company.allTags(response.company);\n  };\n\n  Product.detail(productID, productFollowUp);\n\n}]);\n\nangular.module('portal')\n.controller('ProductSearchCtrl', ['$scope', 'Product', 'Company', 'Includes', function ($scope, Product, Company, Includes) {\n  $scope.companies = Company.getAll();\n  $scope.divisions = Product.getDivisions();\n  $scope.categories = Product.getCategories();\n  $scope.productFormTemplate = Includes.get('productForm');\n  $scope.state = { \n    priceRange: true,\n    showToggle: true,\n    loading: false,\n    searched: false\n  };\n  $scope.results = [];\n\n  // emptying product\n  function resetTemp () {\n    $scope.tempProduct = {\n        name: \"\",\n        company_id: \"\",\n        division: undefined,\n        category: undefined,\n        price_0: \"\",\n        price_1: \"\",\n    };\n  }\n\n  resetTemp();\n\n  $scope.clearForm = function ($event) {\n    $event.stopPropagation();\n    $event.preventDefault();\n\n    $scope.results = [];\n    $scope.state.searched = false;\n    resetTemp();\n  };\n\n  $scope.productSubmit = function () {\n    var productSuccess = function (response) {\n      $scope.state.loading = false;\n      $scope.results = response.products; \n    };\n    \n    $scope.state.loading = true;\n    $scope.state.searched = true;\n    Product.list($scope.tempProduct, productSuccess);\n  };\n}]);\n\nangular.module('portal')\n.controller('ProductFormCtrl', ['$scope', function ($scope) {\n  $scope.toggleCollapse = function ($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    \n    $scope.toggleOpen = !$scope.toggleOpen;\n    $('#productFormCollapse').collapse('toggle'); \n  };\n}]);\n\nangular.module('portal')\n.controller('ProductAutoCtrl', ['$scope', function ($scope) {\n\n}]);\n","angular.module('portal')\n.controller('MasterCtrl', ['$scope', 'djangoAuth', '$location', 'LinkStore', function ($scope, djangoAuth, $location, LinkStore) {\n  var expires = {};\n\n  // Assume user is not logged in until we hear otherwise\n  $scope.authenticated = false;\n  // Wait for the status of authentication, set scope var to true if it resolves\n  $scope.user = {'username':'','first_name':'','last_name':'','email':''};\n\n\n    // Wait for the status of authentication, set scope var to true if it resolves\n    djangoAuth.authenticationStatus(true).then(function(){\n        $scope.authenticated = true;\n        djangoAuth.profile();\n    });\n\n    // Wait and respond to the logout event.\n    $scope.$on('djangoAuth.logged_out', function() {\n      $scope.authenticated = false;\n      $scope.user = {'username':'','first_name':'','last_name':'','email':''};\n    });\n\n    // Wait and respond to the log in event.\n    $scope.$on('djangoAuth.logged_in', function() {\n      $scope.authenticated = true;\n      djangoAuth.profile();\n    });\n\n    $scope.$on('djangoAuth.set_profile', function (event, data) {\n        $scope.user = data;\n\n        if (!$scope.user.initial_answers) {\n          $location.path('/initial');\n        }\n    });\n\n    // If the user attempts to access a restricted page, redirect to login page with error.\n    $scope.$on('$routeChangeError', function(ev, current, previous, rejection){\n      console.error(\"Unable to change routes.  Error: \", rejection);\n      LinkStore.set(previous.$$route.originalPath);\n      $location.path('/forbidden');\n    });\n\n    $scope.logout = function(){\n      djangoAuth.logout();\n    };\n}]);\n","angular.module('portal')\n.controller('RecentCtrl', ['$scope', 'Landing', function ($scope, Landing) {\n  $scope.search = { query: '' };\n\n  var populateRecent = function (response) {\n    $scope.events = response[2].events;\n    $scope.tags = response[1].tags;\n    $scope.posts = response[0].posts;\n\n    for (var i=0; i<$scope.tags.length; i++) {\n      $scope.tags[i].link = $scope.tags[i].product ? '#/products/detail/' + $scope.tags[i].product.id : '#/companies/detail/' + $scope.tags[i].company.replace(' ', '-');\n    }\n  };\n\n  Landing.recentData(populateRecent);\n}]);\n\n\n","angular.module('portal')\n.controller('CompanyDetailCtrl', ['$scope', 'Company', '$routeParams', 'Scores', function ($scope, Company, $routeParams, Scores) {\n\n  // get name of the current company\n  var name = $routeParams.companyName.replace('-', ' ');\n\n  // Font Awesome Icons for tag categories\n  $scope.categoryIcons = Scores.getCategoryIcons();\n\n\n  // Convert data to usable form\n  var parseScores = function (response) {\n    $scope.scores = Scores.parseSingleScores(response);\n  };\n\n  // Dummy Blank Data for score charts\n  $scope.scores = [\n    {\n      'label' : '',\n      'scores': []\n    }\n  ];\n  \n  // API Calls \n  Company.getScores(name, parseScores);\n  $scope.company = Company.detail(name);\n  $scope.tags = Company.allTags(name);\n\n}]);\n\nangular.module('portal')\n.controller('CompanyAllCtrl', ['$scope', 'Company', 'Scores', function ($scope, Company, Scores) {\n  $scope.loading = true;\n  $scope.companies = Company.getAll();\n\n  $scope.filterProps = {\n    showGeneric: true,\n    ordering: \"alphabetic\"\n  };\n\n  var _scores;\n\n  // Dummy Blank Data for score charts\n  $scope.scores = [\n    {\n      'label' : '',\n      'scores': []\n    }\n  ];\n\n  // Sorting and Filtering\n  function getUserScore(obj, user_name) {\n    return obj.scores.filter(function (x) {return x.user === user_name;})[0].score;\n  }\n\n  function sortByUserScore(user_name) {\n    return function (a, b) {\n      if (getUserScore(a, user_name) > getUserScore(b, user_name)) { return -1; }\n      if (getUserScore(b, user_name) > getUserScore(a, user_name)) { return 1; }\n      return 0;\n    };\n  }\n\n  function sortByLabel(a, b) {\n    return a.label.localeCompare(b.label);\n  }\n\n  $scope.sortScores = function () {\n    if ($scope.filterProps.ordering === 'alphabetic') { $scope.scores.sort(sortByLabel); }\n    else { $scope.scores.sort(sortByUserScore($scope.filterProps.ordering)); }\n  };\n\n  $scope.filterScores = function () {\n    // filter out the generics if required\n    var scores = $scope.filterProps.showGeneric ? _scores : _scores.map(function (obj) {\n      return {\n        'label': obj.label,\n        'scores': obj.scores.filter(function (obj) { \n          return obj.user !== 'Generic_Conservative' && obj.user !== 'Generic_Liberal';\n        }) \n      }\n    });\n    $scope.scores = scores;\n  };\n\n\n  var parseScores = function (response) {\n    $scope.loading = false;\n    _scores = Scores.parseMultiScores(response);\n    $scope.scores = _scores;\n  };\n\n  Company.allScores(parseScores);\n}]);\n","angular.module('portal')\n.controller('BlogDetailCtrl', ['$scope', 'Blog', '$routeParams', function ($scope, Blog, $routeParams) {\n  $scope.post = Blog.getPost($routeParams.postName);\n}]);\n\nangular.module('portal')\n.controller('BlogListCtrl', ['$scope', 'Blog', function ($scope, Blog) {\n  $scope.posts = Blog.list();\n}]);\n","angular.module('portal')\n.controller('ProfilePageCtrl',['$scope','$cookies',function ($scope,$cookies) {\n\n  $scope.model = $cookies.getObject('user') || $.extend({},$scope.user);\n}]);\n\n\nangular.module('portal')\n.controller('UserprofileCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.updateProfile = function(formData, model){\n      $scope.errors = [];\n\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.updateProfile(model)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.error = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('LoginCtrl', ['$scope','$location','djangoAuth','Validate',function ($scope, $location, djangoAuth, Validate) {\n    $scope.login = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.login($scope.model.username, $scope.model.password)\n        .then(function(data){\n          // success case\n          $location.path(\"/\");\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('PasswordchangeCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.model = {'new_password1':'','new_password2':''};\n    $scope.complete = false;\n    $scope.changePassword = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.changePassword($scope.model.new_password1, $scope.model.new_password2)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    };\n  }]);\n\n\nangular.module('portal')\n.controller('RegisterCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.model = {'email':'','password':''};\n    $scope.complete = false;\n    $scope.register = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.register(\n            $scope.model.username,\n            $scope.model.password1,\n            $scope.model.password2,\n            $scope.model.email\n        )\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('VerifyemailCtrl', ['$scope','$routeParams','djangoAuth',function ($scope, $routeParams, djangoAuth) {\n    djangoAuth.verify($routeParams.emailVerificationToken).then(function(data){\n      $scope.success = true;\n    },function(data){\n      $scope.failure = false;\n    });\n  }]);\n\nangular.module('portal')\n.controller('PasswordresetCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.model = {'email':''};\n    $scope.complete = false;\n    $scope.resetPassword = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.resetPassword($scope.model.email)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('UserprofileCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.complete = false;\n    $scope.model = $.extend({}, $scope.user);\n    console.log($scope.user);\n    $scope.updateProfile = function(formData, model){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.updateProfile(model)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.error = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('PasswordresetconfirmCtrl', ['$scope','$routeParams','djangoAuth','Validate',function ($scope, $routeParams, djangoAuth, Validate) {\n    $scope.model = {'new_password1':'','new_password2':''};\n    $scope.complete = false;\n    $scope.confirmReset = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.confirmReset($routeParams.firstToken, $routeParams.passwordResetToken, $scope.model.new_password1, $scope.model.new_password2)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('ForbiddenCtrl', ['$scope', 'LinkStore', function ($scope, LinkStore) {\n  $scope.backLink = LinkStore.get();\n}]);\n","angular.module('portal')\n.directive('barsLegend', ['$window', function ($window) {\n  return {\n    restrict: 'EA',\n    scope: {\n      data: '='\n    },\n    link: function (scope, element, attrs) {\n      var legendClass = attrs.legendClass || 'bar-legend',\n          width = attrs.legendWidth || 300,\n          boxHeight = attrs.boxHeight || 20,\n          boxPadding = attrs.boxPadding || 10,\n          marginTop = attrs.marginTop || 20,\n          marginBottom = attrs.marginBottom || 20,\n          marginLeft = attrs.marginLeft || 20,\n          marginRight = attrs.marginRight || 20,\n          legendAttr = attrs.legendAttr || 'user';\n\n      var svg = d3.select(element[0])\n        .append('svg')\n        .attr('width', width);\n\n      // watch for data changes and re-render\n      scope.$watch('data', function(newVals, oldVals) {\n        return scope.render(newVals);\n      }, true);\n\n      scope.render = function (data) {\n        svg.selectAll('*').remove();\n\n        var height = data[0].scores.length * boxHeight + (data[0].scores.length - 1) * boxPadding +  marginTop + marginBottom;\n\n        svg.attr('height', height)\n          .attr('class', legendClass);\n\n        var row = svg.selectAll('g')\n          .data(data[0].scores).enter()\n          .append('g')\n          .attr('transform', function (d, i) {\n            return 'translate(' + marginLeft + ',' + (marginTop + i * (boxPadding + boxHeight)) + ')';\n          });\n\n        var boxes = row.append('rect')\n          .attr('x', 0)\n          .attr('y', 0)\n          .attr('width', boxHeight)\n          .attr('height', boxHeight)\n          .attr('class', function (d) {\n            return 'horizontal-bar ' + d.user.replace('_', '-');\n          });\n\n        var text = row.append('text')\n          .attr('x', boxHeight + boxPadding)\n          .attr('y', boxHeight)\n          .attr('dy', '-.35em')\n          .text(function (d) {\n            return d.user.substr(0,7) === 'Generic' ? d.user.replace('_', ' ') : 'YOU';\n          });\n\n      };\n    }\n  };\n}]);\n","angular.module('portal')\n.directive('horizontalBars', ['$window', 'chartUtils', function ($window, chartUtils) {\n  return {\n    restrict: 'E',\n    scope: {\n      data: '=' \n    },\n    link: function(scope, element, attrs) {\n      // attribute settings: can be re-defined on object\n      var marginTop = parseInt(attrs.marginTop) || 70,\n          marginBottom = parseInt(attrs.marginBottom) || 50,\n          barHeight = parseInt(attrs.barHeight) || 20,\n          barPadding = parseInt(attrs.barPadding) || 5,\n          barClass = attrs.barClass || 'horizontal-bar',\n          titleClass = attrs.titleClass || 'horizontal-bar-title',\n          appendNameToClass = attrs.appendName ? attrs.appendName === 'true' : true,\n          chartGap = parseInt(attrs.chartGap) || 20,\n          titleSpace = parseInt(attrs.titleSpace) || 120,\n          linkText = attrs.linkText || false;\n\n\n      var svg = d3.select(element[0])\n        .append('svg')\n        .style('width', '100%');\n\n      // Browser resize event\n      window.onresize = function () {\n        scope.$apply();\n      };\n\n\n      // re-render data on resize\n      scope.$watch(function () {\n        return angular.element($window)[0].innerWidth;\n      }, function () {\n        scope.render(scope.data);\n      });\n\n\n      // watch for data changes and re-render\n      scope.$watch('data', function(newVals, oldVals) {\n        return scope.render(newVals);\n      }, true);\n\n\n      // Elements that should be (re)-drawn on every render\n      scope.render = function (data) {\n        svg.selectAll('*').remove();\n\n        // Calculated values\n        var nodeWidth = d3.select(element[0]).node().offsetWidth,\n            height = data.length * (chartGap + data[0].scores.length * (barHeight + barPadding)),\n            marginLeft = nodeWidth > 768 ? parseInt(attrs.marginLeft) || 10 : 10,\n            marginRight = nodeWidth > 768 ? parseInt(attrs.marginRight) || 50 : 20,\n            width = nodeWidth - marginLeft - marginRight - titleSpace,\n            xScale = d3.scale.linear()\n              .domain([0, 5])\n              .range([0, width/2]), \n            xAxis = d3.svg.axis()\n              .scale(d3.scale.linear().domain([-5, 5]).range([0, width]))\n              .tickValues([-5,-4,-3,-2,-1,0,1,2,3,4,5])\n              .tickSize(height - chartGap)\n              .orient('top'),\n            chartHeight = data[0].scores.length * (barHeight + barPadding);\n\n        svg.attr('height', height + marginTop + marginBottom);\n        \n        /*\n        var darkerHalf = svg.append('rect')\n          .attr('x', titleSpace + marginLeft)\n          .attr('y', marginTop)\n          .attr('width', width/2)\n          .attr('height', height)\n          .attr('class', 'negative-back');\n        */\n\n        // Axes\n        var axis = svg.append('g')\n          .attr('transform', 'translate(' + (titleSpace + marginLeft) + ',' + (height + marginTop - chartGap) + ')')\n          .attr(\"class\", \"x axis\")\n          .call(xAxis);\n\n        axis.selectAll('text')\n          .attr('dy', -5);\n\n        // Wrapper to enforce margins\n        var wrapper = svg.append('g')\n          .attr('width', width)\n          .attr('height', height)\n          .attr('transform', 'translate(' + (titleSpace + marginLeft) + ',' + marginTop + ')')\n          .attr('class','chart-wrapper');\n\n\n        // For each subset of data, create a group and move to the appropriate position\n        var charts = wrapper.selectAll('g.chart')\n          .data(data).enter();\n\n        if (linkText) {\n          charts = charts.append('a')\n          .attr('xlink:href',function (d) {\n            return linkText + d.label.replace(' ', '-');\n          });\n        }\n\n        charts = charts.append('g').attr('class', 'chart')\n            .attr('transform', function (d, i) {\n              return 'translate(0, ' + (i * (chartGap + chartHeight)) + ')'; \n            });\n\n\n        // Axis whiteout\n        charts.append('rect')\n          .attr('class', 'whiteout')\n          .attr('width', width)\n          .attr('height', chartGap)\n          .attr('x', 0)\n          .attr('y', chartHeight);\n\n\n        // Individual Chart Wrapper\n        charts.append('rect')\n          .attr('class', titleClass + '-rect')\n          .attr('width', width)\n          .attr('height', data[0].scores.length * (barHeight + barPadding))\n          .attr('x', 0)\n          .attr('y', 0);\n\n\n        // Section Labels\n        var labels = charts.append('text')\n          .attr('text-anchor', 'end')\n          .attr('x', -5)\n          .attr('y', function (d,i) {\n            return (chartHeight/2);\n          })\n          .attr('dy','.35em')\n          .attr('class', titleClass)\n          .call(chartUtils.wrap, titleSpace); \n\n        labels.call(chartUtils.wrap, titleSpace);\n\n        // Draw Hoziontal Bars for each subset of data\n        var bars = charts.selectAll('rect.bar')\n          .data(function (d) { return d.scores; }).enter()\n          .append('rect')\n          .attr('class', function (d) {\n            return appendNameToClass ? 'bar ' + barClass + ' ' + d.user.replace('_', '-') : 'bar ' + barClass;\n          })\n          .attr('height', barHeight)\n          .attr('width', 0)\n          .attr('x', width/2)\n          .attr('y', function (d, i) {\n            return barPadding/2 + i * (barHeight + barPadding);\n          });\n\n\n        var scoresText = charts.selectAll('text.score-text')\n          .data(function (d) { return d.scores; }).enter()\n          .append('text')\n          .attr('class', function (d) { \n            return appendNameToClass ? 'score-text ' + d.user.replace('_', '-') : 'score-text';\n          })\n          .attr('text-anchor', function (d) {\n            var anchor;\n\n            if (d.score < 0) {\n              anchor = 'end';\n            } else {\n              if (d.score > 0) {\n                anchor = 'start';\n              } else {\n                anchor = 'middle';\n              }\n            }\n            \n            return anchor;  \n          })\n          .attr('y', function (d, i) {\n            return barPadding/2 + barHeight/2 + i * (barHeight + barPadding);\n          })\n          .attr('dy','.35em')\n          .attr('x', function (d) {\n            var dist = xScale(Math.abs(d.score)),\n                pos = width/2;\n\n            if (d.score < 0) pos -= dist + 5;\n            if (d.score > 0) pos += dist + 5;\n            \n            return pos; \n          })\n          .text(function (d) {\n            return d.score; \n          });\n          \n\n        // Animate Bars\n        bars.transition()\n          .duration(1000)\n          .attr('x', function (d) {\n            return d.score < 0 ? width/2 - xScale(Math.abs(d.score)) : width/2;\n          })\n          .attr('width', function (d) {\n            return xScale(Math.abs(d.score)); \n          });\n\n      };\n\n    }\n  };\n\n}]);\n","angular.module('portal')\n.directive('convertToNumber', function() {\n  return {\n    require: 'ngModel',\n    link: function(scope, element, attrs, ngModel) {\n      ngModel.$parsers.push(function(val) {\n        return parseInt(val, 10);\n      });\n      ngModel.$formatters.push(function(val) {\n        return '' + val;\n      });\n    }\n  };\n});\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/tag_form.html',\n    '<div class=\"tag-form\" ng-controller=\"TagFormCtrl\"><h3 class=\"text-danger\" ng-show=\"error.error\">{{error.msg}}</h3><form ng-submit=\"tagSubmit()\" class=\"form-white\"><div class=\"form-group\"><label for=\"{{\\'companies\\' + reference.id}}\">COMPANY:</label><div class=\"fa-label\"><select ng-model=\"newTag.company\" class=\"form-control\" ng-options=\"company.id as company.name for company in companies\" ng-change=\"clearProducts()\"><option value=\"\">---- Select Company ----</option></select></div></div><div class=\"form-group\" ng-controller=\"ProductAutoCtrl\" ng-show=\"newTag.company\"><angucomplete-alt id=\"{{\\'products\\' + reference.id}}\" placeholder=\"Select a Product\" pause=\"400\" selected-object=\"selectedProduct\" remote-url=\"{{productListUrl}}\" remote-url-data-field=\"products\" title-field=\"name\" input-class=\"form-control\" template-url=\"templates/includes/product_autoinclude.html\" clear-selected=\"true\"></div><div class=\"form-group\"><div class=\"btn-group addedProducts\" role=\"group\" ng-repeat=\"product in newTag.products\"><button class=\"btn btn-sm btn-white-hoverless\">{{product.name}}</button> <button class=\"btn btn-sm btn-white\" ng-click=\"removeProduct($event,product)\"><i class=\"fa fa-times\"></i></button></div></div><div class=\"form-group\"><label for=\"{{\\'categories\\' + reference.id}}\">CATEGORY:</label><div class=\"fa-label\"><select ng-model=\"newTag.subcategory\" class=\"form-control\" ng-options=\"category.id as category.name group by category.category for category in categories\" ng-change=\"loadFacts()\"><option value=\"\">---- Select Ethics Category ----</option></select></div></div><div class=\"form-group\"><label for=\"{{\\'companies\\' + reference.id}}\">TAG TYPE:</label><div class=\"fa-label\"><select ng-model=\"newTag.tag_type\" class=\"form-control\" ng-options=\"tagType.id as tagType.name for tagType in tagTypes\"><option value=\"\">---- Select Tag Type ----</option></select></div><p class=\"help-block\">Don\\'t see the tag you want? <a ng-click=\"showNewTagType($event)\">Add it!</a></p></div><div class=\"form-group\" ng-show=\"tagFormState.addTagType\"><label for=\"{{\\'newTagType\\' + reference.id}}\">NEW TAG TYPE:</label><input type=\"text\" ng-model=\"newTagType.name\" class=\"form-control\" placeholder=\"Enter Your New Tag Here\" id=\"{{\\'newTagType\\' + reference.id}}\"> <button class=\"btn btn-white\" ng-click=\"submitTagType($event)\">Add Tag Type</button></div><div class=\"form-group\" ng-show=\"newTag.tag_type\"><label for=\"{{\\'NewTagValue\\' + reference.id}}\">VALUE (Only for relevant tags):</label><input type=\"text\" ng-model=\"newTag.value\" class=\"form-control\" placeholder=\"Enter amount for tag modifier\" id=\"{{\\'NewTagValue\\' + reference.id}}\"></div><div class=\"form-group\"><label for=\"{{\\'excerpt\\' + reference.id}}\">EXCERPT:</label><textarea rows=\"3\" ng-model=\"newTag.excerpt\" name=\"notes\" id=\"{{\\'excerpt\\' + reference.id}}\" class=\"form-control\"></textarea></div><input type=\"submit\" class=\"btn btn-white\" value=\"Submit\"> <button class=\"btn btn-white\" ng-click=\"tagCancel($event)\">Cancel</button></form></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/tag_detail.html',\n    '<div class=\"reference-company-icon\"><a href=\"#/companies/detail/{{ tag.company.replace(\\' \\', \\'-\\') }}\"><img src=\"img/Logos/{{ tag.company.replace(\\' \\', \\'-\\') }}-small-white.png\" class=\"brand-thumbnail\"></a></div><h4 class=\"tag-type\"><strong>{{ tag.tag_type.name }}<span ng-show=\"tag.value\">: {{tag.value}}</span></strong> <span class=\"text-muted\">({{ tag.tag_type.subcategory }})</span></h4><p class=\"text-muted\">\"{{ tag.excerpt }}\"</p><div class=\"tag-buttons\" ng-show=\"authenticated\"><button class=\"btn btn-borderless\" ng-click=\"editTag()\"><i class=\"fa fa-edit\"></i> Edit Tag</button> <button class=\"btn btn-borderless\" ng-click=\"deleteTag()\"><i class=\"fa fa-times\"></i> Delete Tag</button></div><div ng-include=\"modalTemplate\"></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/reference_form.html',\n    '<div class=\"reference-form form-black\"><h3 class=\"text-danger\" ng-show=\"error.error\">{{error.msg}}</h3><h3 class=\"text-success\" ng-show=\"success.success\">{{success.msg}}</h3><form ng-submit=\"referenceSubmit()\"><div class=\"form-group\"><label for=\"{{\\'title\\' + reference.id}}\">TITLE:</label><input type=\"text\" id=\"{{\\'title\\' + reference.id}}\" ng-model=\"tempReference.title\" name=\"title\" class=\"form-control\"></div><div class=\"form-group\"><label for=\"{{\\'url\\' + reference.id}}\">URL:</label><input type=\"text\" id=\"{{\\'url\\' + reference.id}}\" ng-model=\"tempReference.url\" name=\"url\" class=\"form-control\"></div><div class=\"form-group\"><label for=\"{{\\'notes\\' + reference.id}}\">NOTES:</label><textarea rows=\"3\" ng-model=\"tempReference.notes\" name=\"notes\" id=\"{{\\'notes\\' + article.id}}\" class=\"form-control\"></textarea></div><input type=\"submit\" class=\"btn btn-black\" value=\"Submit\"> <button class=\"btn btn-black\" ng-click=\"referenceCancel($event)\">Cancel</button></form></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/reference_detail.html',\n    '<dl class=\"dl-horizontal reference-detail-title\"><dt>Title:</dt><dd>{{ reference.title }}</dd><dt>Url:</dt><dd><a href=\"{{ reference.url }}\" target=\"_newtab\">{{ reference.url }}</a></dd><dt>Notes:</dt><dd>{{ reference.notes }}</dd><dt class=\"text-muted\"><em>Added By:</em></dt><dd class=\"text-muted\"><em>{{ reference.added_by }}</em></dd></dl><div class=\"reference-detail-buttons\" ng-show=\"authenticated\"><button class=\"btn btn-black\" ng-click=\"editReference()\">Edit Reference</button> <button class=\"btn btn-black\" data-toggle=\"modal\" data-target=\"#reference-delete\">Delete Reference</button></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/product_form.html',\n    '<div ng-controller=\"ProductFormCtrl\"><h3 class=\"text-danger\" ng-show=\"error\">{{error.msg}}</h3><h3 class=\"text-danger\" ng-repeat=\"error in errors.non_field_errors\">{{error}}</h3><h3 class=\"text-success\" ng-show=\"success\">{{success}}</h3><form class=\"form-black\" ng-submit=\"productSubmit()\"><div class=\"form-group\"><h3 class=\"text-danger\" ng-repeat=\"error in errors.name\">{{error}}</h3><label for=\"{{\\'name\\' + product.id}}\">NAME:</label><input type=\"text\" id=\"{{\\'name\\' + product.id}}\" ng-model=\"tempProduct.name\" name=\"title\" class=\"form-control\" placeholder=\"Product Name\"></div><div id=\"productFormCollapse\" class=\"collapse\"><div class=\"form-group\"><label for=\"{{\\'companies\\' + product.id}}\">COMPANY:</label><select ng-model=\"tempProduct.company_id\" class=\"form-control\" ng-options=\"company.id as company.name for company in companies\"><option value=\"\">---- Select Company ----</option></select></div><div class=\"form-group\"><h3 class=\"text-danger\" ng-repeat=\"error in errors.division\">{{error}}</h3><label for=\"{{\\'division\\' + product.id}}\">DIVISION:</label><select id=\"{{\\'division\\' + product.id}}\" ng-model=\"tempProduct.division\" class=\"form-control\"><option value=\"\">---- Select Division (Optional) ----</option><option ng-repeat=\"division in divisions\" value=\"{{division}}\">{{division}}</option></select></div><div class=\"form-group\"><h3 class=\"text-danger\" ng-repeat=\"error in errors.category\">{{error}}</h3><label for=\"{{\\'category\\' + product.id}}\">CATEGORY:</label><select id=\"{{\\'category\\' + product.id}}\" ng-model=\"tempProduct.category\" class=\"form-control\"><option value=\"\">---- Select Category (Optional) ----</option><option ng-repeat=\"category in categories\" value=\"{{category}}\">{{category}}</option></select></div><div class=\"form-group\" ng-if=\"!state.priceRange\"><label for=\"{{\\'price\\' + product.id}}\">PRICE:</label><h3 class=\"text-danger\" ng-repeat=\"error in errors.price\">{{error}}</h3><div class=\"left-inner-addon\"><span>$</span> <input type=\"text\" id=\"{{\\'price\\' + product.id}}\" ng-model=\"tempProduct.price\" name=\"title\" class=\"form-control\" placeholder=\"if a range is listed, give the cheapest value\"></div></div><div class=\"form-group\" ng-if=\"state.priceRange\"><label for=\"{{\\'price\\' + product.id}}\">PRICE (may not reflect price in stores):</label><h3 class=\"text-danger\" ng-repeat=\"error in errors.price\">{{error}}</h3><div class=\"col-xs-12 form-sub-group\"><div class=\"form-inline\"><div class=\"form-group\"><div class=\"left-inner-addon\"><span>$</span> <input type=\"text\" id=\"{{\\'priceMin\\' + product.id}}\" ng-model=\"tempProduct.price_0\" name=\"title\" class=\"form-control\" placeholder=\"Minimum Price\"></div></div><div class=\"form-group\"><div class=\"left-inner-addon\"><span>$</span> <input type=\"text\" id=\"{{\\'priceMax\\' + product.id}}\" ng-model=\"tempProduct.price_1\" name=\"title\" class=\"form-control\" placeholder=\"Maximum Price\"></div></div></div></div></div></div><div class=\"form-group\" ng-if=\"state.showImageLink\"><h3 class=\"text-danger\" ng-repeat=\"error in errors.image_link\">{{error}}</h3><label for=\"{{\\'image_link\\' + article.id}}\">IMAGE LINK (OPTIONAL):</label><input type=\"text\" id=\"{{\\'image_link\\' + article.id}}\" ng-model=\"tempProduct.image_link\" name=\"image_link\" class=\"form-control\"></div><div class=\"form-group\"><input type=\"submit\" class=\"btn btn-black submit-button\" value=\"Submit\"> <button class=\"btn btn-black\" ng-click=\"clearForm($event)\">Clear</button> <button class=\"btn btn-borderless\" ng-click=\"toggleCollapse($event)\" ng-show=\"state.showToggle\"><span ng-hide=\"toggleOpen\">(Advanced Search)</span><span ng-show=\"toggleOpen\">(Basic Search)</span></button></div></form></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/product_autoinclude.html',\n    '<div class=\"angucomplete-holder\" ng-class=\"{\\'angucomplete-dropdown-visible\\': showDropdown}\"><label for=\"{{id}}_value\">PRODUCTS (OPTIONAL):</label><input id=\"{{id}}_value\" name=\"{{inputName}}\" ng-class=\"{\\'angucomplete-input-not-empty\\': notEmpty}\" ng-model=\"searchStr\" ng-disabled=\"disableInput\" type=\"{{inputType}}\" placeholder=\"{{placeholder}}\" maxlength=\"{{maxlength}}\" ng-focus=\"onFocusHandler()\" class=\"{{inputClass}}\" ng-blur=\"hideResults($event)\" autocapitalize=\"off\" autocorrect=\"off\" autocomplete=\"off\" ng-change=\"inputChangeHandler(searchStr)\"><div id=\"{{id}}_dropdown\" class=\"angucomplete-dropdown\" ng-show=\"showDropdown\"><div class=\"angucomplete-searching\" ng-show=\"searching\" ng-bind=\"textSearching\"></div><div class=\"angucomplete-searching\" ng-show=\"!searching && (!results || results.length == 0)\" ng-bind=\"textNoResults\"></div><div class=\"angucomplete-row\" ng-repeat=\"result in results\" ng-click=\"selectResult(result)\" ng-mouseenter=\"hoverRow($index)\" ng-class=\"{\\'angucomplete-selected-row\\': $index == currentIndex}\"><div ng-if=\"imageField\" class=\"angucomplete-image-holder\"><img ng-if=\"result.image && result.image != \\'\\'\" ng-src=\"{{result.image}}\" class=\"angucomplete-image\"><div ng-if=\"!result.image && result.image != \\'\\'\" class=\"angucomplete-image-default\"></div></div><div class=\"angucomplete-title\" ng-if=\"matchClass\" ng-bind-html=\"result.title\"></div><div class=\"angucomplete-title\" ng-if=\"!matchClass\">{{ result.title }}</div><div ng-if=\"matchClass && result.description && result.description != \\'\\'\" class=\"angucomplete-description\" ng-bind-html=\"result.description\"></div><div ng-if=\"!matchClass && result.description && result.description != \\'\\'\" class=\"angucomplete-description\">{{result.description}}</div></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/modal.html',\n    '<div id=\"{{modalContent.id}}\" class=\"modal fade\" tab-index=\"-1\" role=\"dialog\" aria-labelledby=\"{{\\'#\\' + modalContent.label}}\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button><h4 class=\"modal-title\" id=\"{{modalContent.label}}\">{{ modalContent.title }}</h4></div><div class=\"modal-body\">{{ modalContent.body }}</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-black\" data-dismiss=\"modal\">Cancel</button> <button type=\"button\" class=\"btn btn-black\" ng-click=\"modalAction()\">{{ modalContent.actionName }}</button></div></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/general_search_form.html',\n    '<div class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\" ng-controller=\"GeneralSearchFormCtrl\"><form id=\"general-search-form\" class=\"form-black\" ng-submit=\"generalSearch()\"><div class=\"input-group\"><label class=\"sr-only\" for=\"landing-search\">Search for Shoes, Brands, or References</label><input type=\"text\" name=\"landing-search\" id=\"landing-search\" class=\"form-control\" placeholder=\"Search Shoes, Brands, or References..\" ng-model=\"search.query\"><div class=\"input-group-btn\"><button type=\"submit\" value=\"go\" class=\"btn\"><i class=\"fa fa-fw fa-search\"></i></button></div></div></form><hr></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/verifyemail.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><div id=\"verifyEmail_view\" ng-controller=\"VerifyemailCtrl\"><div ng-if=\"success\" class=\"alert alert-success\">You have successfully verified your email address.</div><div ng-if=\"failure\" class=\"alert alert-warning\">Sorry, there\\'s been an error.</div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/userprofile.html',\n    '<section class=\"container\"><div class=\"row\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><h2 class=\"light-header\">Edit Profile Information</h2><div id=\"userProfile_view\" ng-controller=\"UserprofileCtrl\"><div ng-if=\"complete == false\"><form class=\"form-black\" role=\"form\" ng-if=\"authenticated\" name=\"userProfileForm\" ng-submit=\"updateProfile(userProfileForm, model)\" novalidate><div class=\"form-group\"><label for=\"id_first_name\">First Name</label><input name=\"first_name\" id=\"id_first_name\" class=\"form-control\" type=\"text\" ng-model=\"model.first_name\" placeholder=\"First Name\"></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.first_name\">{{error}}</div><div class=\"form-group\"><label for=\"id_last_name\">Last Name</label><input name=\"last_name\" id=\"id_last_name\" class=\"form-control\" type=\"text\" ng-model=\"model.last_name\" placeholder=\"Last Name\"></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.last_name\">{{error}}</div><div class=\"form-group\"><label for=\"id_email\">Email</label><input name=\"email\" id=\"id_email\" class=\"form-control\" type=\"email\" ng-model=\"model.email\" placeholder=\"Email\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.email\">{{error}}</div><button type=\"submit\" ng-show=\"authenticated\" class=\"btn btn-black\">Update Profile</button></form><div class=\"alert alert-warning\" ng-if=\"authenticated == false\">You need to be logged in to do this.</div></div><div ng-if=\"complete == true\"><div class=\"alert alert-success\">You have updated your profile.</div></div></div><div id=\"passwordChange_view\" ng-controller=\"PasswordchangeCtrl\"><h2 class=\"light-header\">Change Password</h2><div ng-if=\"complete == false\"><form class=\"form-black\" role=\"form\" ng-submit=\"changePassword(changePasswordForm)\" name=\"changePasswordForm\" ng-if=\"authenticated\" novalidate><div class=\"form-group\"><label for=\"id_password1\">New Password</label><input name=\"new_password1\" id=\"id_password1\" type=\"password\" ng-model=\"model.new_password1\" placeholder=\"New Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.new_password1\">{{error}}</div><div class=\"form-group\"><label for=\"id_password2\">Repeat Password</label><input name=\"new_password2\" id=\"id_password2\" type=\"password\" ng-model=\"model.new_password2\" placeholder=\"Repeat Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.new_password2\">{{error}}</div><button ng-show=\"authenticated\" type=\"submit\" class=\"btn btn-black\">Change Password</button></form><div class=\"alert alert-warning\" ng-if=\"authenticated != true\">You need to be logged in to do this!</div></div><div ng-if=\"complete == true\"><div class=\"alert alert-success\">You have changed your password.</div></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/signup.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><div id=\"register_view\" ng-controller=\"RegisterCtrl\"><div ng-if=\"complete == false\"><h3 class=\"title-block title-black-filled\">Please Enter Your Registration Information:</h3><form role=\"form\" class=\"form-black\" ng-if=\"authenticated != true\" name=\"registerForm\" ng-submit=\"register(registerForm)\" novalidate><div class=\"form-group\"><label class=\"sr-only\" for=\"id_first_name\">First Name (optional)</label><input name=\"first_name\" id=\"id_first_name\" class=\"form-control\" type=\"first_name\" ng-model=\"model.first_name\" placeholder=\"First Name\" required></div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_last_name\">Last Name (optional)</label><input name=\"last_name\" id=\"id_last_name\" class=\"form-control\" type=\"last_name\" ng-model=\"model.last_name\" placeholder=\"Last Name\" required></div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_username\">Username</label><input name=\"username\" id=\"id_username\" class=\"form-control\" type=\"username\" ng-model=\"model.username\" placeholder=\"Username\" required></div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_email\">Email</label><input name=\"email\" id=\"id_email\" class=\"form-control\" type=\"email\" ng-model=\"model.email\" placeholder=\"Email\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.email\">{{error}}</div><hr><div class=\"form-group\"><label class=\"sr-only\" for=\"id_password\">Password</label><input name=\"password1\" id=\"id_password1\" class=\"form-control\" type=\"password\" ng-model=\"model.password1\" placeholder=\"Password\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password1\">{{error}}</div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_password\">Repeat Password</label><input name=\"password\" id=\"id_password2\" class=\"form-control\" type=\"password\" ng-model=\"model.password2\" placeholder=\"Repeat Password\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password2\">{{error}}</div><button ng-hide=\"authenticated\" type=\"submit\" class=\"btn btn-black\">Sign Up!</button></form><p ng-if=\"authenticated\">You are already logged in! You don\\'t need to register.</p></div><div ng-if=\"complete == true\"><div class=\"alert alert-success\">Great! You\\'ve just registered. You should receive an email shortly with instructions on how to activate your account.</div></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/passwordresetconfirm.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><h3 class=\"title-block title-black-filled\">Enter New Password</h3><div id=\"passwordResetConfirm_view\" ng-controller=\"PasswordresetconfirmCtrl\"><div ng-hide=\"complete\"><form role=\"form\" ng-hide=\"authenticated\" class=\"form-black\" ng-submit=\"confirmReset(confirmResetForm)\" name=\"confirmResetForm\" novalidate><div class=\"form-group\"><label for=\"id_password1\">New Password</label><input name=\"password1\" id=\"id_password1\" type=\"password\" ng-model=\"model.new_password1\" placeholder=\"New Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password1\">{{error}}</div><div class=\"form-group\"><label for=\"id_password2\">Repeat Password</label><input name=\"password2\" id=\"id_password2\" type=\"password\" ng-model=\"model.new_password2\" placeholder=\"Repeat Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password2\">{{error}}</div><button type=\"submit\" ng-hide=\"authenticated\" class=\"btn btn-black\">Reset Password</button></form><p ng-show=\"authenticated\">You are already logged in! You don\\'t need to reset your password.</p></div><div ng-show=\"complete\"><div class=\"alert alert-success\">You have changed your password.</div></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/passwordreset.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><div id=\"passwordReset_view\" ng-controller=\"PasswordresetCtrl\"><h3 class=\"title-block title-black-filled\">Password Reset</h3><div ng-if=\"complete == false\"><form class=\"form-black\" role=\"form\" ng-if=\"authenticated != true\" name=\"passwordResetForm\" ng-submit=\"resetPassword(passwordResetForm)\" novalidate><div class=\"form-group\"><label for=\"id_email\">Email</label><input name=\"email\" id=\"id_email\" type=\"text\" ng-model=\"model.email\" placeholder=\"Email\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.email\">{{error}}</div><button ng-hide=\"authenticated\" type=\"submit\" class=\"btn btn-black\">Reset Password</button></form><p ng-if=\"authenticated\">You are already logged in! You don\\'t need to reset your password.</p></div><div ng-if=\"complete == true\"><div class=\"alert alert-success\">You should receive an email shortly with instructions on how to reset your account password.</div></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/login.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\">\\'<div id=\"login_view\" ng-controller=\"LoginCtrl\"><h4 class=\"title-block title-black-filled\">Please Log In</h4><form role=\"form\" ng-submit=\"login(loginForm)\" name=\"loginForm\" class=\"form-black\" novalidate><div class=\"alert alert-danger\" ng-repeat=\"error in errors.username\">{{error}}</div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_username\">Username</label><input name=\"username\" id=\"id_username\" type=\"text\" ng-model=\"model.username\" placeholder=\"Username\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password\">{{error}}</div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_password\">Password</label><input name=\"password\" id=\"id_password\" type=\"password\" ng-model=\"model.password\" placeholder=\"Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.non_field_errors\">{{error}}</div><div class=\"alert alert-danger\" ng-if=\"error\">{{error}}</div><p><button type=\"submit\" class=\"btn btn-black\">Submit</button></p></form><div><p>Forgot your password? Click <a href=\"#/passwordReset\">here</a></p></div></div><hr><h4>Don\\'t have an Axiologue account? Sign up below!</h4><a href=\"#/signUp\" class=\"btn btn-black\">Sign Up</a></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/forbidden.html',\n    '<section class=\"container-fluid\" ng-controller=\"ForbiddenCtrl\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Restricted Page</h2><h5>In order to access that content, you must be logged in. What would you like to do?</h5><a class=\"btn btn-black\" href=\"{{\\'#\\' +  backLink }}\">Go Back</a> <a class=\"btn btn-black\" href=\"#/login\">Login</a></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/thanks.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Thanks!</h2><p>Thank you for signing up! Your initial profile should now be set. You can tweak your profile to your hearts content on your <a href=\"#/profile\">ethical profile page</a> or you can <a href=\"#/products/search\">start searching products!</a>.</p></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/tag_list.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 tag-list\" id=\"ethics-list\"><h2 class=\"title-block title-black\">Current Ethical Data</h2><div ng-repeat=\"category in tags\"><h4 class=\"tag-list-title\">{{ category.category.toUpperCase() }}</h4><ul><li ng-show=\"category.tags.length === 0\"><h5 class=\"no-data\">No Data in this category. You can <a href=\"#/references/how-to\">help us</a> research!</h5></li><li ng-repeat=\"tag in category.tags\"><div class=\"tag-block tag-block-header\"><div class=\"tag-list-icon\"><img class=\"brand-thumbnail\" src=\"img/Logos/{{ tag.company.replace(\\' \\', \\'-\\') }}-small-black.png\"></div><h5 class=\"tag-type\">{{ tag.company }} -- <strong>{{ tag.tag_type }}<span ng-show=\"tag.value\">: {{tag.value}}</span></strong></h5><span class=\"text-muted\">From: <a href=\"#/references/detail/{{ tag.reference.id }}\">{{ tag.reference.title }}</a> (<a href=\"{{ tag.reference.url }}\" target=\"_newtab\">External Link</a>) (<a role=\"button\" data-target=\"#tag-detail-{{tag.id}}\" data-toggle=\"collapse\" aria-expanded=\"false\" aria-controls=\"tag-detail-{{tag.id}}\">See More</a>)</span></div><div class=\"tag-block\"><div class=\"collapse\" id=\"tag-detail-{{tag.id}}\"><div class=\"tag-detail-content\"><dl class=\"dl-horizontal\"><dt>EXCERPT</dt><dd>\"{{ tag.excerpt }}\"</dd><dt>ADDED BY</dt><dd><span class=\"text-muted\"><a href=\"#/users/{{ tag.added_by }}\">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/search_results.html',\n    '<div ng-controller=\"SearchResultsCtrl\" id=\"top\"><div ng-include=\"generalSearchForm\"></div><section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><div class=\"text-center\" ng-show=\"state.loading\"><i class=\"fa fa-spinner fa-pulse fa-4x\"></i> <span class=\"sr-only\">Loading...</span></div><div ng-hide=\"state.loading\"><div class=\"result-counts\"><ul><li><strong>RESULTS FOUND:</strong></li><li ng-repeat=\"key in result_keys\"><a href=\"\" ng-click=\"goToHash(key)\">{{ key.toUpperCase() }}: <strong>{{ results[key].length }}</strong></a></li></ul></div></div><div class=\"result-set\" ng-show=\"results.companies.length > 0\" id=\"companies\"><div class=\"row\"><div class=\"col-xs-6\"><h3>Companies</h3></div><div class=\"col-xs-6 text-right search-controls\"><span class=\"text-muted\"><a href=\"\" ng-click=\"goToHash(\\'top\\')\"><h5>(Back to Top)</h5></a></span><span class=\"text-muted\"><a type=\"button\" href=\"\" data-toggle=\"collapse\" data-target=\"#company-data\" aria-expanded=\"true\" aria-controls=\"company-data\"><h5>(Hide)</h5></a></span></div><div class=\"col-xs-12\"><hr></div></div><div class=\"row search-list collapse in\" id=\"company-data\"><div ng-repeat=\"result in results.companies\" class=\"search-item col-xs-12 col-sm-6\"><a href=\"#/companies/detail/{{ result.text.replace(\\' \\',\\'-\\') }}\"><div class=\"search-image\"><img class=\"brand-thumbnail\" src=\"img/Logos/{{ result.text.replace(\\' \\',\\'-\\') }}-small-black.png\"></div><div class=\"search-content\"><strong><h4 class=\"search-header\">{{result.text}}</h4></strong></div></a></div></div></div><div class=\"result-set\" ng-show=\"results.products.length > 0\" id=\"products\"><div class=\"row\"><div class=\"col-xs-6\"><h3>Products</h3></div><div class=\"col-xs-6 text-right search-controls\"><span class=\"text-muted\"><a href=\"\" ng-click=\"goToHash(\\'top\\')\"><h5>(Back to Top)</h5></a></span><span class=\"text-muted\"><a type=\"button\" href=\"\" data-toggle=\"collapse\" data-target=\"#product-data\" aria-expanded=\"true\" aria-controls=\"product-data\"><h5>(Hide)</h5></a></span></div><div class=\"col-xs-12\"><hr></div></div><div class=\"row search-list collapse in\" id=\"product-data\"><div class=\"search-item col-xs-12 col-sm-6\" ng-repeat=\"result in results.products\"><a href=\"#/products/detail/{{ result.id }}\"><div class=\"search-image\"><img class=\"brand-thumbnail\" src=\"img/Logos/{{ result.text[1].replace(\\' \\',\\'-\\') }}-small-black.png\"></div><div class=\"search-content\"><strong><h4 class=\"search-header\">{{result.text[0] }}</h4></strong><span class=\"text-muted\">{{ result.text[1] }} | {{ result.text[2] }} | {{ result.text[3] }}</span></div></a></div></div></div><div class=\"result-set\" ng-show=\"results.references.length > 0\" id=\"references\"><div class=\"row\"><div class=\"col-xs-6\"><h3>References</h3></div><div class=\"col-xs-6 text-right search-controls\"><span class=\"text-muted\"><a href=\"\" ng-click=\"goToHash(\\'top\\')\"><h5>(Back to Top)</h5></a></span><span class=\"text-muted\"><a type=\"button\" href=\"\" data-toggle=\"collapse\" data-target=\"#reference-data\" aria-expanded=\"true\" aria-controls=\"reference-data\"><h5>(Hide)</h5></a></span></div><div class=\"col-xs-12\"><hr></div></div><div class=\"row search-list collapse in\" id=\"reference-data\"><div class=\"search-item col-xs-12\" ng-repeat=\"result in results.references\"><a href=\"#/references/detail/{{ result.id }}\"><div class=\"search-content\"><strong><h4 class=\"search-header\">{{result.text[0] }}</h4></strong><span class=\"text-muted\">{{ result.text[1] }}</span></div></a></div></div></div></div></div></section></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/search_empty.html',\n    '<section><div ng-include=\"generalSearchForm\"></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/reference_new.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Add A Source</h2><div ng-include=\"referenceForm\"></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/reference_list.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Sources</h2><form class=\"form-black\"><div class=\"form-group\"><label class=\"checkbox-inline\"><input type=\"checkbox\" ng-model=\"filtering.includeTagged\">Include Analyzed Sources</label><label class=\"checkbox-inline\"><input type=\"checkbox\" ng-model=\"filtering.includeUntagged\">Include Unanalyzed Sources</label><label class=\"checkbox-inline\"><input type=\"checkbox\" ng-model=\"filtering.includeNoData\">Include Sources Without Concrete Data</label></div><div class=\"form-group\"><label class=\"sr-only\" for=\"textFilter\">Filter by source title, notes, etc...\"</label><input type=\"text\" ng-model=\"filtering.text\" class=\"form-control\" id=\"textFilter\" placeholder=\"Filter by source title, notes, etc...\"></div></form><hr></div></div><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 reference-list\"><uib-accordion close-others=\"true\"><uib-accordion-group ng-repeat=\"reference in filteredSources = (references | filter: filterReferences)\" is-open=\"status[reference.id]\" class=\"reference-item\"><uib-accordion-heading>{{ reference.title }} <i class=\"fa pull-right\" ng-class=\"{\\'fa-minus-square-o\\': status[reference.id], \\'fa-plus-square-o\\': !status[reference.id]}\"></i> <span class=\"reference-header-detail\">({{ reference.header_text }})</span></uib-accordion-heading><dl class=\"dl-horizontal reference-detail\"><dt>URL</dt><dd><a href=\"{{ reference.url }}\" target=\"_newtab\">{{ reference.url }}</a></dd><dt>NOTES</dt><dd>{{ reference.notes }}</dd><dt>DATA</dt><dd ng-show=\"reference.metatags.length > 0\">Article Marked As Having No Relevant Data. It is still stored here as a reference.</dd><dd ng-show=\"reference.metatags.length === 0 && reference.ethicstags.length === 0\">This reference hasn\\'t been analyzed yet. Help us out by <a href=\"#/references/detail/{{ reference.id }}\">adding a tag</a></dd><dd ng-repeat=\"tag in reference.ethicstags\"><strong>{{ tag.tag_type.name }}</strong> ({{ tag.tag_type.subcategory }})<br><span class=\"text-muted\">\"{{ tag.excerpt }}\"</span></dd></dl><a class=\"btn btn-black\" href=\"#/references/detail/{{ reference.id }}\">Edit or Analyze This Source</a></uib-accordion-group><div ng-hide=\"filteredSources.length\"><h3 class=\"text-center\">No Results Match Your Filters. Try Adjusting Your Filtering Criteria</h3></div></uib-accordion></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/reference_detail.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><div class=\"reference-detail-title-wrapper\"><div ng-include=\"reference_template\"></div></div></div></div></section><div ng-include=\"referenceModal\" ng-controller=\"ReferenceDeleteCtrl\"></div><div class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h3 class=\"title-block title-white\">Ethical Data From This Reference</h3><div class=\"reference-tag-detail\" ng-repeat=\"tag in reference.ethicstags\" ng-controller=\"SingleTagCtrl\"><div ng-include=\"tag_template\"></div></div><div ng-controller=\"NewTagCtrl\" ng-show=\"authenticated\"><button class=\"btn btn-white\" ng-hide=\"state.showNewTagForm\" ng-click=\"showTagForm()\">Add New Tag</button><div ng-include=\"tagForm\" ng-show=\"state.showNewTagForm\"></div></div><div ng-hide=\"authenticated\"><a class=\"btn btn-white\" ng-hide=\"state.showNewTagForm\" href=\"#/login\">Login to Edit or Add Tags</a></div><hr></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/reference_deleted.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Article Deleted</h2><h3>The specified source has now been deleted. Continue to <a href=\"#/references/all\">browse our sources</a> or navigate elsewhere using the menu above.</h3></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/product_search.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Find a Shoe</h2><div ng-include=\"productFormTemplate\"></div></div></div><div ng-show=\"state.searched\" class=\"row\"><div class=\"col-xs-12 col-lg-10 col-lg-offset-1\"><hr><div ng-show=\"state.loading\" class=\"text-center\"><i class=\"fa fa-spinner fa-pulse fa-4x\"></i> <span class=\"sr-only\">Loading...</span></div><div ng-hide=\"state.loading\"><div class=\"row search-list\" ng-show=\"results.length > 0\"><div ng-repeat=\"product in results\" class=\"search-item col-xs-12 col-sm-6\"><a href=\"#/products/detail/{{ product.id }}\"><div class=\"search-image\"><img class=\"brand-thumbnail\" src=\"img/Logos/{{ product.company.replace(\\' \\',\\'-\\') }}-small-black.png\"></div><div class=\"search-content\"><strong><h4 class=\"search-header\">{{product.name}}</h4></strong><span class=\"text-muted\">{{ product.company }}</span></div></a></div></div><div ng-hide=\"results.length > 0\" class=\"text-center\"><h2>No Products Found that Match Your Search</h2></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/product_detail.html',\n    '<header class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-4 text-center\"><div class=\"detail-logo\"><img src=\"img/Logos/{{ product.company.replace(\\' \\', \\'-\\') }}-large-black.png\" class=\"img-responsive\" alt=\"{{ product.name }}\"></div><h2 class=\"title-block title-black-filled detail-title\">{{ product.name }}</h2><h3 class=\"detail-supplement\">Made By: <a href=\"#/companies/detail/{{ product.company.replace(\\' \\',\\'-\\') }}\"><strong>{{ product.company }} </strong></a></h3><h3 class=\"detail-supplement\">Category: {{ product.category }}</h3><div bars-legend data=\"scores\"></div><div class=\"btn-personalized-wrapper\"><a href=\"#/login\" class=\"btn btn-black btn-sm btn-personalized\" ng-hide=\"authenticated\">Login to see your own personalized score</a></div></div><div class=\"col-xs-12 col-md-8\"><div class=\"score-chart-header\"><h2 class=\"title-block title-black score-title\">Ethical Scores</h2></div><horizontal-bars data=\"scores\"></horizontal-bars></div></div></header><section class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list\"><h2 class=\"title-block title-white\">Data on {{ product.name }}</h2><div ng-show=\"product_tag_count === 0\"><h5 class=\"no-data\">No product-specific data on {{ product.name }}. You can <a href=\"#/references/how-to\">help us</a> research!</h5></div><div ng-repeat=\"category in product_tags\" ng-show=\"product_tag_count > 0\"><h4 class=\"tag-list-title\">{{ category.category.toUpperCase() }}</h4><ul><li ng-show=\"category.tags.length === 0\"><h5 class=\"no-data\">No Data in this category. You can <a href=\"#/references/how-to\">help us</a> research!</h5></li><li ng-repeat=\"tag in category.tags\"><div class=\"tag-block\"><div class=\"tag-list-icon\"><i class=\"fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-dark-gray\"></i></div><h5 class=\"tag-type\"><strong>{{ tag.tag_type }}<span ng-show=\"tag.value\">: {{tag.value}}</span></strong></h5><span class=\"text-muted\">From: <a href=\"#/references/detail/{{ tag.reference.id }}\">{{ tag.reference.title }}</a> (<a href=\"{{ tag.reference.url }}\" target=\"_newtab\">External Link</a>) (<a role=\"button\" data-target=\"#tag-detail-{{tag.id}}\" data-toggle=\"collapse\" aria-expanded=\"false\" aria-controls=\"tag-detail-{{tag.id}}\">Tag Details</a>)</span></div><div class=\"tag-block\"><div class=\"collapse\" id=\"tag-detail-{{tag.id}}\"><div class=\"tag-detail-content\"><dl class=\"dl-horizontal\"><dt>EXCERPT</dt><dd>\"{{ tag.excerpt }}\"</dd><dt>ADDED BY</dt><dd><span class=\"text-muted\"><a href=\"#/users/{{ tag.added_by }}\">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div><div class=\"col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list\"><h2 class=\"title-block title-white\">Data on {{ product.company }}</h2><div ng-repeat=\"category in company_tags\"><h4 class=\"tag-list-title\">{{ category.category.toUpperCase() }}</h4><ul><li ng-show=\"category.tags.length === 0\"><h5 class=\"no-data\">No Data in this category. You can <a href=\"#/references/how-to\">help us</a> research!</h5></li><li ng-repeat=\"tag in category.tags\"><div class=\"tag-block\"><div class=\"tag-list-icon\"><i class=\"fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-dark-gray\"></i></div><h5 class=\"tag-type\"><strong>{{ tag.tag_type }}<span ng-show=\"tag.value\">: {{tag.value}}</span></strong></h5><span class=\"text-muted\">From: <a href=\"#/references/detail/{{ tag.reference.id }}\">{{ tag.reference.title }}</a> (<a href=\"{{ tag.reference.url }}\" target=\"_newtab\">External Link</a>) (<a role=\"button\" data-target=\"#company-tag-detail-{{tag.id}}\" data-toggle=\"collapse\" aria-expanded=\"false\" aria-controls=\"tag-detail-{{tag.id}}\">See More</a>)</span></div><div class=\"tag-block\"><div class=\"collapse\" id=\"company-tag-detail-{{tag.id}}\"><div class=\"tag-detail-content\"><dl class=\"dl-horizontal\"><dt>EXCERPT</dt><dd>\"{{ tag.excerpt }}\"</dd><dt>ADDED BY</dt><dd><span class=\"text-muted\"><a href=\"#/users/{{ tag.added_by }}\">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div></div></section><div class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12\"><hr></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/landing.html',\n    '<header class=\"container-fluid carousel-wrapper\"><div class=\"row\"><div class=\"col-xs-12 col-carousel\"><div id=\"carousel-landing\" class=\"carousel slide\" data-ride=\"carousel\"><ol class=\"carousel-indicators\"><li data-target=\"#carousel-landing\" data-slide-to=\"0\" class=\"active\"></li><li data-target=\"#carousel-landing\" data-slide-to=\"1\"></li><li data-target=\"#carousel-landing\" data-slide-to=\"2\"></li></ol><div class=\"carousel-inner\" role=\"listbox\"><div class=\"item active\" style=\"background-image: url(\\'img/headers/GrayWalking.jpg\\')\" ng-controller=\"GeneralSearchFormCtrl\"><div class=\"carousel-caption caption-right carousel-caption-search\"><h2>Which Shoes Match Your Ethics?</h2><form class=\"form-white\" ng-submit=\"generalSearch()\"><div class=\"input-group\"><label class=\"sr-only\" for=\"landing-search\">Search</label><input type=\"text\" name=\"landing-search\" id=\"landing-search\" class=\"form-control\" placeholder=\"Search Shoes, Brands, or References..\" ng-model=\"search.query\"><div class=\"input-group-btn\"><button type=\"submit\" value=\"go\" class=\"btn\"><i class=\"fa fa-fw fa-search\"></i></button></div></div></form></div></div><div class=\"item\" style=\"background-image: url(\\'img/headers/GrayShoeHanging.jpg\\')\"><div class=\"carousel-caption caption-bottom\"><h2 class=\"heavy\">Mindful Click:</h2><h3>Shop With Your Ethics on Amazon or Zappos</h3><button class=\"btn btn-lg btn-white\">Get the Extension</button></div></div><div class=\"item\" style=\"background-image: url(\\'img/headers/GrayWalkingSand.jpg\\')\"><div class=\"carousel-caption caption-right caption-squares\"><h2 class=\"caption-title\">Browse By Brand</h2><div class=\"squares-wrapper\"><div class=\"carousel-square\"><a href=\"#/companies/detail/Nike\"><img class=\"img-responsive\" src=\"img/Logos/Nike-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/detail/Adidas\"><img class=\"img-responsive\" src=\"img/Logos/Adidas-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/detail/New-Balance\"><img class=\"img-responsive\" src=\"img/Logos/New-Balance-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/detail/Under-Armour\"><img class=\"img-responsive\" src=\"img/Logos/Under-Armour-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/detail/Asics\"><img class=\"img-responsive\" src=\"img/Logos/Asics-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/all\"><h3>& Many More...</h3></a></div></div></div></div></div><span class=\"left carousel-control\" data-target=\"#carousel-landing\" role=\"button\" data-slide=\"prev\"><i class=\"fa fa-2x fa-angle-left\" aria-hidden=\"true\"></i> <span class=\"sr-only\">Previous</span> </span><span class=\"right carousel-control\" data-target=\"#carousel-landing\" role=\"button\" data-slide=\"next\"><i class=\"fa fa-2x fa-angle-right\" aria-hidden=\"true\"></i> <span class=\"sr-only\">Next</span></span></div></div></div></header><section class=\"container-fluid\" id=\"whatIs\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">What is Axiologue?</h2><p>Axiologue is a crowd-sourced, community-based project to track the ethics of products and companies. We put ethical information in the hands of consumers, so they can shop in line with their own personal ethics and support the companies that are doing it right. We are guided by the following five principles:</p><ul class=\"fa-ul principles-list\"><li><i class=\"fa-li fa fa-lg fa-usd\"></i><h4>Free</h4>Ethical information should never be behind a paywall. We believe ethical information should be accessible to anyone who wants access to it.</li><li><i class=\"fa-li fa fa-lg fa-user\"></i><h4>Personalized</h4>Who decides what\\'s ethical? You do! Axiologue lets users customize their ethical profiles so they only see what\\'s important to them.</li><li><i class=\"fa-li fa fa-lg fa-unlock-alt\"></i><h4>Open</h4>We believe ethical behavior starts with the free exchange of knoweldge. All of Axiologue\\'s raw data is freely available, via this website or our Open API. All of our software is open source.</li><li><i class=\"fa-li fa fa-lg fa-bar-chart\"></i><h4>Comprehensive</h4>Axiologue covers all possible ethical categories, including environment, labor, political affiliation, and more.</li><li><i class=\"fa-li fa fa-lg fa-comments\"></i><h4>Participatory</h4>Axiologue is a crowd-sourced project, and all you need to contribute is a desire to bring ethical information to those who want it!</li></ul></div></div></section><section class=\"container-fluid dark-row\" id=\"whoIs\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-center\"><h2 class=\"title-block title-white\">Who is Axiologue?</h2><p class=\"text-left\">Axiologue is a community-based project. We are researchers, designers, teachers, artists, philosophers, programmers, students, and more. Axiologue could even be you! Learn more about how to join the Axiologue community below. We\\'d love to have you join our ever-growing community!</p><a href=\"#/references/how-to\" class=\"btn btn-orange btn-lg btn-help\">How To Help</a><p class=\"text-left\">Axiologue was founded by artist/programmer <a href=\"http://www.nishi-broach.com/\">Matt Nishi-Broach</a> and artist/community organizer <a href=\"http://www.chloebass.com\">Chloë Bass</a>.</p></div></div></section><section class=\"container-fluid\" id=\"recent\" ng-controller=\"RecentCtrl\"><div class=\"row\"><div class=\"col-xs-12 col-md-6 col-lg-4 col-lg-offset-1\"><h2 class=\"title-block title-black\">Newly Added Research</h2><ul class=\"recent-list\"><li ng-repeat=\"tag in tags\"><img class=\"brand-thumbnail\" src=\"img/Logos/{{ tag.company.replace(\\' \\',\\'-\\') }}-small-black.png\"> <strong><h5 class=\"recent-header\"><a href=\"{{ tag.link }}\">{{ tag.tag_type }}<span ng-show=\"tag.value\">: {{tag.value}}</span></a></h5></strong><span class=\"text-muted\">From: <a href=\"#/references/detail/{{ tag.reference.id }}\">{{ tag.reference }}</a></span></li><li class=\"text-center recent-button\"><a class=\"btn btn-black\" href=\"#/data/all\"><h4>Browse the rest of our ethical data</h4></a></li></ul></div><div class=\"col-xs-12 col-md-6 col-lg-4 col-lg-offset-2\"><h2 class=\"title-block title-black\">Recent/Upcoming Events</h2><ul class=\"recent-list\"><li ng-repeat=\"event in events\"><i class=\"fa fa-check-circle fa-2x fa-pull-left fa-border\"></i> <strong><h5 class=\"recent-header\"><a href=\"#/events/detail/{{ event.id }}\">{{ event.name }}</a></h5></strong><span class=\"text-muted\">{{ event.location.name}}, {{ event.location.city }} -- {{ event.start}}</span></li><li class=\"text-center recent-button\"><a class=\"btn btn-black\" href=\"#/events/all\"><h4>See our full calendar</h4></a></li></ul></div></div><div class=\"row dark-row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-white\">New Blog Posts</h2><ul class=\"recent-list\"><li ng-repeat=\"post in posts\"><strong><h3 class=\"recent-header recent-header-large\"><a href=\"#/blog/detail/{{ post.title_url }}\">{{ post.title.toUpperCase() }}</a></h3></strong><h4 class=\"recent-subheader\">{{ post.sub_title }}</h4><span class=\"text-muted\">posted by <a href=\"#/users/{{ post.posted_by }}\">{{ post.posted_by }}</a> at {{ post.pub_time }}.</span></li><li class=\"text-center recent-button\"><a class=\"btn btn-white\" href=\"#/blog/all\"><h4>Check out the rest of the blog!</h4></a></li></ul></div></div></section><section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">FAQ</h2><uib-accordion close-others=\"true\"><uib-accordion-group is-open=\"status.open3\"><uib-accordion-heading>How Does Scoring Work?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open3, \\'fa-plus-square-o\\': !status.open3}\"></i></uib-accordion-heading><p>This is such an important topic that we wrote a whole <a href=\"#/blog/posts/how-unethical-is-a-negative-two\">blog post</a> about it.</p><p>The short answer is that we match the facts we know about each company/product with your ethical feelings about each fact. The scores roughly translate to:</p><ul><li>a <strong>postive</strong> score means the product is in line with your ethics!</li><li>a <strong>negative</strong> score means the product is contrary to your ethics!</li><li>a <strong>zero</strong> means you don\\'t care about that issue (it could also mean we don\\'t have any data in that particular category)!</li></ul><p>To construct your own ethical profile, <a href=\"#/signUp\">sign up</a> for an account. If you don\\'t want to make an account at this time, don\\'t worry: you can browse our products and see scores for our generic profiles</p></uib-accordion-group><uib-accordion-group is-open=\"status.open4\"><uib-accordion-heading>How can I help?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open4, \\'fa-plus-square-o\\': !status.open4}\"></i></uib-accordion-heading><p>All our research is collected by user volunteers like you! We wrote a guide to help <a href=\"#/references/how-to\">first-time contributors</a>, and you should drop into our <a href=\"#/forum\">forum</a> if you have have further questions.</p></uib-accordion-group><uib-accordion-group is-open=\"status.open5\"><uib-accordion-heading>Do you only have information on shoes?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open5, \\'fa-plus-square-o\\': !status.open5}\"></i></uib-accordion-heading><p>As of right now, yes. In fact, we\\'re focusing specifically on <em>athletic shoes</em>. We are planning to expand to other product categories in the near future, so if you have suggestions for a certain product category you\\'d like us to research, please <a href=\"MAILTO:info@axiologue.org\">email us</a>. We\\'d love to hear your suggestions!</p></uib-accordion-group><uib-accordion-group is-open=\"status.open1\"><uib-accordion-heading>How do you define your ethics?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open1, \\'fa-plus-square-o\\': !status.open1}\"></i></uib-accordion-heading><p>If you want to browse without making an account, Axiologue has generic profiles that represent the ethical profiles of certain stock characters (e.g. Generic Liberal, Generic Conservative). To make your own ethical profile, <a href=\"#/signUp\">Sign Up</a> and Axiologue will ask a few questions to help you set a base profile. If you want to further tweak your ethical profile, you can do so on your <a href=\"#/profile\">profile page</a>.</p></uib-accordion-group><uib-accordion-group is-open=\"status.open2\"><uib-accordion-heading>How can I request a product category?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open2, \\'fa-plus-square-o\\': !status.open2}\"></i></uib-accordion-heading><p>We are currently only focused on athletic shoes, but we are planning to expand into new product categories soon. If you have an idea for what product categories you\\'d like to see Axiologue cover, <a href=\"MAILTO:info@axiologue.org\">email us</a> or let us on <a href=\"#/forum/main\">on the forums</a>.</p></uib-accordion-group></uib-accordion></div></div></section><section class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-left\"><h2 class=\"title-block title-white\">Stay In Touch</h2><div id=\"mc_embed_signup\"><h3>Sign Up For Our Mailing List</h3><form action=\"//axiologue.us10.list-manage.com/subscribe/post?u=a4380cffd095d122a97aaeae6&amp;id=1b7d52909b\" method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\" class=\"validate form-white\" target=\"_blank\" novalidate><div id=\"mc_embed_signup_scroll\"><div class=\"mc-field-group form-group\"><label for=\"mce-EMAIL\" class=\"sr-only\">Email Address (required)</label><input type=\"email\" value=\"\" name=\"EMAIL\" class=\"required email form-control\" id=\"mce-EMAIL\" placeholder=\"Enter Your Email Address (required)\"></div><div class=\"mc-field-group form-group\"><label for=\"mce-FNAME\" class=\"sr-only\">First Name</label><input type=\"text\" value=\"\" name=\"FNAME\" class=\"form-control\" id=\"mce-FNAME\" placeholder=\"Enter First Name\"></div><div class=\"mc-field-group form-group\"><label for=\"mce-LNAME\" class=\"sr-only\">Last Name</label><input type=\"text\" value=\"\" name=\"LNAME\" class=\"form-control\" id=\"mce-LNAME\" placeholder=\"Enter Last Name\"></div><div id=\"mce-responses\" class=\"clear\"><div class=\"response\" id=\"mce-error-response\" style=\"display:none\"></div><div class=\"response\" id=\"mce-success-response\" style=\"display:none\"></div></div><div style=\"position: absolute; left: -5000px\" aria-hidden=\"true\"><input type=\"text\" name=\"b_a4380cffd095d122a97aaeae6_1b7d52909b\" tabindex=\"-1\" value=\"\"></div><div class=\"clear\"><input type=\"submit\" value=\"Subscribe\" name=\"subscribe\" id=\"mc-embedded-subscribe\" class=\"btn btn-white\"></div></div></form></div></div></div><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-center\"><hr class=\"white-rule\"></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/initial_questions.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><div ng-show=\"user.initial_answers\"><h2 class=\"title-block title-black\">Profile Already Set!</h2><p>If you\\'re seeing this message, it means you\\'ve already set your initial profile! If you want to further tweak your profile, you can go to your <a href=\"#/profile\">profile page</a>. Otherwise, use the menu above to browse our data or look up a product!</p></div><div ng-hide=\"user.initial_answers\"><h2 class=\"title-block title-black\">Welcome To Axiologue!</h2><p>To help you get the most out of your Axiologue experience, we\\'d like you to answer a few quick questions about your ethical preferences. We\\'ll use this to set an initial profile, but don\\'t worry -- you\\'ll be able to tweak your answers later!</p><p>We take your privacy very seriously, especially with something as personal as your ethical information. Your answers to these questions won\\'t be made available (unless you\\'d like them to be), and are solely used to help make Axiologue as useful for you as possible</p><hr><form ng-submit=\"answerQuestions()\"><div class=\"form-group initial-question-form\" ng-repeat=\"question in questions\"><h3>{{ question.question }}</h3><h4 class=\"text-muted\">{{ question.supplement }}</h4><div ng-repeat=\"answer in question.answers\"><input type=\"radio\" ng-model=\"question.selected\" id=\"answer_{{ answer.id }}\" value=\"{{ answer.id }}\" name=\"answers_{{ answer.question }}\"><label for=\"answer_{{ answer.id }}\">{{ answer.answer }}</label></div></div><div class=\"alert alert-danger\" ng-if=\"error\">{{ error }}</div><input type=\"submit\" value=\"Submit Answers\" class=\"btn btn-black\"></form></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/how_to.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">How To Contribute</h2><p>Axiologue is a crowd-sourced project, so our data is built with the help of users like you! We strive to make the process of contributing to our research as easy as possible, so if you\\'d like to learn how you could help us make our research <em>even better</em>, keeping reading!</p><p>Axiologue\\'s Data is built using <a href=\"#/references/all\">Sources</a> and <a href=\"#/tags/all\">Tags</a>. A source represents a reliable, verifiable document (it could be an NGO reporter, a journalistic report, or even a company\\'s own product). A tag represents one \"ethical fact\" from a particular source -- a distillation of what we <em>really know</em> from that source. A source can have multiple tags on it. Here are the ways you can help us collected data:</p><ul class=\"fa-ul principles-list\"><li><i class=\"fa-li fa fa-lg fa-file-o\"></i><h4>Add An Article</h4>If you find an article/source that has information about the ethics of athletic shoes or the companies that make them, you can <a href=\"#/references/new\">add it here</a></li><li><i class=\"fa-li fa fa-lg fa-edit\"></i><h4>Add A Tag</h4>Read one of our <a href=\"#/references/all\">Sources</a> and click the <em>Add a Tag</em> button at the bottom of the page to add a Tag. Ask yourself \"what is one verifiable ethical fact in the article that isn\\'t currently in the Axiologue database\", and then add a tag that records that fact!</li><li><i class=\"fa-li fa fa-lg fa-comments\"></i><h4>Join The Discussion</h4>Questions? Want to talk to other contributors? Want to give some feedback on the process? Head to our <a href=\"#/forum/main\">Forums</a> to join the discussion.</li></ul></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/ethics_profile.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Your Ethical Profile</h2><div ng-repeat=\"category in preferences\" class=\"preferences\"><h2>{{ category.category }}</h2><table class=\"table\" ng-repeat=\"subcat in category.sub\" ng-show=\"subcat.prefs.length > 0\"><colgroup><col class=\"col-type\"><col class=\"col-score\"></colgroup><tr class=\"header-row\"><th>{{ subcat.sub }}</th><th>Your Ethical Preference</th></tr><tr class=\"content-row\" ng-repeat=\"fact in subcat.prefs\" ng-controller=\"SinglePrefCtrl\"><td>{{ fact.type }}</td><td class=\"cell-score\"><div ng-hide=\"showPrefForm\"><span class=\"score\" ng-class=\"{\\'text-positive\\': fact.preference > 0, \\'text-negative\\': fact.preference< 0}\">{{ fact.preference }}</span> <span class=\"text-muted\"><button class=\"btn btn-sm btn-borderless\" ng-click=\"openPrefForm()\">(edit)</button></span></div><div ng-show=\"showPrefForm\"><form class=\"form-inline form-black\" ng-submit=\"updatePref()\"><label class=\"fa-label\"><select ng-model=\"newPref.preference\" class=\"form-control\" convert-to-number><option value=\"{{ opt }}\" ng-repeat=\"opt in options\">{{ opt }}</option></select></label><button type=\"submit\" class=\"btn btn-sm btn-borderless\"><i class=\"fa fa-check\"></i></button> <button class=\"btn btn-sm btn-borderless\" ng-click=\"closePrefForm($event)\"><i class=\"fa fa-times\"></i></button></form></div></td></tr></table></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/company_detail.html',\n    '<header class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-4 text-center\"><div class=\"detail-logo\"><img src=\"img/Logos/{{ company.name.replace(\\' \\', \\'-\\') }}-large-black.png\" class=\"img-responsive\" alt=\"{{ company.name }}\"></div><h2 class=\"title-block title-black-filled detail-title\">{{ company.name }}</h2><h3 class=\"detail-supplement\" ng-show=\"company.owns.length > 0\">Owns: <span ng-repeat=\"owned in company.owns\"><a href=\"#/companies/detail/{{ owned.replace(\\' \\', \\'-\\') }}\"><strong>{{ owned }} </strong></a></span></h3><h3 class=\"detail-supplement\" ng-show=\"company.owned_by\">Owned By: <a href=\"#/companies/detail/{{ company.owned_by.replace(\\' \\', \\'-\\')}}\"><strong>{{ company.owned_by }}</strong></a></h3><div bars-legend data=\"scores\"></div><div class=\"btn-personalized-wrapper\"><a href=\"#/login\" class=\"btn btn-black btn-sm btn-personalized\" ng-hide=\"authenticated\">Login to see your own personalized score</a></div></div><div class=\"col-xs-12 col-md-8\"><div class=\"score-chart-header\"><h2 class=\"title-block title-black score-title\">Ethical Scores</h2></div><horizontal-bars data=\"scores\"></horizontal-bars></div></div></header><section class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list\"><h2 class=\"title-block title-white\">Data on {{ company.name }}</h2><div ng-repeat=\"category in tags\"><h4 class=\"tag-list-title\">{{ category.category.toUpperCase() }}</h4><ul><li ng-show=\"category.tags.length === 0\"><h5 class=\"no-data\">No Data in this category. You can <a href=\"#/references/how-to\">help us</a> research!</h5></li><li ng-repeat=\"tag in category.tags\"><div class=\"tag-block\"><div class=\"tag-list-icon\"><i class=\"fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-dark-gray\"></i></div><h5 class=\"tag-type\"><strong>{{ tag.tag_type }}<span ng-show=\"tag.value\">: {{tag.value}}</span></strong></h5><span class=\"text-muted\">From: <a href=\"#/references/detail/{{ tag.reference.id }}\">{{ tag.reference.title }}</a> (<a href=\"{{ tag.reference.url }}\" target=\"_newtab\">External Link</a>) (<a role=\"button\" data-target=\"#tag-detail-{{tag.id}}\" data-toggle=\"collapse\" aria-expanded=\"false\" aria-controls=\"tag-detail-{{tag.id}}\">See More</a>)</span></div><div class=\"tag-block\"><div class=\"collapse\" id=\"tag-detail-{{tag.id}}\"><div class=\"tag-detail-content\"><dl class=\"dl-horizontal\"><dt>EXCERPT</dt><dd>\"{{ tag.excerpt }}\"</dd><dt>ADDED BY</dt><dd><span class=\"text-muted\"><a href=\"#/users/{{ tag.added_by }}\">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div></div></section><div class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12\"><hr></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/company_all.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><h2 class=\"title-block title-black\">How Ethical Are These Companies?</h2><div class=\"col-xs-12 col-md-4 col-lg-4\"><div bars-legend data=\"scores\"></div><div class=\"btn-personalized-wrapper\"><a href=\"#/login\" class=\"btn btn-black btn-sm btn-personalized\" ng-hide=\"authenticated\">Login to see your own personalized score</a></div><div class=\"filter-box\"><form><div ng-show=\"authenticated\"><h4>Chart Filtering</h4><div class=\"checkbox\"><label><input type=\"checkbox\" ng-model=\"filterProps.showGeneric\" ng-change=\"filterScores()\"> Show Generic Profile Scores</label></div></div><h4>Chart Sorting</h4><div class=\"radio\"><label><input type=\"radio\" ng-change=\"sortScores()\" ng-model=\"filterProps.ordering\" value=\"alphabetic\"> Sort Alphabetically</label></div><div class=\"radio\" ng-repeat=\"_user in scores[0].scores\"><label><input type=\"radio\" ng-change=\"sortScores()\" ng-model=\"filterProps.ordering\" value=\"{{ _user.user }}\"> Sort by Scores ({{ _user.user.replace(\\'_\\', \\' \\') }})</label></div></form></div></div><div class=\"col-xs-12 col-md-8 col-lg-8\"><horizontal-bars data=\"scores\" bar-height=\"12\" chart-gap=\"12\" margin-top=\"20\" link-text=\"#/companies/detail/\"></horizontal-bars><div ng-show=\"loading\" class=\"text-center\"><i class=\"fa fa-spinner fa-pulse fa-4x\"></i> <span class=\"sr-only\">Loading...</span></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/coming_soon.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12\"><h2 class=\"title-block title-black\">This Page Coming Soon!</h2></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/blog_list.html',\n    '<section class=\"container\"><div class=\"row\"><div class=\"col-xs-12\"><h2 class=\"title-block title-black\">Blog Posts</h2><ul class=\"blog-list\"><li ng-repeat=\"post in posts\"><strong><h3 class=\"recent-header recent-header-large\"><a href=\"#/blog/detail/{{ post.title_url }}\">{{ post.title.toUpperCase() }}</a></h3></strong><h4 class=\"recent-subheader\">{{ post.sub_title }}</h4><p class=\"text-muted\">{{post.excerpt}}... (<a href=\"#/blog/posts/{{ post.title_url }}\">Read More</a>)</p><p class=\"text-muted\"><em>posted by</em> <a href=\"#/users/{{ post.posted_by }}\">{{ post.posted_by }}</a> <em>at</em> {{ post.pub_time }}</p></li></ul></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/blog_detail.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><div class=\"post-header\"><h1 class=\"post-title\">{{ post.title }}</h1><h3 class=\"post-subtitle\">{{ post.sub_title}}</h3><span class=\"text-muted\">posted by <a href=\"#/user/{{ post.posted_by }}\">{{ post.posted_by }}</a> at {{ post.pub_time }}</span></div><div class=\"post-content\"><div marked=\"post.body\"></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/404.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-center\"><h2 class=\"title-block title-black\">Oops! That Page Doesn\\'t Exist!</h2><p class=\"text-large\">If we made a mistake or have a broken link on the site, please <a class=\"orange\" href=\"MAILTO:admin@axiologue.org\">email us</a> so we can fix it. Otherwise, go back to <a class=\"orange\" href=\"#/\">browsing</a>!</p></div></div></section>');\n}]);\n})();\n"],"sourceRoot":"/source/"}