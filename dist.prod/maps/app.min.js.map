{"version":3,"sources":["js/angular/app.js","js/angular/services/validate.js","js/angular/services/utils.js","js/angular/services/productServices.js","js/angular/services/preferenceServices.js","js/angular/services/landingServices.js","js/angular/services/interceptors.js","js/angular/services/djangoAuth.js","js/angular/services/companyServices.js","js/angular/services/blogServices.js","js/angular/directives/legend.js","js/angular/directives/horizontalBars.js","js/angular/directives/convertToNumber.js","js/angular/controllers/searchControllers.js","js/angular/controllers/profileControllers.js","js/angular/controllers/productControllers.js","js/angular/controllers/masterControllers.js","js/angular/controllers/landingControllers.js","js/angular/controllers/companyControllers.js","js/angular/controllers/blogControllers.js","js/angular/controllers/authControllers.js","includes/product_form.js","includes/general_search_form.js","auth/verifyemail.js","auth/userprofile.js","auth/signup.js","auth/passwordresetconfirm.js","auth/passwordreset.js","auth/login.js","auth/forbidden.js","search_results.js","search_empty.js","product_search.js","product_detail.js","landing.js","ethics_profile.js","company_detail.js","company_all.js","blog_list.js","blog_detail.js","404.js"],"names":["portal","angular","module","config","$resourceProvider","defaults","stripTrailingSlashes","$httpProvider","interceptors","push","$routeProvider","when","templateUrl","controller","resolve","authenticated","djangoAuth","authenticationStatus","otherwise","redirectTo","service","message","minlength","maxlength","email","required","more_messages","demo","check_more_messages","name","error","this","validation_messages","field","form","error_bin","messages","e","$error","special_message","replace","deduped_messages","forEach","el","i","indexOf","form_validation","substr","factory","services","wrap","text","width","each","word","d3","select","words","data","label","toUpperCase","split","reverse","line","lineNumber","lineHeight","y","attr","x","dy","parseFloat","tspan","append","pop","join","node","getComputedTextLength","_categoryIcons","Animal Welfare","Consumer Health","Corporate Finances","Environment","Labor","Public Engagement","getCategoryIcons","parseSingleScores","scores","j","categories","length","category","score","user","overall","parseMultiScores","dataPoint","Company","_storedLink","set","link","get","_includes","generalSearchForm","productForm","templateName","$resource","BaseUrl","_productInfo","list","method","params","productID","detail","_productScores","isArray","_tags","all","_divisions","_categories","success","getScores","id","include_object","getDivisions","getCategories","allTags","product_id","queryDict","tempProduct","$","extend","key","hasOwnProperty","_pref","preferenceID","update","getAll","_landing","query","recentData","_search","general","q","$injector","$cookies","$rootScope","$q","interceptor","responseError","response","status","remove","http","headers","common","Authorization","$broadcast","reject","$http","API_URL","use_session","cookieLength","authPromise","request","args","deferred","defer","url","withCredentials","X-CSRFToken","csrftoken","Access-Control-Allow-Credentials","bind","console","log","non_field_errors","promise","register","username","password1","password2","more","login","password","then","expires","Date","setDate","getDate","put","logout","tokenClear","changePassword","new_password1","new_password2","resetPassword","profile","cacheBuster","getTime","putObject","updateProfile","verify","confirmReset","uid","token","restrict","force","da","getAuthStatus","initialize","sessions","_companyInfo","companyID","_companyScores","_allScores","allScores","include_subcategories","company","no_product","_blogAPI","postID","getPost","postName","directive","$window","scope","element","attrs","legendClass","legendWidth","boxHeight","boxPadding","marginTop","marginBottom","marginLeft","svg","marginRight","legendAttr","$watch","newVals","oldVals","render","selectAll","height","row","enter","d","chartUtils","parseInt","barHeight","barPadding","barClass","titleClass","appendNameToClass","appendName","chartGap","titleSpace","linkText","style","window","onresize","$apply","innerWidth","nodeWidth","offsetWidth","xScale","scale","linear","domain","range","xAxis","axis","tickValues","tickSize","orient","chartHeight","call","wrapper","charts","labels","bars","anchor","dist","Math","abs","pos","transition","duration","require","ngModel","$parsers","val","$formatters","$scope","$location","generalSearch","search","path","Includes","Search","$routeParams","$anchorScroll","searchQuery","state","loading","searchSuccess","$promise","$resolved","results","result_keys","Object","keys","products","map","obj","references","goToHash","hash","Preference","preferences","options","showPrefForm","openPrefForm","newPref","fact","closePrefForm","$event","preventDefault","stopPropagation","updatePref","prefSuccess","preference","Product","Scores","categoryIcons","parseScores","countTags","count","tags","product_tag_count","product_tags","productFollowUp","product","company_tags","resetTemp","company_id","division","undefined","price_0","price_1","companies","divisions","productFormTemplate","priceRange","showToggle","searched","clearForm","productSubmit","productSuccess","toggleCollapse","toggleOpen","collapse","LinkStore","first_name","last_name","$on","event","ev","current","previous","rejection","$$route","originalPath","Landing","populateRecent","events","posts","companyName","getUserScore","user_name","filter","sortByUserScore","a","b","sortByLabel","localeCompare","filterProps","showGeneric","ordering","_scores","sortScores","sort","filterScores","Blog","post","model","getObject","Validate","formData","errors","$invalid","complete","emailVerificationToken","failure","firstToken","passwordResetToken","backLink","run","$templateCache"],"mappings":"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","file":"app.min.js","sourcesContent":["'use strict';\n\nvar portal = angular.module('portal', [\n    'ngResource',\n    'ui.bootstrap',\n    'ngAnimate',\n    'ngRoute',\n    'ngCookies',\n    'hc.marked',\n]);\n\n// Resource settings\nportal.config(['$resourceProvider',function($resourceProvider) {\n  $resourceProvider.defaults.stripTrailingSlashes = false;\n}]);\n\n// api settings\nportal.config(['$httpProvider', function ($httpProvider) {\n  $httpProvider.interceptors.push('tokenCleaner');\n}]);\n\nportal.config(['$routeProvider',\n  function($routeProvider) {\n    $routeProvider\n      .when('/', {\n          templateUrl: 'templates/landing.html',\n      })\n      .when('/login', {\n        templateUrl: 'templates/auth/login.html',\n      })\n      .when('/signUp', {\n        templateUrl: 'templates/auth/signup.html',\n      })\n      .when('/forbidden', {\n        templateUrl: 'templates/auth/forbidden.html',\n      })\n      .when('/verifyEmail/:emailVerificationToken', {\n        templateUrl: 'templates/auth/verifyemail.html',\n      })\n      .when('/passwordReset', {\n        templateUrl: 'templates/auth/passwordreset.html',\n      })\n      .when('/passwordResetConfirm/:firstToken/:passwordResetToken', {\n        templateUrl: 'templates/auth/passwordresetconfirm.html',\n      })\n      .when('/companies/detail/:companyName', {\n        controller: 'CompanyDetailCtrl',\n        templateUrl: 'templates/company_detail.html',\n      })\n      .when('/companies/all', {\n        controller: 'CompanyAllCtrl',\n        templateUrl: 'templates/company_all.html',\n      })\n      .when('/products/search', {\n        controller: 'ProductSearchCtrl',\n        templateUrl: 'templates/product_search.html',\n      })\n      .when('/products/detail/:productID', {\n        controller: 'ProductDetailCtrl',\n        templateUrl: 'templates/product_detail.html',\n      })\n      .when('/blog/all', {\n        controller: 'BlogListCtrl',\n        templateUrl: 'templates/blog_list.html'\n      })\n      .when('/blog/detail/:postName', {\n        controller: 'BlogDetailCtrl',\n        templateUrl: 'templates/blog_detail.html'\n      })\n      .when('/search/general', {\n        controller: 'GeneralSearchCtrl',\n        templateUrl: 'templates/search_empty.html'\n      })\n      .when('/search/general/:searchQuery', {\n        controller: 'GeneralSearchCtrl',\n        templateUrl: 'templates/search_results.html'\n      })\n      .when('/account', {\n        templateUrl: 'templates/auth/userprofile.html',\n        resolve: {\n          authenticated: ['djangoAuth', function(djangoAuth){\n            return djangoAuth.authenticationStatus(true);\n          }],\n        }\n      })\n      .when('/profile', {\n        controller: 'ProfileCtrl',\n        templateUrl: 'templates/ethics_profile.html',\n        resolve: {\n          authenticated: ['djangoAuth', function(djangoAuth){\n            return djangoAuth.authenticationStatus(true);\n          }],\n        }\n      })\n      .when('/404', {\n        templateUrl: 'templates/404.html'\n      })\n      .otherwise({\n          redirectTo: '/404'\n      });\n\n}]);\n","'use strict';\n\nangular.module('portal')\n  .service('Validate', [function Validate() {\n    return {\n        'message': {\n            'minlength': 'This value is not long enough.',\n            'maxlength': 'This value is too long.',\n            'email': 'A properly formatted email address is required.',\n            'required': 'This field is required.'\n        },\n        'more_messages': {\n            'demo': {\n                'required': 'Here is a sample alternative required message.'\n            }\n        },\n        'check_more_messages': function(name,error){\n            return (this.more_messages[name] || [])[error] || null;\n        },\n        validation_messages: function(field,form,error_bin){\n            var messages = [];\n            for(var e in form[field].$error){\n                if(form[field].$error[e]){\n                    var special_message = this.check_more_messages(field,e);\n                    if(special_message){\n                        messages.push(special_message);\n                    }else if(this.message[e]){\n                        messages.push(this.message[e].replace('This',field));\n                    }else{\n                        messages.push(\"Error: \" + e);\n                    }\n                }\n            }\n            var deduped_messages = [];\n            angular.forEach(messages, function(el, i){\n                if(deduped_messages.indexOf(el) === -1) deduped_messages.push(el);\n            });\n            if(error_bin){\n                error_bin[field] = deduped_messages;\n            }\n        },\n        'form_validation': function(form,error_bin){\n            for(var field in form){\n                if(field.substr(0,1) != \"$\"){\n                    this.validation_messages(field,form,error_bin);\n                }\n            }\n        }\n    };\n}]);\n","angular.module('portal')\n.factory('BaseUrl', [function () {\n    return 'https://api.axiologue.org/';\n}]);\n\nangular.module('portal')\n.factory('chartUtils', [function () {\n  var services = {};\n\n  // D3 text wrapper function\n  // Taken from http://bl.ocks.org/mbostock/7555321\n  services.wrap = function (text, width) {\n    text.each(function() {\n      var text = d3.select(this),\n          words = text.data()[0].label.toUpperCase().split(/\\s+/).reverse(),\n          word,\n          line = [],\n          lineNumber = 0,\n          lineHeight = 1, // ems\n          y = text.attr(\"y\"),\n          x = text.attr('x'),\n          dy = parseFloat(text.attr(\"dy\")),\n          tspan = text.text(null).append(\"tspan\").attr(\"x\", x).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n      while (word = words.pop()) {\n        line.push(word);\n        tspan.text(line.join(\" \"));\n        if (tspan.node().getComputedTextLength() > width) {\n          line.pop();\n          tspan.text(line.join(\" \"));\n          line = [word];\n          tspan = text.append(\"tspan\").attr(\"x\", x).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n        }\n      }\n      if (lineNumber > 0) {\n       text.attr(\"y\", function () {\n        return y - (lineNumber * 16)/2;\n       });\n      }\n    });\n  }\n\n  return services;\n}]);\n\nangular.module('portal')\n.factory('Scores', [function () {\n  var services = {},\n      _categoryIcons = {\n        'Animal Welfare': 'paw',\n        'Consumer Health': 'ambulance',\n        'Corporate Finances': 'dollar',\n        'Environment': 'leaf',\n        'Labor': 'suitcase', \n        'Public Engagement': 'bullhorn'\n  }; \n\n  services.getCategoryIcons = function () {\n    return _categoryIcons;\n  };\n\n  services.parseSingleScores = function (scores) {\n    var data = [];\n\n    for (var j=0; j < scores[0].categories.length + 1; j++) { \n      var category = {\n        'label': j === 0 ? 'overall' : scores[0].categories[j-1].category,\n        'scores': []\n      };\n\n      for (var i=0; i < scores.length; i++) {\n        var score = {\n          'user': scores[i].user,\n          'score': j === 0 ? scores[i].overall : scores[i].categories[j-1].score\n        };\n       \n        category.scores.push(score);\n      }\n\n      data.push(category);\n    }\n\n    return data;\n  };\n\n  services.parseMultiScores = function (scores) {\n    var data = [];\n\n    for (var i=0; i < scores.length; i++) {\n      var dataPoint = {'label': scores[i].Company.name, 'scores': []};\n\n      for (var j=0; j < scores[i].scores.length; j++) {\n        dataPoint.scores.push({'user': scores[i].scores[j].user, 'score': scores[i].scores[j].overall});\n      }\n\n      data.push(dataPoint);\n    }\n\n    return data;\n  };\n\n  return services;\n}]);\n\nangular.module('portal')\n.factory('LinkStore', [function () {\n  var services = {},\n      _storedLink = \"/\";\n\n  services.set = function (link) {\n    _storedLink = link;\n  };\n\n  services.get = function () {\n    return _storedLink;\n  };\n\n  return services;\n}]);\n\nangular.module('portal')\n.factory('Includes', [function () {\n  var services = {},\n      _includes = {\n        generalSearchForm: 'templates/includes/general_search_form.html',\n        productForm: 'templates/includes/product_form.html'\n      };\n\n  services.get = function (templateName) {\n    return _includes[templateName];\n  };\n\n  return services;\n}]);\n","angular.module('portal')\n.factory('Product', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n\n  var services = {},\n      _productInfo = $resource(BaseUrl + 'products/products/:productID/', {}, {\n        list: { method: 'GET', params: {productID: 'list'}},\n        detail: { method: 'GET'}\n      }),\n      _productScores = $resource(BaseUrl + 'profile/scores/product/', {}, {\n        get: { method: 'GET', isArray: true}\n      }),\n      _tags = $resource(BaseUrl + 'tags/etags/list/', {},{\n        all: {method: 'GET', isArray: true}\n      }),\n      _divisions = ['Boys', 'Girls', 'Infant', 'Kids', 'Men', 'Newborn', 'Preschool', 'Toddler', 'Unisex', 'Women'],\n      _categories = ['Baseball','Basketball','Crosstraining','Football','Hiking','Golf','Indoor','Lacrosse','Rugby','Running','Skate','Snowboarding','Soccer','Softball','Tennis','Track & Field','Trail Running','Trainers','Walking','Wrestling','Yoga'];\n  \n\n  services.detail = function (productID, success) {\n    return _productInfo.detail({productID: productID}, success);\n  };\n\n  services.getScores = function (productID, success) {\n    return _productScores.get({id: productID, include_object: false}, success);\n  };\n\n  services.getDivisions = function () {\n    return _divisions;\n  };\n\n  services.getCategories = function () {\n    return _categories;\n  };\n\n  services.allTags = function (productID, success) {\n    return _tags.all({product_id: productID}, success);\n  };\n\n  services.list = function (queryDict, success) {\n    var tempProduct = $.extend({}, queryDict);\n    // remove empty keys\n    for (var key in tempProduct) {\n      if (tempProduct.hasOwnProperty(key)) {\n        if (!tempProduct[key]) {\n          delete tempProduct[key];\n        }\n      }\n    }\n\n    return _productInfo.list(tempProduct, success);\n\n  };\n\n  return services;\n\n}]);\n","angular.module('portal')\n.factory('Preference', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n  var services = {},\n      _pref = $resource(BaseUrl + 'profile/prefs/:preferenceID/', {}, {\n        all: {method: 'GET', params: {preferenceID: 'all'}, isArray: true},\n        update: {method: 'PUT'}\n      });\n\n    services.getAll = function () {\n      return _pref.all();\n    };\n\n    services.update = function (data, success) {\n      return _pref.update({preferenceID: data.id}, data, success);\n    };\n\n    return services;\n\n}]);\n","angular.module('portal')\n.factory('Landing', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n  var services = {};\n\n  var _landing = $resource(BaseUrl + 'landing/recent/', {}, {\n    query: {method: 'GET', isArray: true}\n  });\n\n  services.recentData = function (success) {\n    return _landing.query(success);\n  };\n\n  return services;\n}]);\n\n\nangular.module('portal')\n.factory('Search', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n  var services = {},\n      _search = $resource(BaseUrl + 'search/general/', {}, {\n        get: {method: 'GET'}\n      });\n\n  services.general = function (query, success) {\n    return _search.get({q: query}, success);\n  };\n\n  return services;\n}]);\n","angular.module('portal')\n.factory('tokenCleaner', ['$injector', '$cookies', '$rootScope', '$q', function ($injector, $cookies, $rootScope, $q) {\n  var interceptor = {\n     responseError: function(response) {\n      if (response.status === 401 && response.data) {\n        if (response.data.detail === 'Invalid token.') {\n          $cookies.remove('token');\n          $cookies.remove('user')\n\n          var http = $injector.get('$http');\n          delete http.defaults.headers.common.Authorization;\n          $rootScope.$broadcast(\"djangoAuth.logged_out\");\n        }\n      }\n\n      return $q.reject(response);\n    }\n  }\n\n  return interceptor;\n}]);\n","'use strict';\n\nangular.module('portal')\n  .service('djangoAuth', [\n        '$q',\n        '$http',\n        '$cookies',\n        '$rootScope',\n        'BaseUrl',\n        function djangoAuth($q, $http, $cookies, $rootScope,BaseUrl) {\n    // AngularJS will instantiate a singleton by calling \"new\" on this function\n    var service = {\n        /* START CUSTOMIZATION HERE */\n        // Change this to point to your Django REST Auth API\n        // e.g. /api/rest-auth  (DO NOT INCLUDE ENDING SLASH)\n        'API_URL': BaseUrl + 'rest-auth',\n        // Set use_session to true to use Django sessions to store security token.\n        // Set use_session to false to store the security token locally and transmit it as a custom header.\n        'use_session': false,\n        'cookieLength': 14,\n        /* END OF CUSTOMIZATION */\n        'authenticated': null,\n        'authPromise': null,\n        'request': function(args) {\n            // Let's retrieve the token from the cookie, if available\n            if($cookies.get('token')){\n                $http.defaults.headers.common.Authorization = 'Token ' + $cookies.get('token');\n            }\n            // Continue\n            params = args.params || {};\n            args = args || {};\n            var deferred = $q.defer(),\n                url = this.API_URL + args.url,\n                method = args.method || \"GET\",\n                params = params,\n                data = args.data || {};\n            // Fire the request, as configured.\n            $http({\n                url: url,\n                withCredentials: this.use_session,\n                method: method.toUpperCase(),\n                headers: {'X-CSRFToken': $cookies.csrftoken,\n                          'Access-Control-Allow-Credentials': 'true'},\n                params: params,\n                data: data\n            })\n            .success(angular.bind(this,function(data, status, headers, config) {\n                deferred.resolve(data, status);\n            }))\n            .error(angular.bind(this,function(data, status, headers, config) {\n                console.log(\"error syncing with: \" + url);\n                // Set request status\n                if(data){\n                    data.status = status;\n                }\n                if(status === 0){\n                    if(data === \"\"){\n                        data = {};\n                        data.status = 0;\n                        data.non_field_errors = [\"Could not connect. Please try again.\"];\n                    }\n                    // or if the data is null, then there was a timeout.\n                    if(data === null){\n                        // Inject a non field error alerting the user\n                        // that there's been a timeout error.\n                        data = {};\n                        data.status = 0;\n                        data.non_field_errors = [\"Server timed out. Please try again.\"];\n                    }\n                }\n                deferred.reject(data, status, headers, config);\n            }));\n            return deferred.promise;\n        },\n        'register': function(username,password1,password2,email,more){\n            var data = {\n                'username':username,\n                'password1':password1,\n                'password2':password2,\n                'email':email\n            };\n            data = angular.extend(data,more);\n            return this.request({\n                'method': \"POST\",\n                'url': \"/registration/\",\n                'data' :data\n            });\n        },\n        'login': function(username,password){\n            var djangoAuth = this;\n            return this.request({\n                'method': \"POST\",\n                'url': \"/login/\",\n                'data':{\n                    'username':username,\n                    'password':password,\n                }\n            }).then(function(data){\n                if(!djangoAuth.use_session){\n                    var expires = new Date();\n                    expires.setDate(expires.getDate() + djangoAuth.cookieLength);\n                    $http.defaults.headers.common.Authorization = 'Token ' + data.key;\n                    $cookies.put('token',data.key,{'expires':expires});\n                }\n                djangoAuth.authenticated = true;\n                $rootScope.$broadcast(\"djangoAuth.logged_in\", data);\n            });\n        },\n        'logout': function(){\n            var djangoAuth = this;\n            return this.request({\n                'method': \"POST\",\n                'url': \"/logout/\"\n            }).then(function(data){\n                djangoAuth.tokenClear();\n                $rootScope.$broadcast(\"djangoAuth.logged_out\");\n            });\n        },\n        'changePassword': function(password1,password2){\n            return this.request({\n                'method': \"POST\",\n                'url': \"/password/change/\",\n                'data':{\n                    'new_password1':password1,\n                    'new_password2':password2\n                }\n            });\n        },\n        'resetPassword': function(email){\n            return this.request({\n                'method': \"POST\",\n                'url': \"/password/reset/\",\n                'data':{\n                    'email':email\n                }\n            });\n        },\n        'profile': function(){\n            return this.request({\n                'method': \"GET\",\n                'url': \"/user/\",\n                'params': { 'cacheBuster': new Date().getTime() }\n            }).then(function (data) {\n              var expires = new Date();\n              expires.setDate(expires.getDate() + djangoAuth.cookieLength);\n              $cookies.putObject('user', data, {'expires':expires});\n              $rootScope.$broadcast(\"djangoAuth.set_profile\", data);\n            }); \n        },\n        'updateProfile': function(data){\n            return this.request({\n                'method': \"PATCH\",\n                'url': \"/user/\",\n                'data':data\n            }); \n        },\n        'verify': function(key){\n            return this.request({\n                'method': \"POST\",\n                'url': \"/registration/verify-email/\",\n                'data': {'key': key} \n            });            \n        },\n        'confirmReset': function(uid,token,password1,password2){\n            return this.request({\n                'method': \"POST\",\n                'url': \"/password/reset/confirm/\",\n                'data':{\n                    'uid': uid,\n                    'token': token,\n                    'new_password1':password1,\n                    'new_password2':password2\n                }\n            });\n        },\n        'authenticationStatus': function(restrict, force){\n            // Set restrict to true to reject the promise if not logged in\n            // Set to false or omit to resolve when status is known\n            // Set force to true to ignore stored value and query API\n            restrict = restrict || false;\n            force = force || false;\n            if(this.authPromise === null || force){\n                this.authPromise = this.request({\n                    'method': \"GET\",\n                    'url': \"/user/\"\n                });\n            }\n            var da = this;\n            var getAuthStatus = $q.defer();\n            if (this.authenticated !== null && !force) {\n                // We have a stored value which means we can pass it back right away.\n                if(this.authenticated === false && restrict){\n                    getAuthStatus.reject(\"User is not logged in.\");\n                }else{\n                    getAuthStatus.resolve();\n                }\n            } else {\n                // There isn't a stored value, or we're forcing a request back to\n                // the API to get the authentication status.\n                this.authPromise.then(function(){\n                    da.authenticated = true;\n                    getAuthStatus.resolve();\n                },function(){\n                    da.authenticated = false;\n                    if(restrict){\n                        getAuthStatus.reject(\"User is not logged in.\");\n                    }else{\n                        getAuthStatus.resolve();\n                    }\n                });\n            }\n            return getAuthStatus.promise;\n        },\n        'initialize': function(url, sessions){\n            this.API_URL = url;\n            this.use_session = sessions;\n            return this.authenticationStatus();\n        },\n        'tokenClear': function () {\n            var djangoAuth = this;\n            delete $http.defaults.headers.common.Authorization;\n            $cookies.remove('token');\n            $cookies.remove('user')\n            djangoAuth.authenticated = false;\n        }\n    };\n    return service;\n  }]);\n\n\n","angular.module('portal')\n.factory('Company', ['$resource', 'BaseUrl', function ($resource, BaseUrl) {\n\n  var services = {},\n      _companyInfo = $resource(BaseUrl + 'products/companies/:companyID/', {}, {\n        all: { method: 'GET', params: {companyID: 'all'}, isArray: true},\n        detail: { method: 'GET'}\n      }),\n      _companyScores = $resource(BaseUrl + 'profile/scores/company/', {}, {\n        get: { method: 'GET', isArray: true}\n      }),\n      _allScores = $resource(BaseUrl + 'profile/scores/company/all/', {}, {\n        get: { method: 'GET', isArray: true}\n      }),\n      _tags = $resource(BaseUrl + 'tags/etags/list/', {},{\n        all: {method: 'GET', isArray: true}\n      });\n\n  services.detail = function (companyID) {\n    return _companyInfo.detail({companyID: companyID});\n  };\n\n  services.getScores = function (name, success) {\n    return _companyScores.get({name: name, include_object: 'False'}, success);\n  };\n\n  services.allScores = function (success) {\n    return _allScores.get({include_subcategories: 'False'}, success);\n  };\n\n  services.allTags = function (name) {\n    return _tags.all({company: name, no_product: 'True'});\n  };\n\n  services.getAll = function () {\n    return _companyInfo.all();\n  };\n\n  return services;\n\n}]);\n","angular.module('portal')\n.factory('Blog', ['BaseUrl', '$resource', function (BaseUrl, $resource) {\n  var services = {},\n      _blogAPI = $resource(BaseUrl + 'blog/posts/:postID/', {}, {\n        list: {method: 'GET', params: {postID: 'all'}, isArray: true},\n        detail: {method: 'GET'}\n      });\n\n  services.list = function () {\n    return _blogAPI.list();\n  };\n\n  services.getPost = function (postName) {\n    return _blogAPI.detail({postID: postName});\n  };\n\n  return services;\n}]);\n","angular.module('portal')\n.directive('barsLegend', ['$window', function ($window) {\n  return {\n    restrict: 'EA',\n    scope: {\n      data: '='\n    },\n    link: function (scope, element, attrs) {\n      var legendClass = attrs.legendClass || 'bar-legend',\n          width = attrs.legendWidth || 300,\n          boxHeight = attrs.boxHeight || 20,\n          boxPadding = attrs.boxPadding || 10,\n          marginTop = attrs.marginTop || 20,\n          marginBottom = attrs.marginBottom || 20,\n          marginLeft = attrs.marginLeft || 20,\n          marginRight = attrs.marginRight || 20,\n          legendAttr = attrs.legendAttr || 'user';\n\n      var svg = d3.select(element[0])\n        .append('svg')\n        .attr('width', width);\n\n      // watch for data changes and re-render\n      scope.$watch('data', function(newVals, oldVals) {\n        return scope.render(newVals);\n      }, true);\n\n      scope.render = function (data) {\n        svg.selectAll('*').remove();\n\n        var height = data[0].scores.length * boxHeight + (data[0].scores.length - 1) * boxPadding +  marginTop + marginBottom;\n\n        svg.attr('height', height)\n          .attr('class', legendClass);\n\n        var row = svg.selectAll('g')\n          .data(data[0].scores).enter()\n          .append('g')\n          .attr('transform', function (d, i) {\n            return 'translate(' + marginLeft + ',' + (marginTop + i * (boxPadding + boxHeight)) + ')';\n          });\n\n        var boxes = row.append('rect')\n          .attr('x', 0)\n          .attr('y', 0)\n          .attr('width', boxHeight)\n          .attr('height', boxHeight)\n          .attr('class', function (d) {\n            return 'horizontal-bar ' + d.user.replace('_', '-');\n          });\n\n        var text = row.append('text')\n          .attr('x', boxHeight + boxPadding)\n          .attr('y', boxHeight)\n          .attr('dy', '-.35em')\n          .text(function (d) {\n            return d.user.substr(0,7) === 'Generic' ? d.user.replace('_', ' ') : 'YOU';\n          });\n\n      };\n    }\n  };\n}]);\n","angular.module('portal')\n.directive('horizontalBars', ['$window', 'chartUtils', function ($window, chartUtils) {\n  return {\n    restrict: 'E',\n    scope: {\n      data: '=' \n    },\n    link: function(scope, element, attrs) {\n      // attribute settings: can be re-defined on object\n      var marginTop = parseInt(attrs.marginTop) || 70,\n          marginBottom = parseInt(attrs.marginBottom) || 50,\n          barHeight = parseInt(attrs.barHeight) || 20,\n          barPadding = parseInt(attrs.barPadding) || 5,\n          barClass = attrs.barClass || 'horizontal-bar',\n          titleClass = attrs.titleClass || 'horizontal-bar-title',\n          appendNameToClass = attrs.appendName ? attrs.appendName === 'true' : true,\n          chartGap = parseInt(attrs.chartGap) || 20,\n          titleSpace = parseInt(attrs.titleSpace) || 120,\n          linkText = attrs.linkText || false;\n\n\n      var svg = d3.select(element[0])\n        .append('svg')\n        .style('width', '100%');\n\n      // Browser resize event\n      window.onresize = function () {\n        scope.$apply();\n      };\n\n\n      // re-render data on resize\n      scope.$watch(function () {\n        return angular.element($window)[0].innerWidth;\n      }, function () {\n        scope.render(scope.data);\n      });\n\n\n      // watch for data changes and re-render\n      scope.$watch('data', function(newVals, oldVals) {\n        return scope.render(newVals);\n      }, true);\n\n\n      // Elements that should be (re)-drawn on every render\n      scope.render = function (data) {\n        svg.selectAll('*').remove();\n\n        // Calculated values\n        var nodeWidth = d3.select(element[0]).node().offsetWidth,\n            height = data.length * (chartGap + data[0].scores.length * (barHeight + barPadding)),\n            marginLeft = nodeWidth > 768 ? parseInt(attrs.marginLeft) || 10 : 10,\n            marginRight = nodeWidth > 768 ? parseInt(attrs.marginRight) || 50 : 20,\n            width = nodeWidth - marginLeft - marginRight - titleSpace,\n            xScale = d3.scale.linear()\n              .domain([0, 5])\n              .range([0, width/2]), \n            xAxis = d3.svg.axis()\n              .scale(d3.scale.linear().domain([-5, 5]).range([0, width]))\n              .tickValues([-5,-4,-3,-2,-1,0,1,2,3,4,5])\n              .tickSize(height - chartGap)\n              .orient('top'),\n            chartHeight = data[0].scores.length * (barHeight + barPadding);\n\n        svg.attr('height', height + marginTop + marginBottom);\n        \n        /*\n        var darkerHalf = svg.append('rect')\n          .attr('x', titleSpace + marginLeft)\n          .attr('y', marginTop)\n          .attr('width', width/2)\n          .attr('height', height)\n          .attr('class', 'negative-back');\n        */\n\n        // Axes\n        var axis = svg.append('g')\n          .attr('transform', 'translate(' + (titleSpace + marginLeft) + ',' + (height + marginTop - chartGap) + ')')\n          .attr(\"class\", \"x axis\")\n          .call(xAxis);\n\n        axis.selectAll('text')\n          .attr('dy', -5);\n\n        // Wrapper to enforce margins\n        var wrapper = svg.append('g')\n          .attr('width', width)\n          .attr('height', height)\n          .attr('transform', 'translate(' + (titleSpace + marginLeft) + ',' + marginTop + ')')\n          .attr('class','chart-wrapper');\n\n\n        // For each subset of data, create a group and move to the appropriate position\n        var charts = wrapper.selectAll('g.chart')\n          .data(data).enter();\n\n        if (linkText) {\n          charts = charts.append('a')\n          .attr('xlink:href',function (d) {\n            return linkText + d.label.replace(' ', '-');\n          });\n        }\n\n        charts = charts.append('g').attr('class', 'chart')\n            .attr('transform', function (d, i) {\n              return 'translate(0, ' + (i * (chartGap + chartHeight)) + ')'; \n            });\n\n\n        // Axis whiteout\n        charts.append('rect')\n          .attr('class', 'whiteout')\n          .attr('width', width)\n          .attr('height', chartGap)\n          .attr('x', 0)\n          .attr('y', chartHeight);\n\n\n        // Individual Chart Wrapper\n        charts.append('rect')\n          .attr('class', titleClass + '-rect')\n          .attr('width', width)\n          .attr('height', data[0].scores.length * (barHeight + barPadding))\n          .attr('x', 0)\n          .attr('y', 0);\n\n\n        // Section Labels\n        var labels = charts.append('text')\n          .attr('text-anchor', 'end')\n          .attr('x', -5)\n          .attr('y', function (d,i) {\n            return (chartHeight/2);\n          })\n          .attr('dy','.35em')\n          .attr('class', titleClass)\n          .call(chartUtils.wrap, titleSpace); \n\n        labels.call(chartUtils.wrap, titleSpace);\n\n        // Draw Hoziontal Bars for each subset of data\n        var bars = charts.selectAll('rect.bar')\n          .data(function (d) { return d.scores; }).enter()\n          .append('rect')\n          .attr('class', function (d) {\n            return appendNameToClass ? 'bar ' + barClass + ' ' + d.user.replace('_', '-') : 'bar ' + barClass;\n          })\n          .attr('height', barHeight)\n          .attr('width', 0)\n          .attr('x', width/2)\n          .attr('y', function (d, i) {\n            return barPadding/2 + i * (barHeight + barPadding);\n          });\n\n\n        var scoresText = charts.selectAll('text.score-text')\n          .data(function (d) { return d.scores; }).enter()\n          .append('text')\n          .attr('class', function (d) { \n            return appendNameToClass ? 'score-text ' + d.user.replace('_', '-') : 'score-text';\n          })\n          .attr('text-anchor', function (d) {\n            var anchor;\n\n            if (d.score < 0) {\n              anchor = 'end';\n            } else {\n              if (d.score > 0) {\n                anchor = 'start';\n              } else {\n                anchor = 'middle';\n              }\n            }\n            \n            return anchor;  \n          })\n          .attr('y', function (d, i) {\n            return barPadding/2 + barHeight/2 + i * (barHeight + barPadding);\n          })\n          .attr('dy','.35em')\n          .attr('x', function (d) {\n            var dist = xScale(Math.abs(d.score)),\n                pos = width/2;\n\n            if (d.score < 0) pos -= dist + 5;\n            if (d.score > 0) pos += dist + 5;\n            \n            return pos; \n          })\n          .text(function (d) {\n            return d.score; \n          });\n          \n\n        // Animate Bars\n        bars.transition()\n          .duration(1000)\n          .attr('x', function (d) {\n            return d.score < 0 ? width/2 - xScale(Math.abs(d.score)) : width/2;\n          })\n          .attr('width', function (d) {\n            return xScale(Math.abs(d.score)); \n          });\n\n      };\n\n    }\n  };\n\n}]);\n","angular.module('portal')\n.directive('convertToNumber', function() {\n  return {\n    require: 'ngModel',\n    link: function(scope, element, attrs, ngModel) {\n      ngModel.$parsers.push(function(val) {\n        return parseInt(val, 10);\n      });\n      ngModel.$formatters.push(function(val) {\n        return '' + val;\n      });\n    }\n  };\n});\n","angular.module('portal')\n.controller('GeneralSearchFormCtrl', ['$scope', '$location', function ($scope, $location) {\n\n  $scope.generalSearch = function () {\n    if ($scope.search.query) {\n      $location.path('search/general/' + $scope.search.query);\n    }\n  };\n}]);\n\nangular.module('portal')\n.controller('GeneralSearchCtrl', ['$scope', 'Includes', function ($scope, Includes) {\n  $scope.generalSearchForm = Includes.get('generalSearchForm');\n}]);\n\nangular.module('portal')\n.controller('SearchResultsCtrl', ['$scope', 'Search', '$routeParams', '$location', '$anchorScroll', function ($scope, Search, $routeParams, $location, $anchorScroll) {\n  $scope.search = { query: $routeParams.searchQuery };\n  $scope.state = { loading: true };\n\n  var searchSuccess = function (response) {\n    $scope.state.loading = false;\n    \n    delete response.$promise;\n    delete response.$resolved;\n\n    $scope.results = response;\n    $scope.result_keys = Object.keys(response);\n    $scope.results.products = $scope.results.products.map(function (obj) {\n      return { id: obj.id, text: obj.text.split('\\n') };\n    });\n    $scope.results.references = $scope.results.references.map(function (obj) {\n      return { id: obj.id, text: obj.text.split('\\n') };\n    });\n  };\n\n  Search.general($routeParams.searchQuery, searchSuccess);\n\n  $scope.goToHash = function (hash) {\n\n    $anchorScroll(hash);\n  };\n}]);\n","angular.module('portal')\n.controller('ProfileCtrl', ['$scope', 'Preference', function ($scope, Preference) {\n  $scope.preferences = Preference.getAll()\n\n  $scope.options = [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5];\n}]);\n\nangular.module('portal')\n.controller('SinglePrefCtrl', ['$scope', 'Preference', function ($scope, Preference) {\n  $scope.showPrefForm = false;\n\n  $scope.openPrefForm = function () {\n    $scope.showPrefForm = true;\n\n    $scope.newPref = $.extend({}, $scope.fact);\n  };\n\n  $scope.closePrefForm = function ($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    $scope.showPrefForm = false;\n  };\n\n  $scope.updatePref = function () {\n    var prefSuccess = function (response) {\n      $scope.fact.preference = response.preference;\n\n      $scope.showPrefForm = false;\n    };\n\n    Preference.update($scope.newPref, prefSuccess);\n  };\n}]);\n","angular.module('portal')\n.controller('ProductDetailCtrl', ['$scope', 'Product', 'Company', '$routeParams', 'Scores', function ($scope, Product, Company, $routeParams, Scores) {\n\n  // get name of the current company\n  var productID = $routeParams.productID;\n\n  // Font Awesome Icons for tag categories\n  $scope.categoryIcons = Scores.getCategoryIcons();\n\n  // Dummy Blank Data for score charts\n  $scope.scores = [\n    {\n      'category' : '',\n      'scores': []\n    }\n  ];\n  \n  // API Calls \n  var parseScores = function (response) {\n    $scope.scores = Scores.parseSingleScores(response);\n  };\n\n  Product.getScores(productID, parseScores);\n\n  var countTags = function (response) {\n    var count = 0;\n    for (var i=0; i < response.length; i++) {\n      count += response[i].tags.length;\n    }\n    $scope.product_tag_count = count;\n  }\n\n  $scope.product_tags = Product.allTags(productID, countTags);\n\n  var productFollowUp = function (response) {\n    $scope.product = response;\n\n    $scope.company_tags = Company.allTags(response.company);\n  };\n\n  Product.detail(productID, productFollowUp);\n\n}]);\n\nangular.module('portal')\n.controller('ProductSearchCtrl', ['$scope', 'Product', 'Company', 'Includes', function ($scope, Product, Company, Includes) {\n  $scope.companies = Company.getAll();\n  $scope.divisions = Product.getDivisions();\n  $scope.categories = Product.getCategories();\n  $scope.productFormTemplate = Includes.get('productForm');\n  $scope.state = { \n    priceRange: true,\n    showToggle: true,\n    loading: false,\n    searched: false\n  };\n  $scope.results = [];\n\n  // emptying product\n  function resetTemp () {\n    $scope.tempProduct = {\n        name: \"\",\n        company_id: \"\",\n        division: undefined,\n        category: undefined,\n        price_0: \"\",\n        price_1: \"\",\n    };\n  }\n\n  resetTemp();\n\n  $scope.clearForm = function ($event) {\n    $event.stopPropagation();\n    $event.preventDefault();\n\n    $scope.results = [];\n    $scope.state.searched = false;\n    resetTemp();\n  };\n\n  $scope.productSubmit = function () {\n    var productSuccess = function (response) {\n      $scope.state.loading = false;\n      $scope.results = response.products; \n    };\n    \n    $scope.state.loading = true;\n    $scope.state.searched = true;\n    Product.list($scope.tempProduct, productSuccess);\n  };\n}]);\n\nangular.module('portal')\n.controller('ProductFormCtrl', ['$scope', function ($scope) {\n  $scope.toggleCollapse = function ($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    \n    $scope.toggleOpen = !$scope.toggleOpen;\n    $('#productFormCollapse').collapse('toggle'); \n  }\n}]);\n","angular.module('portal')\n.controller('MasterCtrl', ['$scope', 'djangoAuth', '$location', 'LinkStore', function ($scope, djangoAuth, $location, LinkStore) {\n  var expires = {};\n\n  // Assume user is not logged in until we hear otherwise\n  $scope.authenticated = false;\n  // Wait for the status of authentication, set scope var to true if it resolves\n  $scope.user = {'username':'','first_name':'','last_name':'','email':''};\n\n\n    // Wait for the status of authentication, set scope var to true if it resolves\n    djangoAuth.authenticationStatus(true).then(function(){\n        $scope.authenticated = true;\n        djangoAuth.profile();\n    });\n\n    // Wait and respond to the logout event.\n    $scope.$on('djangoAuth.logged_out', function() {\n      $scope.authenticated = false;\n      $scope.user = {'username':'','first_name':'','last_name':'','email':''};\n    });\n\n    // Wait and respond to the log in event.\n    $scope.$on('djangoAuth.logged_in', function() {\n      $scope.authenticated = true;\n      djangoAuth.profile();\n    });\n\n    $scope.$on('djangoAuth.set_profile', function (event, data) {\n        $scope.user = data;\n    });\n\n    // If the user attempts to access a restricted page, redirect to login page with error.\n    $scope.$on('$routeChangeError', function(ev, current, previous, rejection){\n      console.error(\"Unable to change routes.  Error: \", rejection);\n      console.log(previous);\n      console.log(current);\n      LinkStore.set(previous.$$route.originalPath);\n      $location.path('/forbidden');\n    });\n\n    $scope.logout = function(){\n      djangoAuth.logout();\n    };\n}]);\n","angular.module('portal')\n.controller('RecentCtrl', ['$scope', 'Landing', function ($scope, Landing) {\n  $scope.search = { query: '' };\n\n  var populateRecent = function (response) {\n    $scope.events = response[2].events;\n    $scope.tags = response[1].tags;\n    $scope.posts = response[0].posts;\n\n    for (var i=0; i<$scope.tags.length; i++) {\n      $scope.tags[i].link = $scope.tags[i].product ? '#/products/detail/' + $scope.tags[i].product.id : '#/companies/detail/' + $scope.tags[i].company.replace(' ', '-');\n    }\n  };\n\n  Landing.recentData(populateRecent);\n}]);\n\n\n","angular.module('portal')\n.controller('CompanyDetailCtrl', ['$scope', 'Company', '$routeParams', 'Scores', function ($scope, Company, $routeParams, Scores) {\n\n  // get name of the current company\n  var name = $routeParams.companyName.replace('-', ' ');\n\n  // Font Awesome Icons for tag categories\n  $scope.categoryIcons = Scores.getCategoryIcons();\n\n\n  // Convert data to usable form\n  var parseScores = function (response) {\n    $scope.scores = Scores.parseSingleScores(response);\n  };\n\n  // Dummy Blank Data for score charts\n  $scope.scores = [\n    {\n      'label' : '',\n      'scores': []\n    }\n  ];\n  \n  // API Calls \n  Company.getScores(name, parseScores);\n  $scope.company = Company.detail(name);\n  $scope.tags = Company.allTags(name)\n\n}]);\n\nangular.module('portal')\n.controller('CompanyAllCtrl', ['$scope', 'Company', 'Scores', function ($scope, Company, Scores) {\n  $scope.loading = true;\n  $scope.companies = Company.getAll();\n\n  $scope.filterProps = {\n    showGeneric: true,\n    ordering: \"alphabetic\"\n  };\n\n  var _scores;\n\n  // Dummy Blank Data for score charts\n  $scope.scores = [\n    {\n      'label' : '',\n      'scores': []\n    }\n  ];\n\n  // Sorting and Filtering\n  function getUserScore(obj, user_name) {\n    return obj.scores.filter(function (x) {return x.user === user_name})[0].score;\n  }\n\n  function sortByUserScore(user_name) {\n    return function (a, b) {\n      if (getUserScore(a, user_name) > getUserScore(b, user_name)) { return -1; }\n      if (getUserScore(b, user_name) > getUserScore(a, user_name)) { return 1; }\n      return 0;\n    }\n  }\n\n  function sortByLabel(a, b) {\n    return a.label.localeCompare(b.label);\n  }\n\n  $scope.sortScores = function () {\n    if ($scope.filterProps.ordering === 'alphabetic') { $scope.scores.sort(sortByLabel); }\n    else { $scope.scores.sort(sortByUserScore($scope.filterProps.ordering)) }\n  };\n\n  $scope.filterScores = function () {\n    // filter out the generics if required\n    var scores = $scope.filterProps.showGeneric ? _scores : _scores.map(function (obj) {\n      return {\n        'label': obj.label,\n        'scores': obj.scores.filter(function (obj) { \n          return obj.user !== 'Generic_Conservative' && obj.user !== 'Generic_Liberal'\n        }) \n      }\n    });\n    $scope.scores = scores;\n  }\n\n\n  var parseScores = function (response) {\n    $scope.loading = false;\n    _scores = Scores.parseMultiScores(response);\n    $scope.scores = _scores;\n  };\n\n  Company.allScores(parseScores);\n}]);\n","angular.module('portal')\n.controller('BlogDetailCtrl', ['$scope', 'Blog', '$routeParams', function ($scope, Blog, $routeParams) {\n  $scope.post = Blog.getPost($routeParams.postName);\n}]);\n\nangular.module('portal')\n.controller('BlogListCtrl', ['$scope', 'Blog', function ($scope, Blog) {\n  $scope.posts = Blog.list();\n}]);\n","angular.module('portal')\n.controller('ProfilePageCtrl',['$scope','$cookies',function ($scope,$cookies) {\n\n  $scope.model = $cookies.getObject('user') || $.extend({},$scope.user);\n}]);\n\n\nangular.module('portal')\n.controller('UserprofileCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.updateProfile = function(formData, model){\n      $scope.errors = [];\n\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.updateProfile(model)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.error = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('LoginCtrl', ['$scope','$location','djangoAuth','Validate',function ($scope, $location, djangoAuth, Validate) {\n    $scope.login = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.login($scope.model.username, $scope.model.password)\n        .then(function(data){\n          // success case\n          $location.path(\"/\");\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('PasswordchangeCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.model = {'new_password1':'','new_password2':''};\n    $scope.complete = false;\n    $scope.changePassword = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.changePassword($scope.model.new_password1, $scope.model.new_password2)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    };\n  }]);\n\n\nangular.module('portal')\n.controller('RegisterCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.model = {'email':'','password':''};\n    $scope.complete = false;\n    $scope.register = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.register(\n            $scope.model.username,\n            $scope.model.password1,\n            $scope.model.password2,\n            $scope.model.email\n        )\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    }\n  }]);\n\nangular.module('portal')\n.controller('VerifyemailCtrl', ['$scope','$routeParams','djangoAuth',function ($scope, $routeParams, djangoAuth) {\n    djangoAuth.verify($routeParams.emailVerificationToken).then(function(data){\n      $scope.success = true;\n    },function(data){\n      $scope.failure = false;\n    });\n  }]);\n\nangular.module('portal')\n.controller('PasswordresetCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.model = {'email':''};\n    $scope.complete = false;\n    $scope.resetPassword = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.resetPassword($scope.model.email)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('UserprofileCtrl', ['$scope','djangoAuth','Validate',function ($scope, djangoAuth, Validate) {\n    $scope.complete = false;\n    $scope.model = $.extend({}, $scope.user);\n    console.log($scope.user);\n    $scope.updateProfile = function(formData, model){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.updateProfile(model)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.error = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('PasswordresetconfirmCtrl', ['$scope','$routeParams','djangoAuth','Validate',function ($scope, $routeParams, djangoAuth, Validate) {\n    $scope.model = {'new_password1':'','new_password2':''};\n    $scope.complete = false;\n    $scope.confirmReset = function(formData){\n      $scope.errors = [];\n      Validate.form_validation(formData,$scope.errors);\n      if(!formData.$invalid){\n        djangoAuth.confirmReset($routeParams.firstToken, $routeParams.passwordResetToken, $scope.model.new_password1, $scope.model.new_password2)\n        .then(function(data){\n          // success case\n          $scope.complete = true;\n        },function(data){\n          // error case\n          $scope.errors = data;\n        });\n      }\n    };\n  }]);\n\nangular.module('portal')\n.controller('ForbiddenCtrl', ['$scope', 'LinkStore', function ($scope, LinkStore) {\n  $scope.backLink = LinkStore.get();\n}]);\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/product_form.html',\n    '<div ng-controller=\"ProductFormCtrl\"><h3 class=\"text-danger\" ng-show=\"error\">{{error.msg}}</h3><h3 class=\"text-danger\" ng-repeat=\"error in errors.non_field_errors\">{{error}}</h3><h3 class=\"text-success\" ng-show=\"success\">{{success}}</h3><form class=\"form-black\" ng-submit=\"productSubmit()\"><div class=\"form-group\"><h3 class=\"text-danger\" ng-repeat=\"error in errors.name\">{{error}}</h3><label for=\"{{\\'name\\' + product.id}}\">NAME:</label><input type=\"text\" id=\"{{\\'name\\' + product.id}}\" ng-model=\"tempProduct.name\" name=\"title\" class=\"form-control\" placeholder=\"Product Name\"></div><div id=\"productFormCollapse\" class=\"collapse\"><div class=\"form-group\"><label for=\"{{\\'companies\\' + product.id}}\">COMPANY:</label><select ng-model=\"tempProduct.company_id\" class=\"form-control\" ng-options=\"company.id as company.name for company in companies\"><option value=\"\">---- Select Company ----</option></select></div><div class=\"form-group\"><h3 class=\"text-danger\" ng-repeat=\"error in errors.division\">{{error}}</h3><label for=\"{{\\'division\\' + product.id}}\">DIVISION:</label><select id=\"{{\\'division\\' + product.id}}\" ng-model=\"tempProduct.division\" class=\"form-control\"><option value=\"\">---- Select Division (Optional) ----</option><option ng-repeat=\"division in divisions\" value=\"{{division}}\">{{division}}</option></select></div><div class=\"form-group\"><h3 class=\"text-danger\" ng-repeat=\"error in errors.category\">{{error}}</h3><label for=\"{{\\'category\\' + product.id}}\">CATEGORY:</label><select id=\"{{\\'category\\' + product.id}}\" ng-model=\"tempProduct.category\" class=\"form-control\"><option value=\"\">---- Select Category (Optional) ----</option><option ng-repeat=\"category in categories\" value=\"{{category}}\">{{category}}</option></select></div><div class=\"form-group\" ng-if=\"!state.priceRange\"><label for=\"{{\\'price\\' + product.id}}\">PRICE:</label><h3 class=\"text-danger\" ng-repeat=\"error in errors.price\">{{error}}</h3><div class=\"left-inner-addon\"><span>$</span> <input type=\"text\" id=\"{{\\'price\\' + product.id}}\" ng-model=\"tempProduct.price\" name=\"title\" class=\"form-control\" placeholder=\"if a range is listed, give the cheapest value\"></div></div><div class=\"form-group\" ng-if=\"state.priceRange\"><label for=\"{{\\'price\\' + product.id}}\">PRICE (may not reflect price in stores):</label><h3 class=\"text-danger\" ng-repeat=\"error in errors.price\">{{error}}</h3><div class=\"col-xs-12 form-sub-group\"><div class=\"form-inline\"><div class=\"form-group\"><div class=\"left-inner-addon\"><span>$</span> <input type=\"text\" id=\"{{\\'priceMin\\' + product.id}}\" ng-model=\"tempProduct.price_0\" name=\"title\" class=\"form-control\" placeholder=\"Minimum Price\"></div></div><div class=\"form-group\"><div class=\"left-inner-addon\"><span>$</span> <input type=\"text\" id=\"{{\\'priceMax\\' + product.id}}\" ng-model=\"tempProduct.price_1\" name=\"title\" class=\"form-control\" placeholder=\"Maximum Price\"></div></div></div></div></div></div><div class=\"form-group\" ng-if=\"state.showImageLink\"><h3 class=\"text-danger\" ng-repeat=\"error in errors.image_link\">{{error}}</h3><label for=\"{{\\'image_link\\' + article.id}}\">IMAGE LINK (OPTIONAL):</label><input type=\"text\" id=\"{{\\'image_link\\' + article.id}}\" ng-model=\"tempProduct.image_link\" name=\"image_link\" class=\"form-control\"></div><div class=\"form-group\"><input type=\"submit\" class=\"btn btn-black submit-button\" value=\"Submit\"> <button class=\"btn btn-black\" ng-click=\"clearForm($event)\">Clear</button> <button class=\"btn btn-borderless\" ng-click=\"toggleCollapse($event)\" ng-show=\"state.showToggle\"><span ng-hide=\"toggleOpen\">(Advanced Search)</span><span ng-show=\"toggleOpen\">(Basic Search)</span></button></div></form></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/general_search_form.html',\n    '<div class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\" ng-controller=\"GeneralSearchFormCtrl\"><form id=\"general-search-form\" class=\"form-black\" ng-submit=\"generalSearch()\"><div class=\"input-group\"><label class=\"sr-only\" for=\"landing-search\">Search for Shoes, Brands, or References</label><input type=\"text\" name=\"landing-search\" id=\"landing-search\" class=\"form-control\" placeholder=\"Search Shoes, Brands, or References..\" ng-model=\"search.query\"><div class=\"input-group-btn\"><button type=\"submit\" value=\"go\" class=\"btn\"><i class=\"fa fa-fw fa-search\"></i></button></div></div></form><hr></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/verifyemail.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><div id=\"verifyEmail_view\" ng-controller=\"VerifyemailCtrl\"><div ng-if=\"success\" class=\"alert alert-success\">You have successfully verified your email address.</div><div ng-if=\"failure\" class=\"alert alert-warning\">Sorry, there\\'s been an error.</div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/userprofile.html',\n    '<section class=\"container\"><div class=\"row\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><h2 class=\"light-header\">Edit Profile Information</h2><div id=\"userProfile_view\" ng-controller=\"UserprofileCtrl\"><div ng-if=\"complete == false\"><form class=\"form-black\" role=\"form\" ng-if=\"authenticated\" name=\"userProfileForm\" ng-submit=\"updateProfile(userProfileForm, model)\" novalidate><div class=\"form-group\"><label for=\"id_first_name\">First Name</label><input name=\"first_name\" id=\"id_first_name\" class=\"form-control\" type=\"text\" ng-model=\"model.first_name\" placeholder=\"First Name\"></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.first_name\">{{error}}</div><div class=\"form-group\"><label for=\"id_last_name\">Last Name</label><input name=\"last_name\" id=\"id_last_name\" class=\"form-control\" type=\"text\" ng-model=\"model.last_name\" placeholder=\"Last Name\"></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.last_name\">{{error}}</div><div class=\"form-group\"><label for=\"id_email\">Email</label><input name=\"email\" id=\"id_email\" class=\"form-control\" type=\"email\" ng-model=\"model.email\" placeholder=\"Email\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.email\">{{error}}</div><button type=\"submit\" ng-show=\"authenticated\" class=\"btn btn-black\">Update Profile</button></form><div class=\"alert alert-warning\" ng-if=\"authenticated == false\">You need to be logged in to do this.</div></div><div ng-if=\"complete == true\"><div class=\"alert alert-success\">You have updated your profile.</div></div></div><div id=\"passwordChange_view\" ng-controller=\"PasswordchangeCtrl\"><h2 class=\"light-header\">Change Password</h2><div ng-if=\"complete == false\"><form class=\"form-black\" role=\"form\" ng-submit=\"changePassword(changePasswordForm)\" name=\"changePasswordForm\" ng-if=\"authenticated\" novalidate><div class=\"form-group\"><label for=\"id_password1\">New Password</label><input name=\"new_password1\" id=\"id_password1\" type=\"password\" ng-model=\"model.new_password1\" placeholder=\"New Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.new_password1\">{{error}}</div><div class=\"form-group\"><label for=\"id_password2\">Repeat Password</label><input name=\"new_password2\" id=\"id_password2\" type=\"password\" ng-model=\"model.new_password2\" placeholder=\"Repeat Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.new_password2\">{{error}}</div><button ng-show=\"authenticated\" type=\"submit\" class=\"btn btn-black\">Change Password</button></form><div class=\"alert alert-warning\" ng-if=\"authenticated != true\">You need to be logged in to do this!</div></div><div ng-if=\"complete == true\"><div class=\"alert alert-success\">You have changed your password.</div></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/signup.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><div id=\"register_view\" ng-controller=\"RegisterCtrl\"><div ng-if=\"complete == false\"><h3 class=\"title-block title-black-filled\">Please Enter Your Registration Information:</h3><form role=\"form\" class=\"form-black\" ng-if=\"authenticated != true\" name=\"registerForm\" ng-submit=\"register(registerForm)\" novalidate><div class=\"form-group\"><label class=\"sr-only\" for=\"id_first_name\">First Name (optional)</label><input name=\"first_name\" id=\"id_first_name\" class=\"form-control\" type=\"first_name\" ng-model=\"model.first_name\" placeholder=\"First Name\" required></div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_last_name\">Last Name (optional)</label><input name=\"last_name\" id=\"id_last_name\" class=\"form-control\" type=\"last_name\" ng-model=\"model.last_name\" placeholder=\"Last Name\" required></div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_username\">Username</label><input name=\"username\" id=\"id_username\" class=\"form-control\" type=\"username\" ng-model=\"model.username\" placeholder=\"Username\" required></div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_email\">Email</label><input name=\"email\" id=\"id_email\" class=\"form-control\" type=\"email\" ng-model=\"model.email\" placeholder=\"Email\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.email\">{{error}}</div><hr><div class=\"form-group\"><label class=\"sr-only\" for=\"id_password\">Password</label><input name=\"password1\" id=\"id_password1\" class=\"form-control\" type=\"password\" ng-model=\"model.password1\" placeholder=\"Password\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password1\">{{error}}</div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_password\">Repeat Password</label><input name=\"password\" id=\"id_password2\" class=\"form-control\" type=\"password\" ng-model=\"model.password2\" placeholder=\"Repeat Password\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password2\">{{error}}</div><button ng-hide=\"authenticated\" type=\"submit\" class=\"btn btn-black\">Sign Up!</button></form><p ng-if=\"authenticated\">You are already logged in! You don\\'t need to register.</p></div><div ng-if=\"complete == true\"><div class=\"alert alert-success\">Great! You\\'ve just registered. You should receive an email shortly with instructions on how to activate your account.</div></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/passwordresetconfirm.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><h3 class=\"title-block title-black-filled\">Enter New Password</h3><div id=\"passwordResetConfirm_view\" ng-controller=\"PasswordresetconfirmCtrl\"><div ng-hide=\"complete\"><form role=\"form\" ng-hide=\"authenticated\" class=\"form-black\" ng-submit=\"confirmReset(confirmResetForm)\" name=\"confirmResetForm\" novalidate><div class=\"form-group\"><label for=\"id_password1\">New Password</label><input name=\"password1\" id=\"id_password1\" type=\"password\" ng-model=\"model.new_password1\" placeholder=\"New Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password1\">{{error}}</div><div class=\"form-group\"><label for=\"id_password2\">Repeat Password</label><input name=\"password2\" id=\"id_password2\" type=\"password\" ng-model=\"model.new_password2\" placeholder=\"Repeat Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password2\">{{error}}</div><button type=\"submit\" ng-hide=\"authenticated\" class=\"btn btn-black\">Reset Password</button></form><p ng-show=\"authenticated\">You are already logged in! You don\\'t need to reset your password.</p></div><div ng-show=\"complete\"><div class=\"alert alert-success\">You have changed your password.</div></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/passwordreset.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\"><div id=\"passwordReset_view\" ng-controller=\"PasswordresetCtrl\"><h3 class=\"title-block title-black-filled\">Password Reset</h3><div ng-if=\"complete == false\"><form class=\"form-black\" role=\"form\" ng-if=\"authenticated != true\" name=\"passwordResetForm\" ng-submit=\"resetPassword(passwordResetForm)\" novalidate><div class=\"form-group\"><label for=\"id_email\">Email</label><input name=\"email\" id=\"id_email\" type=\"text\" ng-model=\"model.email\" placeholder=\"Email\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.email\">{{error}}</div><button ng-hide=\"authenticated\" type=\"submit\" class=\"btn btn-black\">Reset Password</button></form><p ng-if=\"authenticated\">You are already logged in! You don\\'t need to reset your password.</p></div><div ng-if=\"complete == true\"><div class=\"alert alert-success\">You should receive an email shortly with instructions on how to reset your account password.</div></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/login.html',\n    '<section class=\"container\"><div class=\"row v-center\"><div class=\"col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6\">\\'<div id=\"login_view\" ng-controller=\"LoginCtrl\"><h4 class=\"title-block title-black-filled\">Please Log In</h4><form role=\"form\" ng-submit=\"login(loginForm)\" name=\"loginForm\" class=\"form-black\" novalidate><div class=\"alert alert-danger\" ng-repeat=\"error in errors.username\">{{error}}</div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_username\">Username</label><input name=\"username\" id=\"id_username\" type=\"text\" ng-model=\"model.username\" placeholder=\"Username\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.password\">{{error}}</div><div class=\"form-group\"><label class=\"sr-only\" for=\"id_password\">Password</label><input name=\"password\" id=\"id_password\" type=\"password\" ng-model=\"model.password\" placeholder=\"Password\" class=\"form-control\" required></div><div class=\"alert alert-danger\" ng-repeat=\"error in errors.non_field_errors\">{{error}}</div><div class=\"alert alert-danger\" ng-if=\"error\">{{error}}</div><p><button type=\"submit\" class=\"btn btn-black\">Submit</button></p></form><div><p>Forgot your password? Click <a href=\"#/passwordReset\">here</a></p></div></div><hr><h4>Don\\'t have an Axiologue account? Sign up below!</h4><a href=\"#/signUp\" class=\"btn btn-black\">Sign Up</a></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/auth/forbidden.html',\n    '<section class=\"container-fluid\" ng-controller=\"ForbiddenCtrl\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Restricted Page</h2><h5>In order to access that content, you must be logged in. What would you like to do?</h5><a class=\"btn btn-black\" href=\"{{\\'#\\' +  backLink }}\">Go Back</a> <a class=\"btn btn-black\" href=\"#/login\">Login</a></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/search_results.html',\n    '<div ng-controller=\"SearchResultsCtrl\" id=\"top\"><div ng-include=\"generalSearchForm\"></div><section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><div class=\"text-center\" ng-show=\"state.loading\"><i class=\"fa fa-spinner fa-pulse fa-4x\"></i> <span class=\"sr-only\">Loading...</span></div><div ng-hide=\"state.loading\"><div class=\"result-counts\"><ul><li><strong>RESULTS FOUND:</strong></li><li ng-repeat=\"key in result_keys\"><a href=\"\" ng-click=\"goToHash(key)\">{{ key.toUpperCase() }}: <strong>{{ results[key].length }}</strong></a></li></ul></div></div><div class=\"result-set\" ng-show=\"results.companies.length > 0\" id=\"companies\"><div class=\"row\"><div class=\"col-xs-6\"><h3>Companies</h3></div><div class=\"col-xs-6 text-right search-controls\"><span class=\"text-muted\"><a href=\"\" ng-click=\"goToHash(\\'top\\')\"><h5>(Back to Top)</h5></a></span><span class=\"text-muted\"><a type=\"button\" href=\"\" data-toggle=\"collapse\" data-target=\"#company-data\" aria-expanded=\"true\" aria-controls=\"company-data\"><h5>(Hide)</h5></a></span></div><div class=\"col-xs-12\"><hr></div></div><div class=\"row search-list collapse in\" id=\"company-data\"><div ng-repeat=\"result in results.companies\" class=\"search-item col-xs-12 col-sm-6\"><a href=\"#/companies/detail/{{ result.text.replace(\\' \\',\\'-\\') }}\"><div class=\"search-image\"><img class=\"brand-thumbnail\" src=\"img/Logos/{{ result.text.replace(\\' \\',\\'-\\') }}-small-black.png\"></div><div class=\"search-content\"><strong><h4 class=\"search-header\">{{result.text}}</h4></strong></div></a></div></div></div><div class=\"result-set\" ng-show=\"results.products.length > 0\" id=\"products\"><div class=\"row\"><div class=\"col-xs-6\"><h3>Products</h3></div><div class=\"col-xs-6 text-right search-controls\"><span class=\"text-muted\"><a href=\"\" ng-click=\"goToHash(\\'top\\')\"><h5>(Back to Top)</h5></a></span><span class=\"text-muted\"><a type=\"button\" href=\"\" data-toggle=\"collapse\" data-target=\"#product-data\" aria-expanded=\"true\" aria-controls=\"product-data\"><h5>(Hide)</h5></a></span></div><div class=\"col-xs-12\"><hr></div></div><div class=\"row search-list collapse in\" id=\"product-data\"><div class=\"search-item col-xs-12 col-sm-6\" ng-repeat=\"result in results.products\"><a href=\"#/products/detail/{{ result.id }}\"><div class=\"search-image\"><img class=\"brand-thumbnail\" src=\"img/Logos/{{ result.text[1].replace(\\' \\',\\'-\\') }}-small-black.png\"></div><div class=\"search-content\"><strong><h4 class=\"search-header\">{{result.text[0] }}</h4></strong><span class=\"text-muted\">{{ result.text[1] }} | {{ result.text[2] }} | {{ result.text[3] }}</span></div></a></div></div></div><div class=\"result-set\" ng-show=\"results.references.length > 0\" id=\"references\"><div class=\"row\"><div class=\"col-xs-6\"><h3>References</h3></div><div class=\"col-xs-6 text-right search-controls\"><span class=\"text-muted\"><a href=\"\" ng-click=\"goToHash(\\'top\\')\"><h5>(Back to Top)</h5></a></span><span class=\"text-muted\"><a type=\"button\" href=\"\" data-toggle=\"collapse\" data-target=\"#reference-data\" aria-expanded=\"true\" aria-controls=\"reference-data\"><h5>(Hide)</h5></a></span></div><div class=\"col-xs-12\"><hr></div></div><div class=\"row search-list collapse in\" id=\"reference-data\"><div class=\"search-item col-xs-12\" ng-repeat=\"result in results.references\"><a href=\"#/references/detail/{{ result.id }}\"><div class=\"search-content\"><strong><h4 class=\"search-header\">{{result.text[0] }}</h4></strong><span class=\"text-muted\">{{ result.text[1] }}</span></div></a></div></div></div></div></div></section></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/search_empty.html',\n    '<section><div ng-include=\"generalSearchForm\"></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/product_search.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Find a Shoe</h2><div ng-include=\"productFormTemplate\"></div></div></div><div ng-show=\"state.searched\" class=\"row\"><div class=\"col-xs-12 col-lg-10 col-lg-offset-1\"><hr><div ng-show=\"state.loading\" class=\"text-center\"><i class=\"fa fa-spinner fa-pulse fa-4x\"></i> <span class=\"sr-only\">Loading...</span></div><div ng-hide=\"state.loading\"><div class=\"row search-list\" ng-show=\"results.length > 0\"><div ng-repeat=\"product in results\" class=\"search-item col-xs-12 col-sm-6\"><a href=\"#/products/detail/{{ product.id }}\"><div class=\"search-image\"><img class=\"brand-thumbnail\" src=\"img/Logos/{{ product.company.replace(\\' \\',\\'-\\') }}-small-black.png\"></div><div class=\"search-content\"><strong><h4 class=\"search-header\">{{product.name}}</h4></strong><span class=\"text-muted\">{{ product.company }}</span></div></a></div></div><div ng-hide=\"results.length > 0\" class=\"text-center\"><h2>No Products Found that Match Your Search</h2></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/product_detail.html',\n    '<header class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-4 text-center\"><div class=\"detail-logo\"><img src=\"img/Logos/{{ product.company.replace(\\' \\', \\'-\\') }}-large-black.png\" class=\"img-responsive\" alt=\"{{ product.name }}\"></div><h2 class=\"title-block title-black-filled detail-title\">{{ product.name }}</h2><h3 class=\"detail-supplement\">Made By: <a href=\"#/companies/detail/{{ product.company.replace(\\' \\',\\'-\\') }}\"><strong>{{ product.company }} </strong></a></h3><h3 class=\"detail-supplement\">Category: {{ product.category }}</h3><div bars-legend data=\"scores\"></div><div class=\"btn-personalized-wrapper\"><a href=\"#/login\" class=\"btn btn-black btn-sm btn-personalized\" ng-hide=\"authenticated\">Login to see your own personalized score</a></div></div><div class=\"col-xs-12 col-md-8\"><div class=\"score-chart-header\"><h2 class=\"title-block title-black score-title\">Ethical Scores</h2></div><horizontal-bars data=\"scores\"></horizontal-bars></div></div></header><section class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list\"><h2 class=\"title-block title-white\">Data on {{ product.name }}</h2><div ng-show=\"product_tag_count === 0\"><h5 class=\"no-data\">No product-specific data on {{ product.name }}. You can <a href=\"#/references/how-to\">help us</a> research!</h5></div><div ng-repeat=\"category in product_tags\" ng-show=\"product_tag_count > 0\"><h4 class=\"tag-list-title\">{{ category.category.toUpperCase() }}</h4><ul><li ng-show=\"category.tags.length === 0\"><h5 class=\"no-data\">No Data in this category. You can <a href=\"#/references/how-to\">help us</a> research!</h5></li><li ng-repeat=\"tag in category.tags\"><div class=\"tag-block\"><div class=\"tag-list-icon\"><i class=\"fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-dark-gray\"></i></div><h5 class=\"tag-type\"><strong>{{ tag.tag_type }}<span ng-show=\"tag.value\">: {{tag.value}}</span></strong></h5><span class=\"text-muted\">From: <a href=\"#/references/detail/{{ tag.reference.id }}\">{{ tag.reference.title }}</a> (<a href=\"{{ tag.reference.url }}\" target=\"_newtab\">External Link</a>) (<a role=\"button\" data-target=\"#tag-detail-{{tag.id}}\" data-toggle=\"collapse\" aria-expanded=\"false\" aria-controls=\"tag-detail-{{tag.id}}\">Tag Details</a>)</span></div><div class=\"tag-block\"><div class=\"collapse\" id=\"tag-detail-{{tag.id}}\"><div class=\"tag-detail-content\"><dl class=\"dl-horizontal\"><dt>EXCERPT</dt><dd>\"{{ tag.excerpt }}\"</dd><dt>ADDED BY</dt><dd><span class=\"text-muted\"><a href=\"#/users/{{ tag.added_by }}\">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div><div class=\"col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list\"><h2 class=\"title-block title-white\">Data on {{ product.company }}</h2><div ng-repeat=\"category in company_tags\"><h4 class=\"tag-list-title\">{{ category.category.toUpperCase() }}</h4><ul><li ng-show=\"category.tags.length === 0\"><h5 class=\"no-data\">No Data in this category. You can <a href=\"#/references/how-to\">help us</a> research!</h5></li><li ng-repeat=\"tag in category.tags\"><div class=\"tag-block\"><div class=\"tag-list-icon\"><i class=\"fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-dark-gray\"></i></div><h5 class=\"tag-type\"><strong>{{ tag.tag_type }}<span ng-show=\"tag.value\">: {{tag.value}}</span></strong></h5><span class=\"text-muted\">From: <a href=\"#/references/detail/{{ tag.reference.id }}\">{{ tag.reference.title }}</a> (<a href=\"{{ tag.reference.url }}\" target=\"_newtab\">External Link</a>) (<a role=\"button\" data-target=\"#company-tag-detail-{{tag.id}}\" data-toggle=\"collapse\" aria-expanded=\"false\" aria-controls=\"tag-detail-{{tag.id}}\">See More</a>)</span></div><div class=\"tag-block\"><div class=\"collapse\" id=\"company-tag-detail-{{tag.id}}\"><div class=\"tag-detail-content\"><dl class=\"dl-horizontal\"><dt>EXCERPT</dt><dd>\"{{ tag.excerpt }}\"</dd><dt>ADDED BY</dt><dd><span class=\"text-muted\"><a href=\"#/users/{{ tag.added_by }}\">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div></div></section><div class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12\"><hr></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/landing.html',\n    '<header class=\"container-fluid carousel-wrapper\"><div class=\"row\"><div class=\"col-xs-12 col-carousel\"><div id=\"carousel-landing\" class=\"carousel slide\" data-ride=\"carousel\"><ol class=\"carousel-indicators\"><li data-target=\"#carousel-landing\" data-slide-to=\"0\" class=\"active\"></li><li data-target=\"#carousel-landing\" data-slide-to=\"1\"></li><li data-target=\"#carousel-landing\" data-slide-to=\"2\"></li></ol><div class=\"carousel-inner\" role=\"listbox\"><div class=\"item active\" style=\"background-image: url(\\'img/headers/GrayWalking.jpg\\')\" ng-controller=\"GeneralSearchFormCtrl\"><div class=\"carousel-caption caption-right carousel-caption-search\"><h2>Which Shoes Match Your Ethics?</h2><form class=\"form-white\" ng-submit=\"generalSearch()\"><div class=\"input-group\"><label class=\"sr-only\" for=\"landing-search\">Search</label><input type=\"text\" name=\"landing-search\" id=\"landing-search\" class=\"form-control\" placeholder=\"Search Shoes, Brands, or References..\" ng-model=\"search.query\"><div class=\"input-group-btn\"><button type=\"submit\" value=\"go\" class=\"btn\"><i class=\"fa fa-fw fa-search\"></i></button></div></div></form></div></div><div class=\"item\" style=\"background-image: url(\\'img/headers/GrayShoeHanging.jpg\\')\"><div class=\"carousel-caption caption-bottom\"><h2 class=\"heavy\">Mindful Click:</h2><h3>Shop With Your Ethics on Amazon or Zappos</h3><button class=\"btn btn-lg btn-white\">Get the Extension</button></div></div><div class=\"item\" style=\"background-image: url(\\'img/headers/GrayWalkingSand.jpg\\')\"><div class=\"carousel-caption caption-right caption-squares\"><h2 class=\"caption-title\">Browse By Brand</h2><div class=\"squares-wrapper\"><div class=\"carousel-square\"><a href=\"#/companies/detail/Nike\"><img class=\"img-responsive\" src=\"img/Logos/Nike-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/detail/Adidas\"><img class=\"img-responsive\" src=\"img/Logos/Adidas-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/detail/New-Balance\"><img class=\"img-responsive\" src=\"img/Logos/New-Balance-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/detail/Under-Armour\"><img class=\"img-responsive\" src=\"img/Logos/Under-Armour-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/detail/Asics\"><img class=\"img-responsive\" src=\"img/Logos/Asics-mid-white.png\"></a></div><div class=\"carousel-square\"><a href=\"#/companies/all\"><h3>& Many More...</h3></a></div></div></div></div></div><span class=\"left carousel-control\" data-target=\"#carousel-landing\" role=\"button\" data-slide=\"prev\"><i class=\"fa fa-2x fa-angle-left\" aria-hidden=\"true\"></i> <span class=\"sr-only\">Previous</span> </span><span class=\"right carousel-control\" data-target=\"#carousel-landing\" role=\"button\" data-slide=\"next\"><i class=\"fa fa-2x fa-angle-right\" aria-hidden=\"true\"></i> <span class=\"sr-only\">Next</span></span></div></div></div></header><section class=\"container-fluid\" id=\"recent\" ng-controller=\"RecentCtrl\"><div class=\"row\"><div class=\"col-xs-12 col-md-6 col-lg-4 col-lg-offset-1\"><h2 class=\"title-block title-black\">Newly Added Research</h2><ul class=\"recent-list\"><li ng-repeat=\"tag in tags\"><img class=\"brand-thumbnail\" src=\"img/Logos/{{ tag.company.replace(\\' \\',\\'-\\') }}-small-black.png\"> <strong><h5 class=\"recent-header\"><a href=\"{{ tag.link }}\">{{ tag.tag_type }}<span ng-show=\"tag.value\">: {{tag.value}}</span></a></h5></strong><span class=\"text-muted\">From: <a href=\"#/references/detail/{{ tag.reference.id }}\">{{ tag.reference }}</a></span></li><li class=\"text-center recent-button\"><a class=\"btn btn-black\" href=\"#/data/all\"><h4>Browse the rest of our ethical data</h4></a></li></ul></div><div class=\"col-xs-12 col-md-6 col-lg-4 col-lg-offset-2\"><h2 class=\"title-block title-black\">Recent/Upcoming Events</h2><ul class=\"recent-list\"><li ng-repeat=\"event in events\"><i class=\"fa fa-check-circle fa-2x fa-pull-left fa-border\"></i> <strong><h5 class=\"recent-header\"><a href=\"#/events/detail/{{ event.id }}\">{{ event.name }}</a></h5></strong><span class=\"text-muted\">{{ event.location.name}}, {{ event.location.city }} -- {{ event.start}}</span></li><li class=\"text-center recent-button\"><a class=\"btn btn-black\" href=\"#/events/all\"><h4>See our full calendar</h4></a></li></ul></div></div><div class=\"row dark-row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-white\">New Blog Posts</h2><ul class=\"recent-list\"><li ng-repeat=\"post in posts\"><strong><h3 class=\"recent-header recent-header-large\"><a href=\"#/blog/detail/{{ post.title_url }}\">{{ post.title.toUpperCase() }}</a></h3></strong><h4 class=\"recent-subheader\">{{ post.sub_title }}</h4><span class=\"text-muted\">posted by <a href=\"#/users/{{ post.posted_by }}\">{{ post.posted_by }}</a> at {{ post.pub_time }}.</span></li><li class=\"text-center recent-button\"><a class=\"btn btn-white\" href=\"#/blog/all\"><h4>Check out the rest of the blog!</h4></a></li></ul></div></div></section><section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">FAQ</h2><uib-accordion close-others=\"true\"><uib-accordion-group is-open=\"status.open1\"><uib-accordion-heading>What is Axiologue?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open1, \\'fa-plus-square-o\\': !status.open1}\"></i></uib-accordion-heading><p>Axiologue is a crowd-sourced, community-based project to track the ethics of products and companies. We put ethical information in the hands of consumers, so they can shop in line with their own personal ethics and support the companies that are doing it right. We are follow five principles:</p><ul class=\"fa-ul\"><li><i class=\"fa-li fa fa-usd\"></i> <strong>Free</strong>: Ethical information should never be behind a paywall. We believe ethical information should be accessible to anyone who wants access to it.</li><li><i class=\"fa-li fa fa-user\"></i> <strong>Personalized</strong>: Ethics are deeply personal. Rather than assume some universal ethical standard, Axiologue allows you to prioritize what\\'s important to you.</li><li><i class=\"fa-li fa fa-bar-chart\"></i> <strong>Comprehensive</strong>: Axiologue covers all possible ethical categories, including environment, labor, political affiliation, and more.</li><li><i class=\"fa-li fa fa-unlock-alt\"></i> <strong>Open</strong>: All of Axiologue\\'s data will be publically available, via our own websites/apps and an API so that other developers can access the data directly.</li><li><i class=\"fa-li fa fa-comments\"></i> <strong>Participatory</strong>: Axiologue is a crowd-sourced project, and all you need to contribute is a desire to bring ethical information to those who want it!</li></ul></uib-accordion-group><uib-accordion-group is-open=\"status.open2\"><uib-accordion-heading>Who is Axiologue?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open2, \\'fa-plus-square-o\\': !status.open2}\"></i></uib-accordion-heading><p>Axiologue is a community-based projects. We are researchers, designers, teachers, artists, philosophers, programmers, students, and more. Axiologue could even be you! All of our data is collected and processed by users like you, so look at our <a href=\"#/references/how-to\">how to contribute</a> guide for information on how to contribute.</p><p>Axiologue was founded by artist/programmer <a href=\"http://www.nishi-broach.com/\">Matt Nishi-Broach</a> and artist/community organizer <a href=\"http://www.chloebass.com\">Chlo Bass</a>.</p></uib-accordion-group><uib-accordion-group is-open=\"status.open3\"><uib-accordion-heading>How Does Scoring Work?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open3, \\'fa-plus-square-o\\': !status.open3}\"></i></uib-accordion-heading><p>This is such an important topic that we wrote a whole <a href=\"#/blog/posts/how-unethical-is-a-negative-two\">blog post</a> about it.</p><p>The short answer is that we match the facts we know about each company/product with your ethical feelings about each fact. The scores roughly translate to:</p><ul><li>a <strong>postive</strong> score means the product is in line with your ethics!</li><li>a <strong>negative</strong> score means the product is contrary to your ethics!</li><li>a <strong>zero</strong> means you don\\'t care about that issue (it could also mean we don\\'t have any data in that particular category)!</li></ul><p>To construct your own ethical profile, <a href=\"#/signUp\">sign up</a> for an account. If you don\\'t want to make an account at this time, don\\'t worry: you can browse our products and see scores for our generic profiles</p></uib-accordion-group><uib-accordion-group is-open=\"status.open4\"><uib-accordion-heading>How can I help?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open4, \\'fa-plus-square-o\\': !status.open4}\"></i></uib-accordion-heading><p>All our research is collected by user volunteers like you! We wrote a guide to help <a href=\"#/references/how-to\">first-time contributors</a>, and you should drop into our <a href=\"#/forum\">forum</a> if you have have further questions.</p></uib-accordion-group><uib-accordion-group is-open=\"status.open5\"><uib-accordion-heading>Do you only have information on shoes?<i class=\"pull-right fa\" ng-class=\"{\\'fa-minus-square-o\\': status.open5, \\'fa-plus-square-o\\': !status.open5}\"></i></uib-accordion-heading><p>As of right now, yes. In fact, we\\'re focusing specifically on <em>athletic shoes</em>. We are planning to expand to other product categories in the near future, so if you have suggestions for a certain product category you\\'d like us to research, please <a href=\"MAILTO:info@axiologue.org\">email us</a>. We\\'d love to hear your suggestions!</p></uib-accordion-group></uib-accordion></div></div></section><section class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-left\"><h2 class=\"title-block title-white\">Stay In Touch</h2><div id=\"mc_embed_signup\"><h3>Sign Up For Our Mailing List</h3><form action=\"//axiologue.us10.list-manage.com/subscribe/post?u=a4380cffd095d122a97aaeae6&amp;id=1b7d52909b\" method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\" class=\"validate form-white\" target=\"_blank\" novalidate><div id=\"mc_embed_signup_scroll\"><div class=\"mc-field-group form-group\"><label for=\"mce-EMAIL\" class=\"sr-only\">Email Address (required)</label><input type=\"email\" value=\"\" name=\"EMAIL\" class=\"required email form-control\" id=\"mce-EMAIL\" placeholder=\"Enter Your Email Address (required)\"></div><div class=\"mc-field-group form-group\"><label for=\"mce-FNAME\" class=\"sr-only\">First Name</label><input type=\"text\" value=\"\" name=\"FNAME\" class=\"form-control\" id=\"mce-FNAME\" placeholder=\"Enter First Name\"></div><div class=\"mc-field-group form-group\"><label for=\"mce-LNAME\" class=\"sr-only\">Last Name</label><input type=\"text\" value=\"\" name=\"LNAME\" class=\"form-control\" id=\"mce-LNAME\" placeholder=\"Enter Last Name\"></div><div id=\"mce-responses\" class=\"clear\"><div class=\"response\" id=\"mce-error-response\" style=\"display:none\"></div><div class=\"response\" id=\"mce-success-response\" style=\"display:none\"></div></div><div style=\"position: absolute; left: -5000px\" aria-hidden=\"true\"><input type=\"text\" name=\"b_a4380cffd095d122a97aaeae6_1b7d52909b\" tabindex=\"-1\" value=\"\"></div><div class=\"clear\"><input type=\"submit\" value=\"Subscribe\" name=\"subscribe\" id=\"mc-embedded-subscribe\" class=\"btn btn-white\"></div></div></form></div></div></div><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-center\"><hr class=\"white-rule\"></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/ethics_profile.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><h2 class=\"title-block title-black\">Your Ethical Profile</h2><div ng-repeat=\"category in preferences\" class=\"preferences\"><h2>{{ category.category }}</h2><table class=\"table\" ng-repeat=\"subcat in category.sub\" ng-show=\"subcat.prefs.length > 0\"><colgroup><col class=\"col-type\"><col class=\"col-score\"></colgroup><tr class=\"header-row\"><th>{{ subcat.sub }}</th><th>Your Ethical Preference</th></tr><tr class=\"content-row\" ng-repeat=\"fact in subcat.prefs\" ng-controller=\"SinglePrefCtrl\"><td>{{ fact.type }}</td><td class=\"cell-score\"><div ng-hide=\"showPrefForm\"><span class=\"score\" ng-class=\"{\\'text-positive\\': fact.preference > 0, \\'text-negative\\': fact.preference< 0}\">{{ fact.preference }}</span> <span class=\"text-muted\"><button class=\"btn btn-sm btn-borderless\" ng-click=\"openPrefForm()\">(edit)</button></span></div><div ng-show=\"showPrefForm\"><form class=\"form-inline form-black\" ng-submit=\"updatePref()\"><label class=\"fa-label\"><select ng-model=\"newPref.preference\" class=\"form-control\" convert-to-number><option value=\"{{ opt }}\" ng-repeat=\"opt in options\">{{ opt }}</option></select></label><button type=\"submit\" class=\"btn btn-sm btn-borderless\"><i class=\"fa fa-check\"></i></button> <button class=\"btn btn-sm btn-borderless\" ng-click=\"closePrefForm($event)\"><i class=\"fa fa-times\"></i></button></form></div></td></tr></table></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/company_detail.html',\n    '<header class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-4 text-center\"><div class=\"detail-logo\"><img src=\"img/Logos/{{ company.name.replace(\\' \\', \\'-\\') }}-large-black.png\" class=\"img-responsive\" alt=\"{{ company.name }}\"></div><h2 class=\"title-block title-black-filled detail-title\">{{ company.name }}</h2><h3 class=\"detail-supplement\" ng-show=\"company.owns.length > 0\">Owns: <span ng-repeat=\"owned in company.owns\"><a href=\"#/companies/detail/{{ owned.replace(\\' \\', \\'-\\') }}\"><strong>{{ owned }} </strong></a></span></h3><h3 class=\"detail-supplement\" ng-show=\"company.owned_by\">Owned By: <a href=\"#/companies/detail/{{ company.owned_by.replace(\\' \\', \\'-\\')}}\"><strong>{{ company.owned_by }}</strong></a></h3><div bars-legend data=\"scores\"></div><div class=\"btn-personalized-wrapper\"><a href=\"#/login\" class=\"btn btn-black btn-sm btn-personalized\" ng-hide=\"authenticated\">Login to see your own personalized score</a></div></div><div class=\"col-xs-12 col-md-8\"><div class=\"score-chart-header\"><h2 class=\"title-block title-black score-title\">Ethical Scores</h2></div><horizontal-bars data=\"scores\"></horizontal-bars></div></div></header><section class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list\"><h2 class=\"title-block title-white\">Data on {{ company.name }}</h2><div ng-repeat=\"category in tags\"><h4 class=\"tag-list-title\">{{ category.category.toUpperCase() }}</h4><ul><li ng-show=\"category.tags.length === 0\"><h5 class=\"no-data\">No Data in this category. You can <a href=\"#/references/how-to\">help us</a> research!</h5></li><li ng-repeat=\"tag in category.tags\"><div class=\"tag-block\"><div class=\"tag-list-icon\"><i class=\"fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-dark-gray\"></i></div><h5 class=\"tag-type\"><strong>{{ tag.tag_type }}<span ng-show=\"tag.value\">: {{tag.value}}</span></strong></h5><span class=\"text-muted\">From: <a href=\"#/references/detail/{{ tag.reference.id }}\">{{ tag.reference.title }}</a> (<a href=\"{{ tag.reference.url }}\" target=\"_newtab\">External Link</a>) (<a role=\"button\" data-target=\"#tag-detail-{{tag.id}}\" data-toggle=\"collapse\" aria-expanded=\"false\" aria-controls=\"tag-detail-{{tag.id}}\">See More</a>)</span></div><div class=\"tag-block\"><div class=\"collapse\" id=\"tag-detail-{{tag.id}}\"><div class=\"tag-detail-content\"><dl class=\"dl-horizontal\"><dt>EXCERPT</dt><dd>\"{{ tag.excerpt }}\"</dd><dt>ADDED BY</dt><dd><span class=\"text-muted\"><a href=\"#/users/{{ tag.added_by }}\">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div></div></section><div class=\"container-fluid dark-row\"><div class=\"row\"><div class=\"col-xs-12\"><hr></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/company_all.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><h2 class=\"title-block title-black\">How Ethical Are These Companies?</h2><div class=\"col-xs-12 col-md-4 col-lg-4\"><div bars-legend data=\"scores\"></div><div class=\"btn-personalized-wrapper\"><a href=\"#/login\" class=\"btn btn-black btn-sm btn-personalized\" ng-hide=\"authenticated\">Login to see your own personalized score</a></div><div class=\"filter-box\"><form><div ng-show=\"authenticated\"><h4>Chart Filtering</h4><div class=\"checkbox\"><label><input type=\"checkbox\" ng-model=\"filterProps.showGeneric\" ng-change=\"filterScores()\"> Show Generic Profile Scores</label></div></div><h4>Chart Sorting</h4><div class=\"radio\"><label><input type=\"radio\" ng-change=\"sortScores()\" ng-model=\"filterProps.ordering\" value=\"alphabetic\"> Sort Alphabetically</label></div><div class=\"radio\" ng-repeat=\"_user in scores[0].scores\"><label><input type=\"radio\" ng-change=\"sortScores()\" ng-model=\"filterProps.ordering\" value=\"{{ _user.user }}\"> Sort by Scores ({{ _user.user.replace(\\'_\\', \\' \\') }})</label></div></form></div></div><div class=\"col-xs-12 col-md-8 col-lg-8\"><horizontal-bars data=\"scores\" bar-height=\"12\" chart-gap=\"12\" margin-top=\"20\" link-text=\"#/companies/detail/\"></horizontal-bars><div ng-show=\"loading\" class=\"text-center\"><i class=\"fa fa-spinner fa-pulse fa-4x\"></i> <span class=\"sr-only\">Loading...</span></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/blog_list.html',\n    '<section class=\"container\"><div class=\"row\"><div class=\"col-xs-12\"><h2 class=\"title-block title-black\">Blog Posts</h2><ul class=\"blog-list\"><li ng-repeat=\"post in posts\"><strong><h3 class=\"recent-header recent-header-large\"><a href=\"#/blog/detail/{{ post.title_url }}\">{{ post.title.toUpperCase() }}</a></h3></strong><h4 class=\"recent-subheader\">{{ post.sub_title }}</h4><p class=\"text-muted\">{{post.excerpt}}... (<a href=\"#/blog/posts/{{ post.title_url }}\">Read More</a>)</p><p class=\"text-muted\"><em>posted by</em> <a href=\"#/users/{{ post.posted_by }}\">{{ post.posted_by }}</a> <em>at</em> {{ post.pub_time }}</p></li></ul></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/blog_detail.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\"><div class=\"post-header\"><h1 class=\"post-title\">{{ post.title }}</h1><h3 class=\"post-subtitle\">{{ post.sub_title}}</h3><span class=\"text-muted\">posted by <a href=\"#/user/{{ post.posted_by }}\">{{ post.posted_by }}</a> at {{ post.pub_time }}</span></div><div class=\"post-content\"><div marked=\"post.body\"></div></div></div></div></section>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('portal');\n} catch (e) {\n  module = angular.module('portal', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/404.html',\n    '<section class=\"container-fluid\"><div class=\"row\"><div class=\"col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-center\"><h2 class=\"title-block title-black\">Oops! That Page Doesn\\'t Exist!</h2><p class=\"text-large\">If we made a mistake or have a broken link on the site, please <a class=\"orange\" href=\"MAILTO:admin@axiologue.org\">email us</a> so we can fix it. Otherwise, go back to <a class=\"orange\" href=\"#/\">browsing</a>!</p></div></div></section>');\n}]);\n})();\n"],"sourceRoot":"/source/"}