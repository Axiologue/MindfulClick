"use strict";var portal=angular.module("portal",["ngResource","ui.bootstrap","ngAnimate"]);portal.config(["$resourceProvider",function(e){e.defaults.stripTrailingSlashes=!1}]),angular.module("portal").service("Validate",[function(){return{message:{minlength:"This value is not long enough.",maxlength:"This value is too long.",email:"A properly formatted email address is required.",required:"This field is required."},more_messages:{demo:{required:"Here is a sample alternative required message."}},check_more_messages:function(e,r){return(this.more_messages[e]||[])[r]||null},validation_messages:function(e,r,a){var s=[];for(var o in r[e].$error)if(r[e].$error[o]){var t=this.check_more_messages(e,o);t?s.push(t):this.message[o]?s.push(this.message[o]):s.push("Error: "+o)}var i=[];angular.forEach(s,function(e,r){-1===i.indexOf(e)&&i.push(e)}),a&&(a[e]=i)},form_validation:function(e,r){for(var a in e)"$"!=a.substr(0,1)&&this.validation_messages(a,e,r)}}}]),angular.module("portal").factory("BaseUrl",[function(){return"https://api.axiologue.org"}]),angular.module("portal").factory("Landing",["$resource","BaseUrl",function(e,r){var a={},s=e(r+"/landing/recent/",{},{query:{method:"GET",isArray:!0}});return a.recentData=function(e){return s.query(e)},a}]),angular.module("portal").service("djangoAuth",["$q","$http","$cookies","$rootScope","BaseUrl",function(e,r,a,s,o){var t={API_URL:o+"rest-auth",use_session:!1,authenticated:null,authPromise:null,request:function(s){a.get("token")&&(r.defaults.headers.common.Authorization="Token "+a.get("token")),l=s.params||{},s=s||{};var o=e.defer(),t=this.API_URL+s.url,i=s.method||"GET",l=l,n=s.data||{};return r({url:t,withCredentials:this.use_session,method:i.toUpperCase(),headers:{"X-CSRFToken":a.csrftoken,"Access-Control-Allow-Credentials":"true"},params:l,data:n}).success(angular.bind(this,function(e,r,a,s){o.resolve(e,r)})).error(angular.bind(this,function(e,r,a,s){console.log("error syncing with: "+t),e&&(e.status=r),0===r&&(""===e&&(e={},e.status=0,e.non_field_errors=["Could not connect. Please try again."]),null===e&&(e={},e.status=0,e.non_field_errors=["Server timed out. Please try again."])),o.reject(e,r,a,s)})),o.promise},register:function(e,r,a,s,o){var t={username:e,password1:r,password2:a,email:s};return t=angular.extend(t,o),this.request({method:"POST",url:"/registration/",data:t})},login:function(e,o){var t=this;return this.request({method:"POST",url:"/login/",data:{username:e,password:o}}).then(function(e){if(!t.use_session){var o=new Date;o.setDate(o.getDate()+1),r.defaults.headers.common.Authorization="Token "+e.key,a.put("token",e.key,{expires:o})}t.authenticated=!0,s.$broadcast("djangoAuth.logged_in",e)})},logout:function(){var e=this;return this.request({method:"POST",url:"/logout/"}).then(function(o){delete r.defaults.headers.common.Authorization,a.remove("token"),a.remove("user"),e.authenticated=!1,s.$broadcast("djangoAuth.logged_out")})},changePassword:function(e,r){return this.request({method:"POST",url:"/password/change/",data:{new_password1:e,new_password2:r}})},resetPassword:function(e){return this.request({method:"POST",url:"/password/reset/",data:{email:e}})},profile:function(){return this.request({method:"GET",url:"/user/",params:{foobar:(new Date).getTime()}})},updateProfile:function(e){return this.request({method:"PATCH",url:"/user/",data:e})},verify:function(e){return this.request({method:"POST",url:"/registration/verify-email/",data:{key:e}})},confirmReset:function(e,r,a,s){return this.request({method:"POST",url:"/password/reset/confirm/",data:{uid:e,token:r,new_password1:a,new_password2:s}})},authenticationStatus:function(r,a){r=r||!1,a=a||!1,(null===this.authPromise||a)&&(this.authPromise=this.request({method:"GET",url:"/user/"}));var s=this,o=e.defer();return null===this.authenticated||a?this.authPromise.then(function(){s.authenticated=!0,o.resolve()},function(){s.authenticated=!1,r?o.reject("User is not logged in."):o.resolve()}):this.authenticated===!1&&r?o.reject("User is not logged in."):o.resolve(),o.promise},initialize:function(e,r){return this.API_URL=e,this.use_session=r,this.authenticationStatus()}};return t}]),angular.module("portal").controller("MasterCtrl",["$scope",function(e){}]),angular.module("portal").controller("RecentCtrl",["$scope","Landing",function(e,r){var a=function(r){e.events=r[2].events,e.tags=r[1].tags,e.posts=r[0].posts;for(var a=0;a<e.tags.length;a++)e.tags[a].link=e.tags[a].product?"#/products/detail/"+e.tags[a].product.id:"#/companies/detail/"+e.tags[a].company.id};r.recentData(a)}]),function(e){try{e=angular.module("cross")}catch(r){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/verifyemail.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="verifyEmail_view" ng-controller="VerifyemailCtrl"><div ng-if="success" class="alert alert-success">You have successfully verified your email address.</div><div ng-if="failure" class="alert alert-warning">Sorry, there\'s been an error.</div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(r){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/userprofile.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><h2 class="light-header">Edit Profile Information</h2><div id="userProfile_view" ng-controller="UserprofileCtrl"><div ng-if="complete == false"><form role="form" ng-if="authenticated" name="userProfileForm" ng-submit="updateProfile(userProfileForm, model)" novalidate><div class="form-group"><label for="id_first_name">First Name</label><input name="first_name" id="id_first_name" class="form-control" type="text" ng-model="model.first_name" placeholder="First Name"></div><div class="alert alert-danger" ng-repeat="error in errors.first_name">{{error}}</div><div class="form-group"><label for="id_last_name">Last Name</label><input name="last_name" id="id_last_name" class="form-control" type="text" ng-model="model.last_name" placeholder="Last Name"></div><div class="alert alert-danger" ng-repeat="error in errors.last_name">{{error}}</div><div class="form-group"><label for="id_email">Email</label><input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><button type="submit" ng-show="authenticated" class="btn btn-primary">Update Profile</button></form><div class="alert alert-warning" ng-if="authenticated == false">You need to be logged in to do this.</div></div><div ng-if="complete == true"><div class="alert alert-success">You have updated your profile.</div></div></div><div id="passwordChange_view" ng-controller="PasswordchangeCtrl"><h2 class="light-header">Change Password</h2><div ng-if="complete == false"><form role="form" ng-submit="changePassword(changePasswordForm)" name="changePasswordForm" ng-if="authenticated" novalidate><div class="form-group"><label for="id_password1">New Password</label><input name="new_password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.new_password1">{{error}}</div><div class="form-group"><label for="id_password2">Repeat Password</label><input name="new_password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.new_password2">{{error}}</div><button ng-show="authenticated" type="submit" class="btn btn-primary">Change Password</button></form><div class="alert alert-warning" ng-if="authenticated != true">You need to be logged in to do this!</div></div><div ng-if="complete == true"><div class="alert alert-success">You have changed your password.</div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(r){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/signup.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="register_view" ng-controller="RegisterCtrl"><div ng-if="complete == false"><h3 class="light-header">Please Enter Your Registration Information:</h3><form role="form" ng-if="authenticated != true" name="registerForm" ng-submit="register(registerForm)" novalidate><div class="form-group"><label class="sr-only" for="id_first_name">First Name (optional)</label><input name="first_name" id="id_first_name" class="form-control" type="first_name" ng-model="model.first_name" placeholder="First Name" required></div><div class="form-group"><label class="sr-only" for="id_last_name">Last Name (optional)</label><input name="last_name" id="id_last_name" class="form-control" type="last_name" ng-model="model.last_name" placeholder="Last Name" required></div><div class="form-group"><label class="sr-only" for="id_username">Username</label><input name="username" id="id_username" class="form-control" type="username" ng-model="model.username" placeholder="Username" required></div><div class="form-group"><label class="sr-only" for="id_email">Email</label><input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><hr><div class="form-group"><label class="sr-only" for="id_password">Password</label><input name="password1" id="id_password1" class="form-control" type="password" ng-model="model.password1" placeholder="Password" required></div><div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div><div class="form-group"><label class="sr-only" for="id_password">Repeat Password</label><input name="password" id="id_password2" class="form-control" type="password" ng-model="model.password2" placeholder="Repeat Password" required></div><div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div><button ng-hide="authenticated" type="submit" class="btn btn-block btn-auth-orange">Sign Up!</button></form><p ng-if="authenticated">You are already logged in! You don\'t need to register.</p></div><div ng-if="complete == true"><div class="alert alert-success">Great! You\'ve just registered. You should receive an email shortly with instructions on how to activate your account.</div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(r){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/passwordresetconfirm.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="passwordResetConfirm_view" ng-controller="PasswordresetconfirmCtrl"><div ng-hide="complete"><form role="form" ng-hide="authenticated" ng-submit="confirmReset(confirmResetForm)" name="confirmResetForm" novalidate><div class="form-group"><label for="id_password1">New Password</label><input name="password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div><div class="form-group"><label for="id_password2">Repeat Password</label><input name="password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div><button type="submit" ng-hide="authenticated" class="btn btn-primary">Reset Password</button></form><p ng-show="authenticated">You are already logged in! You don\'t need to reset your password.</p></div><div ng-show="complete"><div class="alert alert-success">You have changed your password.</div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(r){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/passwordreset.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="passwordReset_view" ng-controller="PasswordresetCtrl"><div ng-if="complete == false"><form role="form" ng-if="authenticated != true" name="passwordResetForm" ng-submit="resetPassword(passwordResetForm)" novalidate><div class="form-group"><label for="id_email">Email</label><input name="email" id="id_email" type="text" ng-model="model.email" placeholder="Email" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><button ng-hide="authenticated" type="submit" class="btn btn-primary">Reset Password</button></form><p ng-if="authenticated">You are already logged in! You don\'t need to reset your password.</p></div><div ng-if="complete == true"><div class="alert alert-success">You should receive an email shortly with instructions on how to reset your account password.</div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(r){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/login.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">\'<div id="login_view" ng-controller="LoginCtrl"><h4 class="light-header">Please Log In</h4><form role="form" ng-submit="login(loginForm)" name="loginForm" novalidate><div class="form-group"><label class="sr-only" for="id_username">Username</label><input name="username" id="id_username" type="text" ng-model="model.username" placeholder="Username" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><div class="form-group"><label class="sr-only" for="id_password">Password</label><input name="password" id="id_password" type="password" ng-model="model.password" placeholder="Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.username">{{error}}</div><div class="alert alert-danger" ng-repeat="error in errors.password">{{error}}</div><div class="alert alert-danger" ng-repeat="error in errors.non_field_errors">{{error}}</div><div class="alert alert-danger" ng-if="error">{{error}}</div><p><button type="submit" class="btn btn-block btn-succes">Submit</button></p></form><div><p>Forgot your password? Click <a href="#/passwordReset">here</a></p></div></div><hr><h4>Don\'t have an Axiologue account? Sign up below!</h4><a href="#/signUp" class="btn btn-block btn-primary">Sign Up</a></div></div></div>')}])}();
//# sourceMappingURL=../maps/app.min.js.map
