"use strict";var portal=angular.module("portal",["ngResource","ui.bootstrap","ngAnimate","ngRoute","ngCookies"]);portal.config(["$resourceProvider",function(e){e.defaults.stripTrailingSlashes=!1}]),portal.config(["$httpProvider",function(e){e.interceptors.push("tokenCleaner")}]),portal.config(["$routeProvider",function(e){e.when("/",{templateUrl:"templates/landing.html"}).when("/login",{templateUrl:"templates/auth/login.html"}).when("/signUp",{templateUrl:"templates/auth/signup.html"}).when("/verifyEmail/:emailVerificationToken",{templateUrl:"templates/auth/verifyemail.html"}).when("/passwordReset",{templateUrl:"templates/auth/passwordreset.html"}).when("/passwordResetConfirm/:firstToken/:passwordResetToken",{templateUrl:"templates/auth/passwordresetconfirm.html"}).when("/companies/detail/:companyName",{controller:"CompanyDetailCtrl",templateUrl:"templates/company_detail.html"}).otherwise({redirectTo:"/"})}]),angular.module("portal").service("Validate",[function(){return{message:{minlength:"This value is not long enough.",maxlength:"This value is too long.",email:"A properly formatted email address is required.",required:"This field is required."},more_messages:{demo:{required:"Here is a sample alternative required message."}},check_more_messages:function(e,a){return(this.more_messages[e]||[])[a]||null},validation_messages:function(e,a,t){var r=[];for(var o in a[e].$error)if(a[e].$error[o]){var s=this.check_more_messages(e,o);s?r.push(s):this.message[o]?r.push(this.message[o]):r.push("Error: "+o)}var l=[];angular.forEach(r,function(e,a){-1===l.indexOf(e)&&l.push(e)}),t&&(t[e]=l)},form_validation:function(e,a){for(var t in e)"$"!=t.substr(0,1)&&this.validation_messages(t,e,a)}}}]),angular.module("portal").factory("BaseUrl",[function(){return"https://api.axiologue.org/"}]),angular.module("portal").factory("chartUtils",[function(){var e={};return e.wrap=function(e,a){e.each(function(){for(var e,t=d3.select(this),r=t.data()[0].category.toUpperCase().split(/\s+/).reverse(),o=[],s=0,l=1,i=t.attr("y"),n=t.attr("x"),c=parseFloat(t.attr("dy")),d=t.text(null).append("tspan").attr("x",n).attr("y",i).attr("dy",c+"em");e=r.pop();)o.push(e),d.text(o.join(" ")),d.node().getComputedTextLength()>a&&(o.pop(),d.text(o.join(" ")),o=[e],d=t.append("tspan").attr("x",n).attr("y",i).attr("dy",++s*l+c+"em").text(e));s>0&&t.attr("y",function(){return i-16*s/2})})},e}]),angular.module("portal").factory("Landing",["$resource","BaseUrl",function(e,a){var t={},r=e(a+"landing/recent/",{},{query:{method:"GET",isArray:!0}});return t.recentData=function(e){return r.query(e)},t}]),angular.module("portal").factory("tokenCleaner",["$location","$injector","$cookies",function(e,a,t){var r={responseError:function(r){if(401===r.status&&r.data&&"Invalid token."===r.data.detail){t.remove("token"),t.remove("user");var o=a.get("$http");delete o.defaults.headers.common.Authorization,e.path("/")}}};return r}]),angular.module("portal").service("djangoAuth",["$q","$http","$cookies","$rootScope","BaseUrl",function e(a,t,r,o,s){var l={API_URL:s+"rest-auth",use_session:!1,cookieLength:14,authenticated:null,authPromise:null,request:function(e){r.get("token")&&(t.defaults.headers.common.Authorization="Token "+r.get("token")),i=e.params||{},e=e||{};var o=a.defer(),s=this.API_URL+e.url,l=e.method||"GET",i=i,n=e.data||{};return t({url:s,withCredentials:this.use_session,method:l.toUpperCase(),headers:{"X-CSRFToken":r.csrftoken,"Access-Control-Allow-Credentials":"true"},params:i,data:n}).success(angular.bind(this,function(e,a,t,r){o.resolve(e,a)})).error(angular.bind(this,function(e,a,t,r){console.log("error syncing with: "+s),e&&(e.status=a),0===a&&(""===e&&(e={},e.status=0,e.non_field_errors=["Could not connect. Please try again."]),null===e&&(e={},e.status=0,e.non_field_errors=["Server timed out. Please try again."])),o.reject(e,a,t,r)})),o.promise},register:function(e,a,t,r,o){var s={username:e,password1:a,password2:t,email:r};return s=angular.extend(s,o),this.request({method:"POST",url:"/registration/",data:s})},login:function(e,a){var s=this;return this.request({method:"POST",url:"/login/",data:{username:e,password:a}}).then(function(e){if(!s.use_session){var a=new Date;a.setDate(a.getDate()+s.cookieLength),t.defaults.headers.common.Authorization="Token "+e.key,r.put("token",e.key,{expires:a})}s.authenticated=!0,o.$broadcast("djangoAuth.logged_in",e)})},logout:function(){var e=this;return this.request({method:"POST",url:"/logout/"}).then(function(a){e.tokenClear(),o.$broadcast("djangoAuth.logged_out")})},changePassword:function(e,a){return this.request({method:"POST",url:"/password/change/",data:{new_password1:e,new_password2:a}})},resetPassword:function(e){return this.request({method:"POST",url:"/password/reset/",data:{email:e}})},profile:function(){return this.request({method:"GET",url:"/user/",params:{cacheBuster:(new Date).getTime()}}).then(function(a){var t=new Date;t.setDate(t.getDate()+e.cookieLength),r.putObject("user",a,{expires:t}),o.$broadcast("djangoAuth.set_profile",a)})},updateProfile:function(e){return this.request({method:"PATCH",url:"/user/",data:e})},verify:function(e){return this.request({method:"POST",url:"/registration/verify-email/",data:{key:e}})},confirmReset:function(e,a,t,r){return this.request({method:"POST",url:"/password/reset/confirm/",data:{uid:e,token:a,new_password1:t,new_password2:r}})},authenticationStatus:function(e,t){e=e||!1,t=t||!1,(null===this.authPromise||t)&&(this.authPromise=this.request({method:"GET",url:"/user/"}));var r=this,o=a.defer();return null===this.authenticated||t?this.authPromise.then(function(){r.authenticated=!0,o.resolve()},function(){r.authenticated=!1,e?o.reject("User is not logged in."):o.resolve()}):this.authenticated===!1&&e?o.reject("User is not logged in."):o.resolve(),o.promise},initialize:function(e,a){return this.API_URL=e,this.use_session=a,this.authenticationStatus()},tokenClear:function(){var e=this;delete t.defaults.headers.common.Authorization,r.remove("token"),r.remove("user"),e.authenticated=!1}};return l}]),angular.module("portal").factory("Company",["$resource","BaseUrl",function(e,a){var t={},r=e(a+"products/companies/:companyID/",{},{all:{method:"GET",params:{companyID:"all"},isArray:!0},detail:{method:"GET"}}),o=e(a+"profile/scores/company/",{},{get:{method:"GET",isArray:!0}}),s=e(a+"tags/etags/list/",{},{all:{method:"GET",isArray:!0}});return t.detail=function(e){return r.detail({companyID:e})},t.getScores=function(e,a){return o.get({name:e,include_object:!1},a)},t.allTags=function(e){return s.all({company:e})},t}]),angular.module("portal").controller("MasterCtrl",["$scope","djangoAuth","$cookies",function(e,a){e.authenticated=!1,e.user={username:"",first_name:"",last_name:"",email:""},a.authenticationStatus(!0).then(function(){e.authenticated=!0,a.profile()}),e.$on("djangoAuth.logged_out",function(){e.authenticated=!1,e.user={username:"",first_name:"",last_name:"",email:""}}),e.$on("djangoAuth.logged_in",function(){e.authenticated=!0,a.profile()}),e.$on("djangoAuth.set_profile",function(a,t){e.user=t}),e.$on("$routeChangeError",function(e,a,t,r){console.error("Unable to change routes.  Error: ",r),$location.path("/login").replace()}),e.logout=function(){a.logout()}}]),angular.module("portal").controller("RecentCtrl",["$scope","Landing",function(e,a){var t=function(a){e.events=a[2].events,e.tags=a[1].tags,e.posts=a[0].posts;for(var t=0;t<e.tags.length;t++)e.tags[t].link=e.tags[t].product?"#/products/detail/"+e.tags[t].product.id:"#/companies/detail/"+e.tags[t].company.replace(" ","-")};a.recentData(t)}]),angular.module("portal").controller("CompanyDetailCtrl",["$scope","Company","$routeParams",function(e,a,t){var r=t.companyName.replace("-"," ");e.categoryIcons={"Animal Welfare":"paw","Consumer Health":"ambulance","Corporate Finances":"dollar",Environment:"leaf",Labor:"suitcase","Public Engagement":"bullhorn"};var o=function(a){for(var t=[],r=0;r<a[0].categories.length+1;r++){for(var o={category:0===r?"overall":a[0].categories[r-1].category,scores:[]},s=0;s<a.length;s++){var l={name:a[s].user,score:0===r?a[s].overall:a[s].categories[r-1].score};o.scores.push(l)}t.push(o)}e.scores=t};e.scores=[{category:"",scores:[]}],a.getScores(r,o),e.company=a.detail(r),e.tags=a.allTags(r)}]),angular.module("portal").controller("ProfilePageCtrl",["$scope","$cookies",function(e,a){e.model=a.getObject("user")||$.extend({},e.user)}]),angular.module("portal").controller("UserprofileCtrl",["$scope","djangoAuth","Validate",function(e,a,t){e.updateProfile=function(r,o){e.errors=[],t.form_validation(r,e.errors),r.$invalid||a.updateProfile(o).then(function(a){e.complete=!0},function(a){e.error=a})}}]),angular.module("portal").controller("LoginCtrl",["$scope","$location","djangoAuth","Validate",function(e,a,t,r){e.login=function(o){e.errors=[],r.form_validation(o,e.errors),o.$invalid||t.login(e.model.username,e.model.password).then(function(e){a.path("/")},function(a){e.errors=a})}}]),angular.module("portal").controller("PasswordchangeCtrl",["$scope","djangoAuth","Validate",function(e,a,t){e.model={new_password1:"",new_password2:""},e.complete=!1,e.changePassword=function(r){e.errors=[],t.form_validation(r,e.errors),r.$invalid||a.changePassword(e.model.new_password1,e.model.new_password2).then(function(a){e.complete=!0},function(a){e.errors=a})}}]),angular.module("portal").controller("RegisterCtrl",["$scope","djangoAuth","Validate",function(e,a,t){e.model={email:"",password:""},e.complete=!1,e.register=function(r){e.errors=[],t.form_validation(r,e.errors),r.$invalid||a.register(e.model.username,e.model.password1,e.model.password2,e.model.email).then(function(a){e.complete=!0},function(a){e.errors=a})}}]),angular.module("portal").controller("VerifyemailCtrl",["$scope","$routeParams","djangoAuth",function(e,a,t){t.verify(a.emailVerificationToken).then(function(a){e.success=!0},function(a){e.failure=!1})}]),angular.module("portal").controller("PasswordresetCtrl",["$scope","djangoAuth","Validate",function(e,a,t){e.model={email:""},e.complete=!1,e.resetPassword=function(r){e.errors=[],t.form_validation(r,e.errors),r.$invalid||a.resetPassword(e.model.email).then(function(a){e.complete=!0},function(a){e.errors=a})}}]),angular.module("portal").controller("UserprofileCtrl",["$scope","djangoAuth","Validate",function(e,a,t){e.complete=!1,e.updateProfile=function(r,o){e.errors=[],t.form_validation(r,e.errors),r.$invalid||a.updateProfile(o).then(function(a){e.complete=!0},function(a){e.error=a})}}]),angular.module("portal").controller("PasswordresetconfirmCtrl",["$scope","$routeParams","djangoAuth","Validate",function(e,a,t,r){e.model={new_password1:"",new_password2:""},e.complete=!1,e.confirmReset=function(o){e.errors=[],r.form_validation(o,e.errors),o.$invalid||t.confirmReset(a.firstToken,a.passwordResetToken,e.model.new_password1,e.model.new_password2).then(function(a){e.complete=!0},function(a){e.errors=a})}}]),angular.module("portal").directive("barsLegend",["$window",function(e){return{restrict:"EA",scope:{data:"="},link:function(e,a,t){var r=t.legendClass||"bar-legend",o=t.legendWidth||300,s=t.boxHeight||20,l=t.boxPadding||10,i=t.marginTop||20,n=t.marginBottom||20,c=t.marginLeft||20,d=(t.marginRight||20,d3.select(a[0]).append("svg").attr("width",o));e.$watch("data",function(a,t){return e.render(a)},!0),e.render=function(e){d.selectAll("*").remove();var a=e[0].scores.length*s+(e[0].scores.length-1)*l+i+n;d.attr("height",a).attr("class",r);var t=d.selectAll("g").data(e[0].scores).enter().append("g").attr("transform",function(e,a){return"translate("+c+","+(i+a*(l+s))+")"});t.append("rect").attr("x",0).attr("y",0).attr("width",s).attr("height",s).attr("class",function(e){return"horizontal-bar "+e.name.replace("_","-")}),t.append("text").attr("x",s+l).attr("y",s).attr("dy","-.35em").text(function(e){return"Generic"===e.name.substr(0,7)?e.name.replace("_"," "):"YOU"})}}}}]),angular.module("portal").directive("horizontalBars",["$window","chartUtils",function(e,a){return{restrict:"E",scope:{data:"="},link:function(t,r,o){var s=parseInt(o.marginTop)||70,l=parseInt(o.marginBottom)||50,i=parseInt(o.barHeigh)||20,n=parseInt(o.barPadding)||5,c=o.barClass||"horizontal-bar",d=o.titleClass||"horizontal-bar-title",u=o.appendName?"true"===o.appendName:!0,p=o.chartGap||20,m=o.titleSpace||120,g=d3.select(r[0]).append("svg").style("width","100%");window.onresize=function(){t.$apply()},t.$watch(function(){return angular.element(e)[0].innerWidth},function(){t.render(t.data)}),t.$watch("data",function(e,a){return t.render(e)},!0),t.render=function(e){g.selectAll("*").remove();var t=d3.select(r[0]).node().offsetWidth,h=e.length*(p+e[0].scores.length*(i+n)),f=t>768?parseInt(o.marginLeft)||10:10,v=t>768?parseInt(o.marginRight)||50:10,w=t-f-v-m,b=d3.scale.linear().domain([0,5]).range([0,w/2]),y=d3.svg.axis().scale(d3.scale.linear().domain([-5,5]).range([0,w])).tickValues([-5,-4,-3,-2,-1,0,1,2,3,4,5]).tickSize(h-p).orient("top"),_=e[0].scores.length*(i+n);g.attr("height",h+s+l);var x=g.append("g").attr("transform","translate("+(m+f)+","+(h+s-p)+")").attr("class","x axis").call(y);x.selectAll("text").attr("dy",-5);var k=g.append("g").attr("width",w).attr("height",h).attr("transform","translate("+(m+f)+","+s+")").attr("class","chart-wrapper"),P=k.selectAll("g.chart").data(e).enter().append("g").attr("class","chart").attr("transform",function(e,a){return"translate(0, "+a*(p+_)+")"});P.append("rect").attr("class","whiteout").attr("width",w).attr("height",p).attr("x",0).attr("y",_),P.append("rect").attr("class",d+"-rect").attr("width",w).attr("height",e[0].scores.length*(i+n)).attr("x",0).attr("y",0);var A=P.append("text").attr("text-anchor","end").attr("x",-5).attr("y",function(e,a){return _/2}).attr("dy",".35em").attr("class",d).call(a.wrap,m);A.call(a.wrap,m);var C=P.selectAll("rect.bar").data(function(e){return e.scores}).enter().append("rect").attr("class",function(e){return u?"bar "+c+" "+e.name.replace("_","-"):"bar "+c}).attr("height",i).attr("width",0).attr("x",w/2).attr("y",function(e,a){return n/2+a*(i+n)});P.selectAll("text.score-text").data(function(e){return e.scores}).enter().append("text").attr("class",function(e){return u?"score-text "+e.name.replace("_","-"):"score-text"}).attr("text-anchor",function(e){var a;return a=e.score<0?"end":e.score>0?"start":"middle"}).attr("y",function(e,a){return n/2+i/2+a*(i+n)}).attr("dy",".35em").attr("x",function(e){var a=b(Math.abs(e.score)),t=w/2;return e.score<0&&(t-=a+5),e.score>0&&(t+=a+5),t}).text(function(e){return e.score});C.transition().duration(1e3).attr("x",function(e){return e.score<0?w/2-b(Math.abs(e.score)):w/2}).attr("width",function(e){return b(Math.abs(e.score))})}}}}]),function(e){try{e=angular.module("portal")}catch(a){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/verifyemail.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="verifyEmail_view" ng-controller="VerifyemailCtrl"><div ng-if="success" class="alert alert-success">You have successfully verified your email address.</div><div ng-if="failure" class="alert alert-warning">Sorry, there\'s been an error.</div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(a){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/userprofile.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><h2 class="light-header">Edit Profile Information</h2><div id="userProfile_view" ng-controller="UserprofileCtrl"><div ng-if="complete == false"><form role="form" ng-if="authenticated" name="userProfileForm" ng-submit="updateProfile(userProfileForm, model)" novalidate><div class="form-group"><label for="id_first_name">First Name</label><input name="first_name" id="id_first_name" class="form-control" type="text" ng-model="model.first_name" placeholder="First Name"></div><div class="alert alert-danger" ng-repeat="error in errors.first_name">{{error}}</div><div class="form-group"><label for="id_last_name">Last Name</label><input name="last_name" id="id_last_name" class="form-control" type="text" ng-model="model.last_name" placeholder="Last Name"></div><div class="alert alert-danger" ng-repeat="error in errors.last_name">{{error}}</div><div class="form-group"><label for="id_email">Email</label><input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><button type="submit" ng-show="authenticated" class="btn btn-primary">Update Profile</button></form><div class="alert alert-warning" ng-if="authenticated == false">You need to be logged in to do this.</div></div><div ng-if="complete == true"><div class="alert alert-success">You have updated your profile.</div></div></div><div id="passwordChange_view" ng-controller="PasswordchangeCtrl"><h2 class="light-header">Change Password</h2><div ng-if="complete == false"><form role="form" ng-submit="changePassword(changePasswordForm)" name="changePasswordForm" ng-if="authenticated" novalidate><div class="form-group"><label for="id_password1">New Password</label><input name="new_password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.new_password1">{{error}}</div><div class="form-group"><label for="id_password2">Repeat Password</label><input name="new_password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.new_password2">{{error}}</div><button ng-show="authenticated" type="submit" class="btn btn-primary">Change Password</button></form><div class="alert alert-warning" ng-if="authenticated != true">You need to be logged in to do this!</div></div><div ng-if="complete == true"><div class="alert alert-success">You have changed your password.</div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(a){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/signup.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="register_view" ng-controller="RegisterCtrl"><div ng-if="complete == false"><h3 class="title-block title-black-filled">Please Enter Your Registration Information:</h3><form role="form" class="form-black" ng-if="authenticated != true" name="registerForm" ng-submit="register(registerForm)" novalidate><div class="form-group"><label class="sr-only" for="id_first_name">First Name (optional)</label><input name="first_name" id="id_first_name" class="form-control" type="first_name" ng-model="model.first_name" placeholder="First Name" required></div><div class="form-group"><label class="sr-only" for="id_last_name">Last Name (optional)</label><input name="last_name" id="id_last_name" class="form-control" type="last_name" ng-model="model.last_name" placeholder="Last Name" required></div><div class="form-group"><label class="sr-only" for="id_username">Username</label><input name="username" id="id_username" class="form-control" type="username" ng-model="model.username" placeholder="Username" required></div><div class="form-group"><label class="sr-only" for="id_email">Email</label><input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><hr><div class="form-group"><label class="sr-only" for="id_password">Password</label><input name="password1" id="id_password1" class="form-control" type="password" ng-model="model.password1" placeholder="Password" required></div><div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div><div class="form-group"><label class="sr-only" for="id_password">Repeat Password</label><input name="password" id="id_password2" class="form-control" type="password" ng-model="model.password2" placeholder="Repeat Password" required></div><div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div><button ng-hide="authenticated" type="submit" class="btn btn-black">Sign Up!</button></form><p ng-if="authenticated">You are already logged in! You don\'t need to register.</p></div><div ng-if="complete == true"><div class="alert alert-success">Great! You\'ve just registered. You should receive an email shortly with instructions on how to activate your account.</div></div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(a){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/passwordresetconfirm.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><h3 class="title-block title-black-filled">Enter New Password</h3><div id="passwordResetConfirm_view" ng-controller="PasswordresetconfirmCtrl"><div ng-hide="complete"><form role="form" ng-hide="authenticated" class="form-black" ng-submit="confirmReset(confirmResetForm)" name="confirmResetForm" novalidate><div class="form-group"><label for="id_password1">New Password</label><input name="password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div><div class="form-group"><label for="id_password2">Repeat Password</label><input name="password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div><button type="submit" ng-hide="authenticated" class="btn btn-black">Reset Password</button></form><p ng-show="authenticated">You are already logged in! You don\'t need to reset your password.</p></div><div ng-show="complete"><div class="alert alert-success">You have changed your password.</div></div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(a){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/passwordreset.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="passwordReset_view" ng-controller="PasswordresetCtrl"><h3 class="title-block title-black-filled">Password Reset</h3><div ng-if="complete == false"><form class="form-black" role="form" ng-if="authenticated != true" name="passwordResetForm" ng-submit="resetPassword(passwordResetForm)" novalidate><div class="form-group"><label for="id_email">Email</label><input name="email" id="id_email" type="text" ng-model="model.email" placeholder="Email" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><button ng-hide="authenticated" type="submit" class="btn btn-black">Reset Password</button></form><p ng-if="authenticated">You are already logged in! You don\'t need to reset your password.</p></div><div ng-if="complete == true"><div class="alert alert-success">You should receive an email shortly with instructions on how to reset your account password.</div></div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(a){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/login.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">\'<div id="login_view" ng-controller="LoginCtrl"><h4 class="title-block title-black-filled">Please Log In</h4><form role="form" ng-submit="login(loginForm)" name="loginForm" class="form-black" novalidate><div class="form-group"><label class="sr-only" for="id_username">Username</label><input name="username" id="id_username" type="text" ng-model="model.username" placeholder="Username" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><div class="form-group"><label class="sr-only" for="id_password">Password</label><input name="password" id="id_password" type="password" ng-model="model.password" placeholder="Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.username">{{error}}</div><div class="alert alert-danger" ng-repeat="error in errors.password">{{error}}</div><div class="alert alert-danger" ng-repeat="error in errors.non_field_errors">{{error}}</div><div class="alert alert-danger" ng-if="error">{{error}}</div><p><button type="submit" class="btn btn-black">Submit</button></p></form><div><p>Forgot your password? Click <a href="#/passwordReset">here</a></p></div></div><hr><h4>Don\'t have an Axiologue account? Sign up below!</h4><a href="#/signUp" class="btn btn-black">Sign Up</a></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(a){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/landing.html",'<header class="container-fluid carousel-wrapper"><div class="row"><div class="col-xs-12 col-carousel"><div id="carousel-landing" class="carousel slide" data-ride="carousel"><ol class="carousel-indicators"><li data-target="#carousel-landing" data-slide-to="0" class="active"></li><li data-target="#carousel-landing" data-slide-to="1"></li><li data-target="#carousel-landing" data-slide-to="2"></li></ol><div class="carousel-inner" role="listbox"><div class="item active" style="background-image: url(\'img/headers/GrayWalking.jpg\')"><div class="carousel-caption caption-right carousel-caption-search"><h2>Which Shoes Match Your Ethics?</h2><form class="form-white"><div class="input-group"><label class="sr-only" for="landing-search">Search</label><input type="text" name="landing-search" id="landing-search" class="form-control" placeholder="Search Shoes, Brands, or References.."><div class="input-group-btn"><button type="submit" value="go" class="btn"><i class="fa fa-fw fa-search"></i></button></div></div></form></div></div><div class="item" style="background-image: url(\'img/headers/GrayShoeHanging.jpg\')"><div class="carousel-caption caption-bottom"><h2 class="heavy">Mindful Click:</h2><h3>Shop With Your Ethics on Amazon or Zappos</h3><button class="btn btn-lg btn-white">Get the Extension</button></div></div><div class="item" style="background-image: url(\'img/headers/GrayWalkingSand.jpg\')"><div class="carousel-caption caption-right caption-squares"><h2 class="caption-title">Browse By Brand</h2><div class="squares-wrapper"><div class="carousel-square"><a href="#/companies/detail/Nike"><img class="img-responsive" src="img/Logos/Nike-mid-white.png"></a></div><div class="carousel-square"><a href="#/companies/detail/Adidas"><img class="img-responsive" src="img/Logos/Adidas-mid-white.png"></a></div><div class="carousel-square"><a href="#/companies/detail/New-Balance"><img class="img-responsive" src="img/Logos/New-Balance-mid-white.png"></a></div><div class="carousel-square"><a href="#/companies/detail/Under-Armour"><img class="img-responsive" src="img/Logos/Under-Armour-mid-white.png"></a></div><div class="carousel-square"><a href="#/companies/detail/Asics"><img class="img-responsive" src="img/Logos/Asics-mid-white.png"></a></div><div class="carousel-square"><a href="#/company/all"><h3>& Many More...</h3></a></div></div></div></div></div><span class="left carousel-control" data-target="#carousel-landing" role="button" data-slide="prev"><i class="fa fa-2x fa-angle-left" aria-hidden="true"></i> <span class="sr-only">Previous</span> </span><span class="right carousel-control" data-target="#carousel-landing" role="button" data-slide="next"><i class="fa fa-2x fa-angle-right" aria-hidden="true"></i> <span class="sr-only">Next</span></span></div></div></div></header><section class="container-fluid" id="recent" ng-controller="RecentCtrl"><div class="row"><div class="col-xs-12 col-md-6 col-lg-4 col-lg-offset-1"><h2 class="title-block title-black">Newly Added Research</h2><ul class="recent-list"><li ng-repeat="tag in tags"><img class="brand-thumbnail" src="img/Logos/{{ tag.company.replace(\' \',\'-\') }}-small-black.png"> <strong><h5 class="recent-header"><a href="{{ tag.link }}">{{ tag.tag_type }}<span ng-show="tag.value">: {{tag.value}}</span></a></h5></strong><span class="text-muted">From: <a href="#/references/detail/{{ tag.reference.id }}">{{ tag.reference }}</a></span></li><li class="text-center recent-button"><a class="btn btn-black" href="#/data/all"><h4>Browse the rest of our ethical data</h4></a></li></ul></div><div class="col-xs-12 col-md-6 col-lg-4 col-lg-offset-2"><h2 class="title-block title-black">Recent/Upcoming Events</h2><ul class="recent-list"><li ng-repeat="event in events"><i class="fa fa-check-circle fa-2x fa-pull-left fa-border"></i> <strong><h5 class="recent-header"><a href="#/events/detail/{{ event.id }}">{{ event.name }}</a></h5></strong><span class="text-muted">{{ event.location.name}}, {{ event.location.city }} -- {{ event.start}}</span></li><li class="text-center recent-button"><a class="btn btn-black" href="#/events/all"><h4>See our full calendar</h4></a></li></ul></div></div><div class="row dark-row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-white">New Blog Posts</h2><ul class="recent-list"><li ng-repeat="post in posts"><strong><h3 class="recent-header recent-header-large"><a href="#/blog/posts/{{ post.title_url }}">{{ post.title.toUpperCase() }}</a></h3></strong><h4 class="recent-subheader">{{ post.sub_title }}</h4><p class="text-muted">{{post.excerpt}}...(<a href="#/blog/posts/{{ post.title_url }}">Read More</a>)</p></li><li class="text-center recent-button"><a class="btn btn-white" href="#/blog/all"><h4>Check out the rest of the blog!</h4></a></li></ul></div></div></section><section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">FAQ</h2><uib-accordion close-others="true"><uib-accordion-group is-open="status.open1"><uib-accordion-heading>What is Axiologue?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open1, \'fa-plus-square-o\': !status.open1}"></i></uib-accordion-heading><p>Axiologue is a crowd-sourced, community-based project to track the ethics of products and companies. We put ethical information in the hands of consumers, so they can shop in line with their own personal ethics and support the companies that are doing it right. We are follow five principles:</p><ul class="fa-ul"><li><i class="fa-li fa fa-usd"></i> <strong>Free</strong>: Ethical information should never be behind a paywall. We believe ethical information should be accessible to anyone who wants access to it.</li><li><i class="fa-li fa fa-user"></i> <strong>Personalized</strong>: Ethics are deeply personal. Rather than assume some universal ethical standard, Axiologue allows you to prioritize what\'s important to you.</li><li><i class="fa-li fa fa-bar-chart"></i> <strong>Comprehensive</strong>: Axiologue covers all possible ethical categories, including environment, labor, political affiliation, and more.</li><li><i class="fa-li fa fa-unlock-alt"></i> <strong>Open</strong>: All of Axiologue\'s data will be publically available, via our own websites/apps and an API so that other developers can access the data directly.</li><li><i class="fa-li fa fa-comments"></i> <strong>Participatory</strong>: Axiologue is a crowd-sourced project, and all you need to contribute is a desire to bring ethical information to those who want it!</li></ul></uib-accordion-group><uib-accordion-group is-open="status.open2"><uib-accordion-heading>Who is Axiologue?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open2, \'fa-plus-square-o\': !status.open2}"></i></uib-accordion-heading><p>Axiologue is a community-based projects. We are researchers, designers, teachers, artists, philosophers, programmers, students, and more. Axiologue could even be you! All of our data is collected and processed by users like you, so look at our <a href="#/references/how-to">how to contribute</a> guide for information on how to contribute.</p><p>Axiologue was founded by artist/programmer <a href="http://www.nishi-broach.com/">Matt Nishi-Broach</a> and artist/community organizer <a href="http://www.chloebass.com">ChloÃ« Bass</a>.</p></uib-accordion-group><uib-accordion-group is-open="status.open3"><uib-accordion-heading>How Does Scoring Work?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open3, \'fa-plus-square-o\': !status.open3}"></i></uib-accordion-heading><p>This is such an important topic that we wrote a whole <a href="#/blog/posts/how-unethical-is-a-negative-two">blog post</a> about it.</p><p>The short answer is that we match the facts we know about each company/product with your ethical feelings about each fact. The scores roughly translate to:</p><ul><li>a <strong>postive</strong> score means the product is in line with your ethics!</li><li>a <strong>negative</strong> score means the product is contrary to your ethics!</li><li>a <strong>zero</strong> means you don\'t care about that issue (it could also mean we don\'t have any data in that particular category)!</li></ul><p>To construct your own ethical profile, <a href="#/signUp">sign up</a> for an account. If you don\'t want to make an account at this time, don\'t worry: you can browse our products and see scores for our generic profiles</p></uib-accordion-group><uib-accordion-group is-open="status.open4"><uib-accordion-heading>How can I help?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open4, \'fa-plus-square-o\': !status.open4}"></i></uib-accordion-heading><p>All our research is collected by user volunteers like you! We wrote a guide to help <a href="#/references/how-to">first-time contributors</a>, and you should drop into our <a href="#/forum">forum</a> if you have have further questions.</p></uib-accordion-group><uib-accordion-group is-open="status.open5"><uib-accordion-heading>Do you only have information on shoes?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open5, \'fa-plus-square-o\': !status.open5}"></i></uib-accordion-heading><p>As of right now, yes. In fact, we\'re focusing specifically on <em>athletic shoes</em>. We are planning to expand to other product categories in the near future, so if you have suggestions for a certain product category you\'d like us to research, please <a href="MAILTO:info@axiologue.org">email us</a>. We\'d love to hear your suggestions!</p></uib-accordion-group></uib-accordion></div></div></section><section class="container-fluid dark-row"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-left"><h2 class="title-block title-white">Stay In Touch</h2><div id="mc_embed_signup"><h3>Sign Up For Our Mailing List</h3><form action="//axiologue.us10.list-manage.com/subscribe/post?u=a4380cffd095d122a97aaeae6&amp;id=1b7d52909b" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate form-white" target="_blank" novalidate><div id="mc_embed_signup_scroll"><div class="mc-field-group form-group"><label for="mce-EMAIL" class="sr-only">Email Address (required)</label><input type="email" value="" name="EMAIL" class="required email form-control" id="mce-EMAIL" placeholder="Enter Your Email Address (required)"></div><div class="mc-field-group form-group"><label for="mce-FNAME" class="sr-only">First Name</label><input type="text" value="" name="FNAME" class="form-control" id="mce-FNAME" placeholder="Enter First Name"></div><div class="mc-field-group form-group"><label for="mce-LNAME" class="sr-only">Last Name</label><input type="text" value="" name="LNAME" class="form-control" id="mce-LNAME" placeholder="Enter Last Name"></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px" aria-hidden="true"><input type="text" name="b_a4380cffd095d122a97aaeae6_1b7d52909b" tabindex="-1" value=""></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-white"></div></div></form></div></div></div><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-center"><hr class="white-rule"></div></div></section>');
}])}(),function(e){try{e=angular.module("portal")}catch(a){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/company_detail.html",'<header class="container-fluid"><div class="row"><div class="col-xs-12 col-md-4 text-center"><div class="detail-logo"><img src="img/Logos/{{ company.name.replace(\' \', \'-\') }}-large-black.png" class="img-responsive" alt="{{ company.name }}"></div><h2 class="title-block title-black-filled detail-title">{{ company.name }}</h2><h3 class="detail-supplement" ng-show="company.owns.length > 0">Owns: <span ng-repeat="owned in company.owns"><a href="#/companies/detail/{{ owned.replace(\' \', \'-\') }}"><strong>{{ owned }} </strong></a></span></h3><h3 class="detail-supplement" ng-show="company.owned_by">Owned By: <a href="#/companies/detail/{{ company.owned_by.replace(\' \', \'-\')}}"><strong>{{ company.owned_by }}</strong></a></h3><div bars-legend data="scores"></div></div><div class="col-xs-12 col-md-8"><div class="score-chart-header"><h2 class="title-block title-black score-title">Ethical Scores</h2></div><horizontal-bars data="scores"></horizontal-bars></div></div></header><section class="container-fluid dark-row"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list"><h2 class="title-block title-white">Data on {{ company.name }}</h2><div ng-repeat="category in tags"><h4 class="tag-list-title">{{ category.category.toUpperCase() }}</h4><ul><li ng-show="category.tags.length === 0"><h5 class="no-data">No Data in this category. You can <a href="#/references/how-to">help us</a> research!</h5></li><li ng-repeat="tag in category.tags"><div class="tag-block"><div class="tag-list-icon"><i class="fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-white"></i></div><h5 class="tag-type"><strong>{{ tag.tag_type }}<span ng-show="tag.value">: {{tag.value}}</span></strong></h5><span class="text-muted">From: <a href="#/references/detail/{{ tag.reference.id }}">{{ tag.reference.title }}</a> (<a href="{{ tag.reference.url }}" target="_newtab">External Link</a>) (<a role="button" data-target="#tag-detail-{{tag.id}}" data-toggle="collapse" aria-expanded="false" aria-controls="tag-detail-{{tag.id}}">Tag Details</a>)</span></div><div class="tag-block"><div class="collapse" id="tag-detail-{{tag.id}}"><div class="tag-detail-content"><dl class="dl-horizontal"><dt>EXCERPT</dt><dd>"{{ tag.excerpt }}"</dd><dt>ADDED BY</dt><dd><span class="text-muted"><a href="#/users/{{ tag.added_by }}">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div></div></section><div class="container-fluid dark-row"><div class="row"><div class="col-xs-12"><hr></div></div></div>')}])}();
//# sourceMappingURL=../maps/app.min.js.map
