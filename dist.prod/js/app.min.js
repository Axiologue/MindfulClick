"use strict";var portal=angular.module("portal",["ngResource","ui.bootstrap","ngAnimate","ngRoute","ngCookies","hc.marked","angucomplete-alt"]);portal.config(["$resourceProvider",function(e){e.defaults.stripTrailingSlashes=!1}]),portal.config(["$httpProvider",function(e){e.interceptors.push("tokenCleaner")}]),portal.config(["$routeProvider",function(e){e.when("/",{templateUrl:"templates/landing.html"}).when("/login",{templateUrl:"templates/auth/login.html"}).when("/signUp",{templateUrl:"templates/auth/signup.html"}).when("/forbidden",{templateUrl:"templates/auth/forbidden.html"}).when("/verifyEmail/:emailVerificationToken",{templateUrl:"templates/auth/verifyemail.html"}).when("/passwordReset",{templateUrl:"templates/auth/passwordreset.html"}).when("/passwordResetConfirm/:firstToken/:passwordResetToken",{templateUrl:"templates/auth/passwordresetconfirm.html"}).when("/companies/detail/:companyName",{controller:"CompanyDetailCtrl",templateUrl:"templates/company_detail.html"}).when("/companies/all",{controller:"CompanyAllCtrl",templateUrl:"templates/company_all.html"}).when("/products/search",{controller:"ProductSearchCtrl",templateUrl:"templates/product_search.html"}).when("/products/detail/:productID",{controller:"ProductDetailCtrl",templateUrl:"templates/product_detail.html"}).when("/blog/all",{controller:"BlogListCtrl",templateUrl:"templates/blog_list.html"}).when("/blog/detail/:postName",{controller:"BlogDetailCtrl",templateUrl:"templates/blog_detail.html"}).when("/events/all",{controller:"EventListCtrl",templateUrl:"templates/event_list.html"}).when("/events/detail/:eventID",{controller:"EventDetailCtrl",templateUrl:"templates/event_detail.html"}).when("/search/general",{controller:"GeneralSearchCtrl",templateUrl:"templates/search_empty.html"}).when("/search/general/:searchQuery",{controller:"GeneralSearchCtrl",templateUrl:"templates/search_results.html"}).when("/references/all",{controller:"AllReferenceCtrl",templateUrl:"templates/reference_list.html"}).when("/references/how-to",{templateUrl:"templates/how_to.html"}).when("/references/new",{controller:"NewReferenceCtrl",templateUrl:"templates/reference_new.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).when("/references/deleted",{templateUrl:"templates/reference_deleted.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).when("/references/detail/:referenceID",{controller:"ReferenceDetailCtrl",templateUrl:"templates/reference_detail.html"}).when("/tags/all",{controller:"TagListCtrl",templateUrl:"templates/tag_list.html"}).when("/forum/main",{templateUrl:"templates/forum_main.html",controller:"ForumMainCtrl"}).when("/forum/category/:categoryID",{templateUrl:"templates/forum_thread_list.html",controller:"ThreadListCtrl"}).when("/forum/thread/:threadID",{templateUrl:"templates/forum_post_list.html",controller:"PostListCtrl"}).when("/account",{templateUrl:"templates/auth/userprofile.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).when("/profile",{controller:"ProfileCtrl",templateUrl:"templates/ethics_profile.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).when("/profile/questions",{controller:"QuestionListCtrl",templateUrl:"templates/question_list.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).when("/profile/questions/:questionID",{controller:"QuestionDetailCtrl",templateUrl:"templates/question_detail.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).when("/initial",{controller:"InitialCtrl",templateUrl:"templates/initial_questions.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).when("/thanks",{templateUrl:"templates/thanks.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).when("/404",{templateUrl:"templates/404.html"}).otherwise({redirectTo:"/404"})}]),angular.module("portal").service("Validate",[function(){return{message:{minlength:"This value is not long enough.",maxlength:"This value is too long.",email:"A properly formatted email address is required.",required:"This field is required."},more_messages:{demo:{required:"Here is a sample alternative required message."}},check_more_messages:function(e,t){return(this.more_messages[e]||[])[t]||null},validation_messages:function(e,t,a){var r=[];for(var o in t[e].$error)if(t[e].$error[o]){var s=this.check_more_messages(e,o);s?r.push(s):this.message[o]?r.push(this.message[o].replace("This",e)):r.push("Error: "+o)}var l=[];angular.forEach(r,function(e,t){-1===l.indexOf(e)&&l.push(e)}),a&&(a[e]=l)},form_validation:function(e,t){for(var a in e)"$"!=a.substr(0,1)&&this.validation_messages(a,e,t)}}}]),angular.module("portal").factory("BaseUrl",[function(){return"https://api.axiologue.org/"}]),angular.module("portal").factory("chartUtils",[function(){var e={};return e.wrap=function(e,t){e.each(function(){for(var e,a=d3.select(this),r=a.data()[0].label.toUpperCase().split(/\s+/).reverse(),o=[],s=0,l=1,n=a.attr("y"),i=a.attr("x"),c=parseFloat(a.attr("dy")),d=a.text(null).append("tspan").attr("x",i).attr("y",n).attr("dy",c+"em");e=r.pop();)o.push(e),d.text(o.join(" ")),d.node().getComputedTextLength()>t&&(o.pop(),d.text(o.join(" ")),o=[e],d=a.append("tspan").attr("x",i).attr("y",n).attr("dy",++s*l+c+"em").text(e));s>0&&a.attr("y",function(){return n-16*s/2})})},e}]),angular.module("portal").factory("Scores",[function(){var e={},t={"Animal Welfare":"paw","Consumer Health":"ambulance","Corporate Finances":"dollar",Environment:"leaf",Labor:"suitcase","Public Engagement":"bullhorn"};return e.getCategoryIcons=function(){return t},e.parseSingleScores=function(e){for(var t=[],a=0;a<e[0].categories.length+1;a++){for(var r={label:0===a?"overall":e[0].categories[a-1].category,scores:[]},o=0;o<e.length;o++){var s={user:e[o].user,score:0===a?e[o].overall:e[o].categories[a-1].score};r.scores.push(s)}t.push(r)}return t},e.parseMultiScores=function(e){for(var t=[],a=0;a<e.length;a++){for(var r={label:e[a].Company.name,scores:[]},o=0;o<e[a].scores.length;o++)r.scores.push({user:e[a].scores[o].user,score:e[a].scores[o].overall});t.push(r)}return t},e}]),angular.module("portal").factory("LinkStore",[function(){var e={},t="/";return e.set=function(e){t=e},e.get=function(){return t},e}]),angular.module("portal").factory("Includes",[function(){var e={},t={generalSearchForm:"templates/includes/general_search_form.html",productForm:"templates/includes/product_form.html",tagForm:"templates/includes/tag_form.html",tagDetail:"templates/includes/tag_detail.html",referenceForm:"templates/includes/reference_form.html",referenceDetail:"templates/includes/reference_detail.html",modal:"templates/includes/modal.html"};return e.get=function(e){return t[e]},e}]),angular.module("portal").factory("ArrayTools",[function(){var e={};return e.removeFromList=function(e,t){var a=0;t.some(function(t,r){return t.id===e.id?(a=r,!0):void 0}),t.splice(a,1)},e}]),angular.module("portal").factory("Tag",["BaseUrl","$resource",function(e,t){var a={},r=t(e+"tags/etags/:tagID/",{},{all:{method:"GET",params:{tagID:"list"},isArray:!0},saveMulti:{method:"POST",params:{tagID:"new"},isArray:!0},update:{method:"PATCH"},remove:{method:"DELETE"}}),o=t(e+"tags/etypes/:typeID/",{},{create:{method:"POST",params:{typeID:"new"}}});return a.all=function(){return r.all()},a.createTag=function(e,t,a){return e.products.length<=1?r.save({tagID:"new"},e,t,a):r.saveMult({},e,t,a)},a.remove=function(e,t){return r.remove({tagID:e},t)},a.update=function(e,t,a){return r.update({tagID:e.id},e,t,a)},a.parseResponse=function(e,t,a,r){e.company=$.grep(a,function(t){return t.id===e.company})[0].name;var o=$.grep(r,function(e){return e.id===t})[0];return e.tag_type={name:$.grep(o.tag_types,function(t){return t.id===e.tag_type})[0].name,subcategory:o.name,id:e.tag_type},e},a.createType=function(e,t,a){return o.create({},e,t,a)},a}]),angular.module("portal").factory("Reference",["BaseUrl","$resource",function(e,t){var a={},r=t(e+"references/:referenceAction/",{},{all:{method:"GET",params:{referenceAction:"list"},isArray:!0},detail:{method:"GET"},create:{method:"POST",params:{referenceAction:"new"}},update:{method:"PATCH"},remove:{method:"DELETE"}});return a.all=function(e){return r.all({},e)},a.get=function(e){return r.detail({referenceAction:e})},a.create=function(e,t,a){return r.create({},e,t,a)},a.update=function(e,t,a){return r.update({referenceAction:e.id},e,t,a)},a.remove=function(e,t){return r.remove({referenceAction:e},t)},a}]),angular.module("portal").factory("Question",["BaseUrl","$resource",function(e,t){var a={},r=t(e+"profile/question/:questionDetail/",{},{withAnswers:{method:"GET",params:{questionDetail:"all-answers"},isArray:!0},save:{method:"POST",params:{questionDetail:"new"}},all:{method:"GET",params:{questionDetail:"all"},isArray:!0}}),o=t(e+"profile/question/:answerNum/:answerID/",{},{setInitial:{method:"POST",params:{answerNum:"answers",answerID:"set"}},withModifiers:{method:"GET",params:{answerNum:"answers"}}}),s=t(e+"profile/question/answer/:questionID/:answerAction/",{},{addAnswer:{method:"POST",params:{answerAction:"new"}},updateList:{method:"PUT",params:{answerAction:"updateAll"},isArray:!0}}),l=[{value:5,display:"+5"},{value:4,display:"+4"},{value:3,display:"+3"},{value:2,display:"+2"},{value:1,display:"+1"},{value:0,display:"0"},{value:-1,display:"-1"},{value:-2,display:"-2"},{value:-3,display:"-3"},{value:-4,display:"-4"},{value:-5,display:"-5"}];return a.allWithAnswers=function(){return r.withAnswers()},a.initialAnswers=function(e,t){return o.setInitial({},{answers:e},t)},a.newQuestion=function(e,t,a){return r.save({},e,t,a)},a.all=function(){return r.all()},a.updateAnswers=function(e,t,a,r){return s.updateList({questionID:e},t,a,r)},a.answerOptions=function(){return l},a.withModifiers=function(e){return o.withModifiers({answerID:e})},a.newAnswer=function(e,t,a,r){return s.addAnswer({questionID:e},t,a,r)},a}]),angular.module("portal").factory("Product",["$resource","BaseUrl",function(e,t){var a={},r=e(t+"products/products/:productID/",{},{list:{method:"GET",params:{productID:"list"}},detail:{method:"GET"}}),o=e(t+"profile/scores/product/",{},{get:{method:"GET",isArray:!0}}),s=e(t+"tags/etags/list/",{},{all:{method:"GET",isArray:!0}}),l=["Boys","Girls","Infant","Kids","Men","Newborn","Preschool","Toddler","Unisex","Women"],n=["Baseball","Basketball","Crosstraining","Football","Hiking","Golf","Indoor","Lacrosse","Rugby","Running","Skate","Snowboarding","Soccer","Softball","Tennis","Track & Field","Trail Running","Trainers","Walking","Wrestling","Yoga"];return a.detail=function(e,t){return r.detail({productID:e},t)},a.getScores=function(e,t){return o.get({id:e,include_object:!1},t)},a.getDivisions=function(){return l},a.getCategories=function(){return n},a.allTags=function(e,t){return s.all({product_id:e},t)},a.list=function(e,t){var a=$.extend({},e);for(var o in a)a.hasOwnProperty(o)&&(a[o]||delete a[o]);return r.list(a,t)},a}]),angular.module("portal").factory("Preference",["$resource","BaseUrl",function(e,t){var a={},r=e(t+"profile/prefs/:preferenceID/",{},{all:{method:"GET",params:{preferenceID:"all"},isArray:!0},update:{method:"PUT"}});return a.getAll=function(){return r.all()},a.update=function(e,t){return r.update({preferenceID:e.id},e,t)},a}]),angular.module("portal").factory("Landing",["$resource","BaseUrl",function(e,t){var a={},r=e(t+"landing/recent/",{},{query:{method:"GET",isArray:!0}});return a.recentData=function(e){return r.query(e)},a}]),angular.module("portal").factory("Search",["$resource","BaseUrl",function(e,t){var a={},r=e(t+"search/general/",{},{get:{method:"GET"}});return a.general=function(e,t){return r.get({q:e},t)},a}]),angular.module("portal").factory("tokenCleaner",["$injector","$cookies","$rootScope","$q",function(e,t,a,r){var o={responseError:function(o){if(401===o.status&&o.data&&"Invalid token."===o.data.detail){t.remove("token"),t.remove("user");var s=e.get("$http");delete s.defaults.headers.common.Authorization,a.$broadcast("djangoAuth.logged_out")}return r.reject(o)}};return o}]),angular.module("portal").factory("Forum",["$resource","BaseUrl",function(e,t){var a={},r=e(t+"forum/category/:categoryID/",{},{all:{method:"GET",params:{categoryID:"list"},isArray:!0},detail:{method:"GET"}}),o=e(t+"forum/threads/:threadID/",{},{save:{method:"POST",params:{threadID:"new"}},detail:{method:"GET"}}),s=e(t+"forum/posts/:postID/",{},{save:{method:"POST",params:{postID:"new"}}});return a.allCategories=function(){return r.all()},a.categoryDetail=function(e){return r.detail({categoryID:e})},a.threadsByCategory=function(e){return o.byCategory({categoryID:e})},a.newThread=function(e,t,a){return o.save({},e,t,a)},a.threadDetail=function(e){return o.detail({threadID:e})},a.newPost=function(e,t,a){return s.save({},e,t,a)},a}]),angular.module("portal").factory("Meta",["$resource","BaseUrl",function(e,t){return e(t+"tags/formMeta/",{},{query:{method:"GET",params:{},isArray:!0}})}]),angular.module("portal").factory("Event",["BaseUrl","$resource",function(e,t){var a={},r=t(e+"events/:eventID",{},{all:{method:"GET",params:{eventID:"all"},isArray:!0},detail:{method:"GET"}});return a.all=function(e){return r.all({},e)},a.detail=function(e,t){return r.detail({eventID:e},t)},a}]),angular.module("portal").service("djangoAuth",["$q","$http","$cookies","$rootScope","BaseUrl",function e(t,a,r,o,s){var l={API_URL:s+"rest-auth",use_session:!1,cookieLength:14,authenticated:null,authPromise:null,request:function(e){r.get("token")&&(a.defaults.headers.common.Authorization="Token "+r.get("token")),n=e.params||{},e=e||{};var o=t.defer(),s=this.API_URL+e.url,l=e.method||"GET",n=n,i=e.data||{};return a({url:s,withCredentials:this.use_session,method:l.toUpperCase(),headers:{"X-CSRFToken":r.csrftoken,"Access-Control-Allow-Credentials":"true"},params:n,data:i}).success(angular.bind(this,function(e,t,a,r){o.resolve(e,t)})).error(angular.bind(this,function(e,t,a,r){console.log("error syncing with: "+s),e&&(e.status=t),0===t&&(""===e&&(e={},e.status=0,e.non_field_errors=["Could not connect. Please try again."]),null===e&&(e={},e.status=0,e.non_field_errors=["Server timed out. Please try again."])),o.reject(e,t,a,r)})),o.promise},register:function(e,t,a,r,o){var s={username:e,password1:t,password2:a,email:r};return s=angular.extend(s,o),this.request({method:"POST",url:"/registration/",data:s})},login:function(e,t){var s=this;return this.request({method:"POST",url:"/login/",data:{username:e,password:t}}).then(function(e){if(!s.use_session){var t=new Date;t.setDate(t.getDate()+s.cookieLength),a.defaults.headers.common.Authorization="Token "+e.key,r.put("token",e.key,{expires:t})}s.authenticated=!0,o.$broadcast("djangoAuth.logged_in",e)})},logout:function(){var e=this;return this.request({method:"POST",url:"/logout/"}).then(function(t){e.tokenClear(),o.$broadcast("djangoAuth.logged_out")})},changePassword:function(e,t){return this.request({method:"POST",url:"/password/change/",data:{new_password1:e,new_password2:t}})},resetPassword:function(e){return this.request({method:"POST",url:"/password/reset/",data:{email:e}})},profile:function(){return this.request({method:"GET",url:"/user/",params:{cacheBuster:(new Date).getTime()}}).then(function(t){var a=new Date;a.setDate(a.getDate()+e.cookieLength),r.putObject("user",t,{expires:a}),o.$broadcast("djangoAuth.set_profile",t)})},updateProfile:function(e){return this.request({method:"PATCH",url:"/user/",data:e})},verify:function(e){return this.request({method:"POST",url:"/registration/verify-email/",data:{key:e}})},confirmReset:function(e,t,a,r){return this.request({method:"POST",url:"/password/reset/confirm/",data:{uid:e,token:t,new_password1:a,new_password2:r}})},authenticationStatus:function(e,a){e=e||!1,a=a||!1,(null===this.authPromise||a)&&(this.authPromise=this.request({method:"GET",url:"/user/"}));var r=this,o=t.defer();return null===this.authenticated||a?this.authPromise.then(function(){r.authenticated=!0,o.resolve()},function(){r.authenticated=!1,e?o.reject("User is not logged in."):o.resolve()}):this.authenticated===!1&&e?o.reject("User is not logged in."):o.resolve(),o.promise},initialize:function(e,t){return this.API_URL=e,this.use_session=t,this.authenticationStatus()},tokenClear:function(){var e=this;delete a.defaults.headers.common.Authorization,r.remove("token"),r.remove("user"),e.authenticated=!1}};return l}]),angular.module("portal").factory("Company",["$resource","BaseUrl",function(e,t){var a={},r=e(t+"products/companies/:companyID/",{},{all:{method:"GET",params:{companyID:"all"},isArray:!0},detail:{method:"GET"}}),o=e(t+"profile/scores/company/",{},{get:{method:"GET",isArray:!0}}),s=e(t+"profile/scores/company/all/",{},{get:{method:"GET",isArray:!0}}),l=e(t+"tags/etags/list/",{},{all:{method:"GET",isArray:!0}});return a.detail=function(e){return r.detail({companyID:e})},a.getScores=function(e,t){return o.get({name:e,include_object:"False"},t)},a.allScores=function(e){return s.get({include_subcategories:"False"},e)},a.allTags=function(e){return l.all({company:e,no_product:"True"})},a.getAll=function(){return r.all()},a.getName=function(e){return"Po-Zu"!=e?e.replace("-"," "):"Po-Zu"},a}]),angular.module("portal").factory("Blog",["BaseUrl","$resource",function(e,t){var a={},r=t(e+"blog/posts/:postID/",{},{list:{method:"GET",params:{postID:"all"},isArray:!0},detail:{method:"GET"}});return a.list=function(){return r.list()},a.getPost=function(e){return r.detail({postID:e})},a}]),angular.module("portal").filter("dateFormat",[function(){return function(e){var t=new Date(e);return t.toLocaleString()}}]),angular.module("portal").directive("barsLegend",["$window",function(e){return{restrict:"EA",scope:{data:"="},link:function(e,t,a){var r=a.legendClass||"bar-legend",o=a.legendWidth||300,s=a.boxHeight||20,l=a.boxPadding||10,n=a.marginTop||20,i=a.marginBottom||20,c=a.marginLeft||20,d=(a.marginRight||20,a.legendAttr||"user",d3.select(t[0]).append("svg").attr("width",o));e.$watch("data",function(t,a){return e.render(t)},!0),e.render=function(e){d.selectAll("*").remove();var t=e[0].scores.length*s+(e[0].scores.length-1)*l+n+i;d.attr("height",t).attr("class",r);var a=d.selectAll("g").data(e[0].scores).enter().append("g").attr("transform",function(e,t){return"translate("+c+","+(n+t*(l+s))+")"});a.append("rect").attr("x",0).attr("y",0).attr("width",s).attr("height",s).attr("class",function(e){return"horizontal-bar "+e.user.replace("_","-")}),a.append("text").attr("x",s+l).attr("y",s).attr("dy","-.35em").text(function(e){return"Generic"===e.user.substr(0,7)?e.user.replace("_"," "):"YOU"})}}}}]),angular.module("portal").directive("horizontalBars",["$window","chartUtils",function(e,t){return{restrict:"E",scope:{data:"="},link:function(a,r,o){var s=parseInt(o.marginTop)||70,l=parseInt(o.marginBottom)||50,n=parseInt(o.barHeight)||20,i=parseInt(o.barPadding)||5,c=o.barClass||"horizontal-bar",d=o.titleClass||"horizontal-bar-title",u=o.appendName?"true"===o.appendName:!0,p=parseInt(o.chartGap)||20,g=parseInt(o.titleSpace)||120,m=o.linkText||!1,h=d3.select(r[0]).append("svg").style("width","100%");window.onresize=function(){a.$apply()},a.$watch(function(){return angular.element(e)[0].innerWidth},function(){a.render(a.data)}),a.$watch("data",function(e,t){return a.render(e)},!0),a.render=function(e){h.selectAll("*").remove();var a=d3.select(r[0]).node().offsetWidth,f=e.length*(p+e[0].scores.length*(n+i)),v=a>768?parseInt(o.marginLeft)||10:10,b=a>768?parseInt(o.marginRight)||50:20,w=a-v-b-g,y=d3.scale.linear().domain([0,5]).range([0,w/2]),x=d3.svg.axis().scale(d3.scale.linear().domain([-5,5]).range([0,w])).tickValues([-5,-4,-3,-2,-1,0,1,2,3,4,5]).tickSize(f-p).orient("top"),_=e[0].scores.length*(n+i);h.attr("height",f+s+l);var k=h.append("g").attr("transform","translate("+(g+v)+","+(f+s-p)+")").attr("class","x axis").call(x);k.selectAll("text").attr("dy",-5);var T=h.append("g").attr("width",w).attr("height",f).attr("transform","translate("+(g+v)+","+s+")").attr("class","chart-wrapper"),C=T.selectAll("g.chart").data(e).enter();m&&(C=C.append("a").attr("xlink:href",function(e){return m+e.label.replace(" ","-")})),C=C.append("g").attr("class","chart").attr("transform",function(e,t){return"translate(0, "+t*(p+_)+")"}),C.append("rect").attr("class","whiteout").attr("width",w).attr("height",p).attr("x",0).attr("y",_),C.append("rect").attr("class",d+"-rect").attr("width",w).attr("height",e[0].scores.length*(n+i)).attr("x",0).attr("y",0);var A=C.append("text").attr("text-anchor","end").attr("x",-5).attr("y",function(e,t){return _/2}).attr("dy",".35em").attr("class",d).call(t.wrap,g);A.call(t.wrap,g);var P=C.selectAll("rect.bar").data(function(e){return e.scores}).enter().append("rect").attr("class",function(e){return u?"bar "+c+" "+e.user.replace("_","-"):"bar "+c}).attr("height",n).attr("width",0).attr("x",w/2).attr("y",function(e,t){return i/2+t*(n+i)});C.selectAll("text.score-text").data(function(e){return e.scores}).enter().append("text").attr("class",function(e){return u?"score-text "+e.user.replace("_","-"):"score-text"}).attr("text-anchor",function(e){var t;return t=e.score<0?"end":e.score>0?"start":"middle"}).attr("y",function(e,t){return i/2+n/2+t*(n+i)}).attr("dy",".35em").attr("x",function(e){var t=y(Math.abs(e.score)),a=w/2;return e.score<0&&(a-=t+5),e.score>0&&(a+=t+5),a}).text(function(e){return e.score});P.transition().duration(1e3).attr("x",function(e){return e.score<0?w/2-y(Math.abs(e.score)):w/2}).attr("width",function(e){return y(Math.abs(e.score))})}}}}]),angular.module("portal").directive("convertToNumber",function(){return{require:"ngModel",link:function(e,t,a,r){r.$parsers.push(function(e){return parseInt(e,10)}),r.$formatters.push(function(e){return""+e})}}}),angular.module("portal").controller("TagListCtrl",["$scope","Tag","Scores",function(e,t,a){e.categoryIcons=a.getCategoryIcons(),e.tags=t.all()}]),angular.module("portal").controller("SingleTagCtrl",["$scope","Tag","Includes","ArrayTools",function(e,t,a,r){e.tag_template=a.get("tagDetail"),e.editTag=function(){e.tag_template=a.get("tagForm"),e.newTag=$.extend({},e.tag),e.newTag.company=$.grep(e.companies,function(t){return t.name===e.newTag.company})[0].id;var t=$.grep(e.categories,function(t){return t.name===e.newTag.tag_type.subcategory})[0];e.newTag.subcategory=t.id,e.tagTypes=t.tag_types,e.newTag.tag_type=e.tag.tag_type.id,e.newTag.products=e.tag.product?[e.tag.product]:[],e.newTag.reference=e.reference.id},e.tagCancel=function(t){t.preventDefault(),t.stopPropagation(),e.tag_template=a.get("tagDetail")},e.tagSubmit=function(){var r=function(r){e.tag=$.extend({},t.parseResponse(r,e.newTag.subcategory,e.companies,e.categories)),e.tag_template=a.get("tagDetail")},o=function(t){e.error.msg=JSON.stringify(t.data),e.error.error=!0};e.newTag.products&&e.newTag.products[0]&&(e.newTag.product=e.newTag.products[0].id);var s=$.extend({},e.newTag);delete s.products,t.update(s,r,o)},e.modalContent={id:"tag-delete-"+e.tag.id,title:"Delete This Tag?",body:"Are you sure you want to delete the tag "+e.tag.company+": "+e.tag.tag_type.name+"?  This action cannot be undone.",actionName:"Delete"},e.modalTemplate=a.get("modal"),e.deleteTag=function(){$("#tag-delete-"+e.tag.id).modal("toggle")},e.modalAction=function(){var a=function(t){r.removeFromList(t,e.reference.ethicstags),$("#tag-delete-"+e.tag.id).modal("toggle"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()};t.remove(e.tag.id,a)}}]),angular.module("portal").controller("NewTagCtrl",["$scope","Tag",function(e,t){e.newTag={id:0,products:[],reference:e.reference.id},e.error={error:!1,msg:""},e.state={showNewTagForm:!1},e.tagCancel=function(t){t.preventDefault(),t.stopPropagation(),e.state.showNewTagForm=!1},e.showTagForm=function(){e.newTag={id:0,products:[],reference:e.reference.id},e.state.showNewTagForm=!0},e.tagSubmit=function(){var a=function(t){e.error.msg=JSON.stringify(t.data),e.error.error=!0},r=function(a){if(a.isArray)for(var r=0;r<a.length;r++)t.parseResponse(a[r],e.newTag.subcategory,e.companies,e.categories),e.reference.ethicstags.push(a[r]);else t.parseResponse(a,e.newTag.subcategory,e.companies,e.categories),e.reference.ethicstags.push(a);e.state.showNewTagForm=!1};t.createTag(e.newTag,r,a)}}]),angular.module("portal").controller("TagFormCtrl",["$scope","Tag","BaseUrl","ArrayTools",function(e,t,a,r){function o(e,t){var a;for(a=0;a<t.length;a++)if(t[a].id===e.id)return!0;return!1}e.tagFormState={addTagType:!1},e.showNewTagType=function(t){t.preventDefault(),t.stopPropagation(),e.newTypeError={error:""},e.tagFormState.addTagType=!0,e.newTagType={name:""}},e.cancelAddType=function(t){t.preventDefault(),t.stopPropagation(),e.tagFormState.addTagType=!1},e.submitTagType=function(a){a.preventDefault(),a.stopPropagation();var r=function(t){e.tagTypes.push(t),e.newTag.tag_type=t.id,e.tagFormState.addTagType=!1},o=function(t){e.newTypeError.error=t.data,console.log(t.data)};e.newTagType.name?(e.newTagType.subcategory=e.newTag.subcategory,t.createType(e.newTagType,r,o)):e.newTypeError.error="Please enter a new Tag Type or cancel"},e.productListUrl=a+"products/products/list/?company_id= "+e.newTag.company+"&name=",e.removeProduct=function(t,a){t.preventDefault(),t.stopPropagation(),r.removeFromList(a,e.newTag.products)},e.loadFacts=function(){e.tagTypes=$.grep(e.categories,function(t){return t.id===e.newTag.subcategory})[0].tag_types},e.clearProducts=function(){e.productListUrl=a+"products/products/list/?company_id= "+e.newTag.company+"&name=",e.newTag.products=[]},e.selectedProduct=function(t){o(t.originalObject,e.newTag.products)?(e.error.msg="That product has already been selected",e.error.error=!0):(e.newTag.products.push(t.originalObject),e.error.error=!1)}}]),angular.module("portal").controller("GeneralSearchFormCtrl",["$scope","$location",function(e,t){e.generalSearch=function(){e.search.query&&t.path("search/general/"+e.search.query)}}]),angular.module("portal").controller("GeneralSearchCtrl",["$scope","Includes",function(e,t){e.generalSearchForm=t.get("generalSearchForm")}]),angular.module("portal").controller("SearchResultsCtrl",["$scope","Search","$routeParams","$location","$anchorScroll",function(e,t,a,r,o){e.search={query:a.searchQuery},e.state={loading:!0};var s=function(t){e.state.loading=!1,delete t.$promise,delete t.$resolved,e.results=t,e.result_keys=Object.keys(t),e.results.products=e.results.products.map(function(e){return{id:e.id,text:e.text.split("\n")}}),e.results.references=e.results.references.map(function(e){return{id:e.id,text:e.text.split("\n")}})};t.general(a.searchQuery,s),e.goToHash=function(e){o(e)}}]),angular.module("portal").controller("AllReferenceCtrl",["$scope","Reference","$filter",function(e,t,a){var r=function(t){var a=t.map(function(e){return e.metatags.length>0?e.header_text="Marked As Having No Data":e.ethicstags.length>0?e.header_text=e.ethicstags.length+" Data Points":e.header_text="Not Yet Analyzed",e});e.references=a};t.all(r),e.filtering={includeTagged:!0,includeUntagged:!0,includeNoData:!1,text:""},e.filterReferences=function(t){var a=e.filtering.includeTagged||0===t.ethicstags.length,r=e.filtering.includeUntagged||t.ethicstags.length>0,o=e.filtering.includeNoData||0===t.metatags.length,s=t.title.toLowerCase().indexOf(e.filtering.text.toLowerCase())>-1||t.notes.toLowerCase().indexOf(e.filtering.text.toLowerCase())>-1;return s&&o&&r&&a}}]),angular.module("portal").controller("ReferenceDetailCtrl",["$scope","Reference","$routeParams","Includes","Meta",function(e,t,a,r,o){e.reference=t.get(a.referenceID),e.error={error:!1,msg:""},e.referenceModal=r.get("modal"),e.reference_template=r.get("referenceDetail"),e.tagForm=r.get("tagForm"),e.editReference=function(){e.reference_template=r.get("referenceForm"),e.tempReference={title:e.reference.title,url:e.reference.url,id:e.reference.id,notes:e.reference.notes}},e.referenceCancel=function(t){t.stopPropagation(),t.preventDefault(),e.reference_template=r.get("referenceDetail")},o.query(function(t,a){e.companies=t[0].company,e.categories=t[1].ethicssubcategory}),e.referenceSubmit=function(){var a=function(t){e.reference.title=t.title,e.reference.url=t.url,e.reference.notes=t.notes,e.reference_template=r.get("referenceDetail")},o=function(t){e.error.msg=JSON.stringify(t.data),e.error.error=!0};t.update(e.tempReference,a,o)}}]),angular.module("portal").controller("NewReferenceCtrl",["$scope","Reference","Includes",function(e,t,a){e.referenceForm=a.get("referenceForm"),e.error={error:!1,msg:""},e.success={success:!1,msg:"Your article has been sucessfully submitted"},e.tempReference={id:0,url:"",title:"",notes:""},e.referenceSubmit=function(){var a=function(t,a){e.tempReference={id:0,url:"",title:"",notes:""},e.error.error=!1,e.success.success=!0},r=function(t){e.error.msg=JSON.stringify(t.data),e.error.error=!0,e.success.success=!1};t.create(e.tempReference,a,r)}}]),angular.module("portal").controller("ReferenceDeleteCtrl",["$scope","Reference","$location",function(e,t,a){e.modalContent={id:"reference-delete",title:"Delete This Source?",body:"Are you sure you want to delete the source "+e.reference.title+"?  This action cannot be undone.",actionName:"Delete"},e.modalAction=function(){var r=function(){$("#reference-delete").modal("toggle"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),a.path("/references/deleted")};t.remove(e.reference.id,r)}}]),angular.module("portal").controller("ProfileCtrl",["$scope","Preference",function(e,t){e.preferences=t.getAll(),e.options=[-5,-4,-3,-2,-1,0,1,2,3,4,5]}]),angular.module("portal").controller("SinglePrefCtrl",["$scope","Preference",function(e,t){e.showPrefForm=!1,e.openPrefForm=function(){e.showPrefForm=!0,e.newPref=$.extend({},e.fact)},e.closePrefForm=function(t){t.preventDefault(),t.stopPropagation(),e.showPrefForm=!1},e.updatePref=function(){var a=function(t){e.fact.preference=t.preference,e.showPrefForm=!1};t.update(e.newPref,a)}}]),angular.module("portal").controller("InitialCtrl",["$scope","Question","$location",function(e,t,a){e.questions=t.allWithAnswers(),e.selected={},e.answerQuestions=function(){var r=e.questions.filter(function(e){return e.selected}).map(function(e){return+e.selected});if(r.length===e.questions.length){var o=function(e){a.path("/thanks")};e.error="",t.initialAnswers(r,o)}else e.error="Please select an answer for each question."}}]),angular.module("portal").controller("QuestionListCtrl",["$scope","Question",function(e,t){e.state={addQuestion:!1,error:!1},e.showNewQuestion=function(){e.newQuestion={question:"",supplement:""},e.state.addQuestion=!0},e.cancelQuestion=function(t){t.stopPropagation(),t.preventDefault(),e.state.addQuestion=!1},e.questions=t.all(),e.addQuestion=function(){e.state.error=!1;var a=function(t){e.state.addQuestion=!1,e.questions.push(t)},r=function(t){e.state.error=JSON.stringify(t.data)};t.newQuestion(e.newQuestion,a,r)}}]),angular.module("portal").controller("QuestionDetailCtrl",["$scope","$routeParams","Question",function(e,t,a){e.state={addAnswer:!1,error:!1},e.showAnswerForm=function(){e.state.addAnswer=!0,e.newAnswer={answer:""}},e.cancelAddAnswer=function(t){t.preventDefault(),t.stopPropagation(),e.state.addAnswer=!1},e.options=a.answerOptions(),e.ethics=a.withModifiers(t.questionID),e.addAnswer=function(){e.state.error=!1,e.newAnswer.question=t.questionID;var r=function(t){e.state.addAnswer=!1,e.ethics.answers.push(t)},o=function(t){e.state.error=JSON.stringify(t.data)};a.newAnswer(t.questionID,e.newAnswer,r,o)},e.saveAnswers=function(){var r=function(e){console.log(e)},o=function(t){e.state.error=JSON.stringify(t.data)};a.updateAnswers(t.questionID,e.ethics.answers,r,o)}}]),angular.module("portal").controller("ProductDetailCtrl",["$scope","Product","Company","$routeParams","Scores",function(e,t,a,r,o){var s=r.productID;e.categoryIcons=o.getCategoryIcons(),
e.scores=[{category:"",scores:[]}];var l=function(t){e.scores=o.parseSingleScores(t)};t.getScores(s,l);var n=function(t){for(var a=0,r=0;r<t.length;r++)a+=t[r].tags.length;e.product_tag_count=a};e.product_tags=t.allTags(s,n);var i=function(t){e.product=t,e.company_tags=a.allTags(t.company)};t.detail(s,i)}]),angular.module("portal").controller("ProductSearchCtrl",["$scope","Product","Company","Includes",function(e,t,a,r){function o(){e.tempProduct={name:"",company_id:"",division:void 0,category:void 0,price_0:"",price_1:""}}e.companies=a.getAll(),e.divisions=t.getDivisions(),e.categories=t.getCategories(),e.productFormTemplate=r.get("productForm"),e.state={priceRange:!0,showToggle:!0,loading:!1,searched:!1},e.results=[],o(),e.clearForm=function(t){t.stopPropagation(),t.preventDefault(),e.results=[],e.state.searched=!1,o()},e.productSubmit=function(){var a=function(t){e.state.loading=!1,e.results=t.products};e.state.loading=!0,e.state.searched=!0,t.list(e.tempProduct,a)}}]),angular.module("portal").controller("ProductFormCtrl",["$scope",function(e){e.toggleCollapse=function(t){t.preventDefault(),t.stopPropagation(),e.toggleOpen=!e.toggleOpen,$("#productFormCollapse").collapse("toggle")}}]),angular.module("portal").controller("ProductAutoCtrl",["$scope",function(e){}]),angular.module("portal").controller("MasterCtrl",["$scope","djangoAuth","$location","LinkStore",function(e,t,a,r){e.authenticated=!1,e.user={username:"",first_name:"",last_name:"",email:""},t.authenticationStatus(!0).then(function(){e.authenticated=!0,t.profile()}),e.$on("djangoAuth.logged_out",function(){e.authenticated=!1,e.user={username:"",first_name:"",last_name:"",email:""}}),e.$on("djangoAuth.logged_in",function(){e.authenticated=!0,t.profile()}),e.$on("djangoAuth.set_profile",function(t,r){e.user=r,e.user.initial_answers||a.path("/initial")}),e.$on("$routeChangeError",function(e,t,o,s){console.error("Unable to change routes.  Error: ",s),r.set(o.$route.originalPath),a.path("/forbidden")}),e.logout=function(){t.logout()}}]),angular.module("portal").controller("RecentCtrl",["$scope","Landing",function(e,t){e.search={query:""};var a=function(t){e.events=t[2].events,e.tags=t[1].tags,e.posts=t[0].posts;for(var a=0;a<e.tags.length;a++)e.tags[a].link=e.tags[a].product?"#/products/detail/"+e.tags[a].product.id:"#/companies/detail/"+e.tags[a].company.replace(" ","-")};t.recentData(a)}]),angular.module("portal").controller("ForumMainCtrl",["Forum","$scope",function(e,t){t.categories=e.allCategories()}]),angular.module("portal").controller("ThreadListCtrl",["Forum","$scope","$routeParams",function(e,t,a){t.category=e.categoryDetail(a.categoryID),t.showNewThreadForm=!1,t.showThreadForm=function(){t.newThread={subject:"",post_content:"",category:t.category.id},t.showNewThreadForm=!0},t.cancelNewThread=function(e){e.preventDefault(),e.stopPropagation(),t.showNewThreadForm=!1},t.submitThread=function(){var a=function(e){var a=new Date;e.created_date=a.toLocaleString(),e.author=t.user.username,e.post_count=1,t.category.threads=[e].concat(t.category.threads),t.showNewThreadForm=!1},r=function(e){console.log(e)};e.newThread(t.newThread,a,r)}}]),angular.module("portal").controller("PostListCtrl",["$scope","Forum","$routeParams",function(e,t,a){e.thread=t.threadDetail(a.threadID),e.showNewPostForm=!1,e.showPostForm=function(){e.newPost={text:"",thread:a.threadID},e.showNewPostForm=!0},e.cancelNewPost=function(t){t.preventDefault(),t.stopPropagation(),e.showNewPostForm=!1},e.submitPost=function(){var a=function(t){var a=new Date;t.created_date=a.toLocaleString(),t.last_edited_date=a.toLocaleString(),t.author=e.user.username,e.thread.posts.push(t),e.showNewPostForm=!1},r=function(e){console.log(e)};t.newPost(e.newPost,a,r)}}]),angular.module("portal").controller("EventListCtrl",["$scope","Event",function(e,t){var a=function(t){for(var a=new Date,r=0;r<t.length;r++)t[r].start=new Date(t[r].start),t[r].icon=t[r].start>a?"circle":"check-circle";e.events=t};t.all(a)}]),angular.module("portal").controller("EventDetailCtrl",["$scope","Event","$routeParams","$sce",function(e,t,a,r){var o=function(t){var a="https://www.google.com/maps/embed/v1/search?key=AIzaSyD6zHQAOKSj1H1zVuxD6S7AII5aeLaEiHc&q=";e.eventInfo=t,e.mapsUrl=r.trustAsResourceUrl(a+t.location.street_address.replace(/\s/g,"+")+"+"+t.location.city.replace(/\s/g,"+"))};e.eventInfo=t.detail(a.eventID,o)}]),angular.module("portal").controller("CompanyDetailCtrl",["$scope","Company","$routeParams","Scores",function(e,t,a,r){var o=t.getName(a.companyName);e.categoryIcons=r.getCategoryIcons();var s=function(t){e.scores=r.parseSingleScores(t)};e.scores=[{label:"",scores:[]}],t.getScores(o,s),e.company=t.detail(o),e.tags=t.allTags(o)}]),angular.module("portal").controller("CompanyAllCtrl",["$scope","Company","Scores",function(e,t,a){function r(e,t){return e.scores.filter(function(e){return e.user===t})[0].score}function o(e){return function(t,a){return r(t,e)>r(a,e)?-1:r(a,e)>r(t,e)?1:0}}function s(e,t){return e.label.localeCompare(t.label)}e.loading=!0,e.companies=t.getAll(),e.filterProps={showGeneric:!0,ordering:"alphabetic"};var l;e.scores=[{label:"",scores:[]}],e.sortScores=function(){"alphabetic"===e.filterProps.ordering?e.scores.sort(s):e.scores.sort(o(e.filterProps.ordering))},e.filterScores=function(){var t=e.filterProps.showGeneric?l:l.map(function(e){return{label:e.label,scores:e.scores.filter(function(e){return"Generic_Conservative"!==e.user&&"Generic_Liberal"!==e.user})}});e.scores=t};var n=function(t){e.loading=!1,l=a.parseMultiScores(t),e.scores=l};t.allScores(n)}]),angular.module("portal").controller("BlogDetailCtrl",["$scope","Blog","$routeParams",function(e,t,a){e.post=t.getPost(a.postName)}]),angular.module("portal").controller("BlogListCtrl",["$scope","Blog",function(e,t){e.posts=t.list()}]),angular.module("portal").controller("ProfilePageCtrl",["$scope","$cookies",function(e,t){e.model=t.getObject("user")||$.extend({},e.user)}]),angular.module("portal").controller("UserprofileCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.updateProfile=function(r,o){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.updateProfile(o).then(function(t){e.complete=!0},function(t){e.error=t})}}]),angular.module("portal").controller("LoginCtrl",["$scope","$location","djangoAuth","Validate",function(e,t,a,r){e.login=function(o){e.errors=[],r.form_validation(o,e.errors),o.$invalid||a.login(e.model.username,e.model.password).then(function(e){t.path("/")},function(t){e.errors=t})}}]),angular.module("portal").controller("PasswordchangeCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.model={new_password1:"",new_password2:""},e.complete=!1,e.changePassword=function(r){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.changePassword(e.model.new_password1,e.model.new_password2).then(function(t){e.complete=!0},function(t){e.errors=t})}}]),angular.module("portal").controller("RegisterCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.model={email:"",password:""},e.complete=!1,e.register=function(r){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.register(e.model.username,e.model.password1,e.model.password2,e.model.email).then(function(t){e.complete=!0},function(t){e.errors=t})}}]),angular.module("portal").controller("VerifyemailCtrl",["$scope","$routeParams","djangoAuth",function(e,t,a){a.verify(t.emailVerificationToken).then(function(t){e.success=!0},function(t){e.failure=!1})}]),angular.module("portal").controller("PasswordresetCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.model={email:""},e.complete=!1,e.resetPassword=function(r){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.resetPassword(e.model.email).then(function(t){e.complete=!0},function(t){e.errors=t})}}]),angular.module("portal").controller("UserprofileCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.complete=!1,e.model=$.extend({},e.user),console.log(e.user),e.updateProfile=function(r,o){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.updateProfile(o).then(function(t){e.complete=!0},function(t){e.error=t})}}]),angular.module("portal").controller("PasswordresetconfirmCtrl",["$scope","$routeParams","djangoAuth","Validate",function(e,t,a,r){e.model={new_password1:"",new_password2:""},e.complete=!1,e.confirmReset=function(o){e.errors=[],r.form_validation(o,e.errors),o.$invalid||a.confirmReset(t.firstToken,t.passwordResetToken,e.model.new_password1,e.model.new_password2).then(function(t){e.complete=!0},function(t){e.errors=t})}}]),angular.module("portal").controller("ForbiddenCtrl",["$scope","LinkStore",function(e,t){e.backLink=t.get()}]),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/includes/tag_form.html",'<div class="tag-form" ng-controller="TagFormCtrl"><h3 class="text-danger" ng-show="error.error">{{error.msg}}</h3><form ng-submit="tagSubmit()" class="form-white"><div class="form-group"><label for="{{\'companies\' + reference.id}}">COMPANY:</label><div class="fa-label"><select ng-model="newTag.company" class="form-control" ng-options="company.id as company.name for company in companies" ng-change="clearProducts()"><option value="">---- Select Company ----</option></select></div></div><div class="form-group" ng-controller="ProductAutoCtrl" ng-show="newTag.company"><angucomplete-alt id="{{\'products\' + reference.id}}" placeholder="Select a Product" pause="400" selected-object="selectedProduct" remote-url="{{productListUrl}}" remote-url-data-field="products" title-field="name" input-class="form-control" template-url="templates/includes/product_autoinclude.html" clear-selected="true"></div><div class="form-group"><div class="btn-group addedProducts" role="group" ng-repeat="product in newTag.products"><button class="btn btn-sm btn-white-hoverless">{{product.name}}</button> <button class="btn btn-sm btn-white" ng-click="removeProduct($event,product)"><i class="fa fa-times"></i></button></div></div><div class="form-group"><label for="{{\'categories\' + reference.id}}">CATEGORY:</label><div class="fa-label"><select ng-model="newTag.subcategory" class="form-control" ng-options="category.id as category.name group by category.category for category in categories" ng-change="loadFacts()"><option value="">---- Select Ethics Category ----</option></select></div></div><div class="form-group" ng-show="newTag.subcategory && !tagFormState.addTagType"><label for="{{\'companies\' + reference.id}}">TAG TYPE:</label><div class="fa-label"><select ng-model="newTag.tag_type" class="form-control" ng-options="tagType.id as tagType.name for tagType in tagTypes"><option value="">---- Select Tag Type ----</option></select></div><p class="help-block">Don\'t see the tag you want? <a ng-click="showNewTagType($event)">Add it!</a></p></div><div class="form-group" ng-show="tagFormState.addTagType"><h3 class="text-danger" ng-show="newTagError.error">{{ newTagError.error }}</h3><label for="{{\'newTagType\' + reference.id}}">NEW TAG TYPE:</label><input type="text" ng-model="newTagType.name" class="form-control" placeholder="Enter Your New Tag Here" id="{{\'newTagType\' + reference.id}}"> <button class="btn btn-white" ng-click="submitTagType($event)">Add Tag Type</button> <button class="btn btn-white" ng-click="cancelAddType($event)">Cancel</button></div><div class="form-group" ng-show="newTag.tag_type"><label for="{{\'NewTagValue\' + reference.id}}">VALUE (Only for relevant tags):</label><input type="text" ng-model="newTag.value" class="form-control" placeholder="Enter amount for tag modifier" id="{{\'NewTagValue\' + reference.id}}"></div><div class="form-group"><label for="{{\'excerpt\' + reference.id}}">EXCERPT:</label><textarea rows="3" ng-model="newTag.excerpt" name="notes" id="{{\'excerpt\' + reference.id}}" class="form-control"></textarea></div><input type="submit" class="btn btn-white" value="Submit"> <button class="btn btn-white" ng-click="tagCancel($event)">Cancel</button></form></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/includes/tag_detail.html",'<div class="reference-company-icon"><a href="#/companies/detail/{{ tag.company.replace(\' \', \'-\') }}"><img src="img/Logos/{{ tag.company.replace(\' \', \'-\') }}-small-white.png" class="brand-thumbnail"></a></div><h4 class="tag-type"><strong>{{ tag.tag_type.name }}<span ng-show="tag.value">: {{tag.value}}</span></strong> <span class="text-muted">({{ tag.tag_type.subcategory }})</span></h4><p class="text-muted">"{{ tag.excerpt }}"</p><div class="tag-buttons" ng-show="authenticated"><button class="btn btn-borderless" ng-click="editTag()"><i class="fa fa-edit"></i> Edit Tag</button> <button class="btn btn-borderless" ng-click="deleteTag()"><i class="fa fa-times"></i> Delete Tag</button></div><div ng-include="modalTemplate"></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/includes/reference_form.html",'<div class="reference-form form-black"><h3 class="text-danger" ng-show="error.error">{{error.msg}}</h3><h3 class="text-success" ng-show="success.success">{{success.msg}}</h3><form ng-submit="referenceSubmit()"><div class="form-group"><label for="{{\'title\' + reference.id}}">TITLE:</label><input type="text" id="{{\'title\' + reference.id}}" ng-model="tempReference.title" name="title" class="form-control"></div><div class="form-group"><label for="{{\'url\' + reference.id}}">URL:</label><input type="text" id="{{\'url\' + reference.id}}" ng-model="tempReference.url" name="url" class="form-control"></div><div class="form-group"><label for="{{\'notes\' + reference.id}}">NOTES:</label><textarea rows="3" ng-model="tempReference.notes" name="notes" id="{{\'notes\' + article.id}}" class="form-control"></textarea></div><input type="submit" class="btn btn-black" value="Submit"> <button class="btn btn-black" ng-click="referenceCancel($event)">Cancel</button></form></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/includes/reference_detail.html",'<dl class="dl-horizontal reference-detail-title"><dt>Title:</dt><dd>{{ reference.title }}</dd><dt>Url:</dt><dd><a href="{{ reference.url }}" target="_newtab">{{ reference.url }}</a></dd><dt>Notes:</dt><dd>{{ reference.notes }}</dd><dt class="text-muted"><em>Added By:</em></dt><dd class="text-muted"><em>{{ reference.added_by }}</em></dd></dl><div class="reference-detail-buttons" ng-show="authenticated"><button class="btn btn-black" ng-click="editReference()">Edit Reference</button> <button class="btn btn-black" data-toggle="modal" data-target="#reference-delete">Delete Reference</button></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/includes/product_form.html",'<div ng-controller="ProductFormCtrl"><h3 class="text-danger" ng-show="error">{{error.msg}}</h3><h3 class="text-danger" ng-repeat="error in errors.non_field_errors">{{error}}</h3><h3 class="text-success" ng-show="success">{{success}}</h3><form class="form-black" ng-submit="productSubmit()"><div class="form-group"><h3 class="text-danger" ng-repeat="error in errors.name">{{error}}</h3><label for="{{\'name\' + product.id}}">NAME:</label><input type="text" id="{{\'name\' + product.id}}" ng-model="tempProduct.name" name="title" class="form-control" placeholder="Product Name"></div><div id="productFormCollapse" class="collapse"><div class="form-group"><label for="{{\'companies\' + product.id}}">COMPANY:</label><select ng-model="tempProduct.company_id" class="form-control" ng-options="company.id as company.name for company in companies"><option value="">---- Select Company ----</option></select></div><div class="form-group"><h3 class="text-danger" ng-repeat="error in errors.division">{{error}}</h3><label for="{{\'division\' + product.id}}">DIVISION:</label><select id="{{\'division\' + product.id}}" ng-model="tempProduct.division" class="form-control"><option value="">---- Select Division (Optional) ----</option><option ng-repeat="division in divisions" value="{{division}}">{{division}}</option></select></div><div class="form-group"><h3 class="text-danger" ng-repeat="error in errors.category">{{error}}</h3><label for="{{\'category\' + product.id}}">CATEGORY:</label><select id="{{\'category\' + product.id}}" ng-model="tempProduct.category" class="form-control"><option value="">---- Select Category (Optional) ----</option><option ng-repeat="category in categories" value="{{category}}">{{category}}</option></select></div><div class="form-group" ng-if="!state.priceRange"><label for="{{\'price\' + product.id}}">PRICE:</label><h3 class="text-danger" ng-repeat="error in errors.price">{{error}}</h3><div class="left-inner-addon"><span>$</span> <input type="text" id="{{\'price\' + product.id}}" ng-model="tempProduct.price" name="title" class="form-control" placeholder="if a range is listed, give the cheapest value"></div></div><div class="form-group" ng-if="state.priceRange"><label for="{{\'price\' + product.id}}">PRICE (may not reflect price in stores):</label><h3 class="text-danger" ng-repeat="error in errors.price">{{error}}</h3><div class="col-xs-12 form-sub-group"><div class="form-inline"><div class="form-group"><div class="left-inner-addon"><span>$</span> <input type="text" id="{{\'priceMin\' + product.id}}" ng-model="tempProduct.price_0" name="title" class="form-control" placeholder="Minimum Price"></div></div><div class="form-group"><div class="left-inner-addon"><span>$</span> <input type="text" id="{{\'priceMax\' + product.id}}" ng-model="tempProduct.price_1" name="title" class="form-control" placeholder="Maximum Price"></div></div></div></div></div></div><div class="form-group" ng-if="state.showImageLink"><h3 class="text-danger" ng-repeat="error in errors.image_link">{{error}}</h3><label for="{{\'image_link\' + article.id}}">IMAGE LINK (OPTIONAL):</label><input type="text" id="{{\'image_link\' + article.id}}" ng-model="tempProduct.image_link" name="image_link" class="form-control"></div><div class="form-group"><input type="submit" class="btn btn-black submit-button" value="Submit"> <button class="btn btn-black" ng-click="clearForm($event)">Clear</button> <button class="btn btn-borderless" ng-click="toggleCollapse($event)" ng-show="state.showToggle"><span ng-hide="toggleOpen">(Advanced Search)</span><span ng-show="toggleOpen">(Basic Search)</span></button></div></form></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/includes/product_autoinclude.html",'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}"><label for="{{id}}_value">PRODUCTS (OPTIONAL):</label><input id="{{id}}_value" name="{{inputName}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"><div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown"><div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div><div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div><div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}"><div ng-if="imageField" class="angucomplete-image-holder"><img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"><div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div></div><div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div><div class="angucomplete-title" ng-if="!matchClass">{{ result.title }}</div><div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div><div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/includes/modal.html",'<div id="{{modalContent.id}}" class="modal fade" tab-index="-1" role="dialog" aria-labelledby="{{\'#\' + modalContent.label}}"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="{{modalContent.label}}">{{ modalContent.title }}</h4></div><div class="modal-body">{{ modalContent.body }}</div><div class="modal-footer"><button type="button" class="btn btn-black" data-dismiss="modal">Cancel</button> <button type="button" class="btn btn-black" ng-click="modalAction()">{{ modalContent.actionName }}</button></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/includes/general_search_form.html",'<div class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2" ng-controller="GeneralSearchFormCtrl"><form id="general-search-form" class="form-black" ng-submit="generalSearch()"><div class="input-group"><label class="sr-only" for="landing-search">Search for Shoes, Brands, or References</label><input type="text" name="landing-search" id="landing-search" class="form-control" placeholder="Search Shoes, Brands, or References.." ng-model="search.query"><div class="input-group-btn"><button type="submit" value="go" class="btn"><i class="fa fa-fw fa-search"></i></button></div></div></form><hr></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/verifyemail.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="verifyEmail_view" ng-controller="VerifyemailCtrl"><div ng-if="success" class="alert alert-success">You have successfully verified your email address.</div><div ng-if="failure" class="alert alert-warning">Sorry, there\'s been an error.</div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/userprofile.html",'<section class="container"><div class="row"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><h2 class="light-header">Edit Profile Information</h2><div id="userProfile_view" ng-controller="UserprofileCtrl"><div ng-if="complete == false"><form class="form-black" role="form" ng-if="authenticated" name="userProfileForm" ng-submit="updateProfile(userProfileForm, model)" novalidate><div class="form-group"><label for="id_first_name">First Name</label><input name="first_name" id="id_first_name" class="form-control" type="text" ng-model="model.first_name" placeholder="First Name"></div><div class="alert alert-danger" ng-repeat="error in errors.first_name">{{error}}</div><div class="form-group"><label for="id_last_name">Last Name</label><input name="last_name" id="id_last_name" class="form-control" type="text" ng-model="model.last_name" placeholder="Last Name"></div><div class="alert alert-danger" ng-repeat="error in errors.last_name">{{error}}</div><div class="form-group"><label for="id_email">Email</label><input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><button type="submit" ng-show="authenticated" class="btn btn-black">Update Profile</button></form><div class="alert alert-warning" ng-if="authenticated == false">You need to be logged in to do this.</div></div><div ng-if="complete == true"><div class="alert alert-success">You have updated your profile.</div></div></div><div id="passwordChange_view" ng-controller="PasswordchangeCtrl"><h2 class="light-header">Change Password</h2><div ng-if="complete == false"><form class="form-black" role="form" ng-submit="changePassword(changePasswordForm)" name="changePasswordForm" ng-if="authenticated" novalidate><div class="form-group"><label for="id_password1">New Password</label><input name="new_password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.new_password1">{{error}}</div><div class="form-group"><label for="id_password2">Repeat Password</label><input name="new_password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.new_password2">{{error}}</div><button ng-show="authenticated" type="submit" class="btn btn-black">Change Password</button></form><div class="alert alert-warning" ng-if="authenticated != true">You need to be logged in to do this!</div></div><div ng-if="complete == true"><div class="alert alert-success">You have changed your password.</div></div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/signup.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="register_view" ng-controller="RegisterCtrl"><div ng-if="complete == false"><h3 class="title-block title-black-filled">Please Enter Your Registration Information:</h3><form role="form" class="form-black" ng-if="authenticated != true" name="registerForm" ng-submit="register(registerForm)" novalidate><div class="form-group"><label class="sr-only" for="id_first_name">First Name (optional)</label><input name="first_name" id="id_first_name" class="form-control" type="first_name" ng-model="model.first_name" placeholder="First Name"></div><div class="form-group"><label class="sr-only" for="id_last_name">Last Name (optional)</label><input name="last_name" id="id_last_name" class="form-control" type="last_name" ng-model="model.last_name" placeholder="Last Name"></div><div class="form-group"><label class="sr-only" for="id_username">Username</label><input name="username" id="id_username" class="form-control" type="username" ng-model="model.username" placeholder="Username" required></div><div class="alert alert-danger" ng-repeat="error in errors.username">{{error}}</div><div class="form-group"><label class="sr-only" for="id_email">Email</label><input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><hr><div class="form-group"><label class="sr-only" for="id_password">Password</label><input name="password1" id="id_password1" class="form-control" type="password" ng-model="model.password1" placeholder="Password" required></div><div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div><div class="form-group"><label class="sr-only" for="id_password">Repeat Password</label><input name="password" id="id_password2" class="form-control" type="password" ng-model="model.password2" placeholder="Repeat Password" required></div><div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div><button ng-hide="authenticated" type="submit" class="btn btn-black">Sign Up!</button></form><p ng-if="authenticated">You are already logged in! You don\'t need to register.</p></div><div ng-if="complete == true"><div class="alert alert-success">Great! You\'ve just registered. You should receive an email shortly with instructions on how to activate your account.</div></div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/passwordresetconfirm.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><h3 class="title-block title-black-filled">Enter New Password</h3><div id="passwordResetConfirm_view" ng-controller="PasswordresetconfirmCtrl"><div ng-hide="complete"><form role="form" ng-hide="authenticated" class="form-black" ng-submit="confirmReset(confirmResetForm)" name="confirmResetForm" novalidate><div class="form-group"><label for="id_password1">New Password</label><input name="password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div><div class="form-group"><label for="id_password2">Repeat Password</label><input name="password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div><button type="submit" ng-hide="authenticated" class="btn btn-black">Reset Password</button></form><p ng-show="authenticated">You are already logged in! You don\'t need to reset your password.</p></div><div ng-show="complete"><div class="alert alert-success">You have changed your password.</div></div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/passwordreset.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="passwordReset_view" ng-controller="PasswordresetCtrl"><h3 class="title-block title-black-filled">Password Reset</h3><div ng-if="complete == false"><form class="form-black" role="form" ng-if="authenticated != true" name="passwordResetForm" ng-submit="resetPassword(passwordResetForm)" novalidate><div class="form-group"><label for="id_email">Email</label><input name="email" id="id_email" type="text" ng-model="model.email" placeholder="Email" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><button ng-hide="authenticated" type="submit" class="btn btn-black">Reset Password</button></form><p ng-if="authenticated">You are already logged in! You don\'t need to reset your password.</p></div><div ng-if="complete == true"><div class="alert alert-success">You should receive an email shortly with instructions on how to reset your account password.</div></div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/login.html",'<section class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">\'<div id="login_view" ng-controller="LoginCtrl"><h4 class="title-block title-black-filled">Please Log In</h4><form role="form" ng-submit="login(loginForm)" name="loginForm" class="form-black" novalidate><div class="alert alert-danger" ng-repeat="error in errors.username">{{error}}</div><div class="form-group"><label class="sr-only" for="id_username">Username</label><input name="username" id="id_username" type="text" ng-model="model.username" placeholder="Username" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.password">{{error}}</div><div class="form-group"><label class="sr-only" for="id_password">Password</label><input name="password" id="id_password" type="password" ng-model="model.password" placeholder="Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.non_field_errors">{{error}}</div><div class="alert alert-danger" ng-if="error">{{error}}</div><p><button type="submit" class="btn btn-black">Submit</button></p></form><div><p>Forgot your password? Click <a href="#/passwordReset">here</a></p></div></div><hr><h4>Don\'t have an Axiologue account? Sign up below!</h4><a href="#/signUp" class="btn btn-black">Sign Up</a></div></div></section>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/auth/forbidden.html",'<section class="container-fluid" ng-controller="ForbiddenCtrl"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Restricted Page</h2><h5>In order to access that content, you must be logged in. What would you like to do?</h5><a class="btn btn-black" href="{{\'#\' +  backLink }}">Go Back</a> <a class="btn btn-black" href="#/login">Login</a></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/thanks.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Thanks!</h2><p>Thank you for signing up! Your initial profile should now be set. You can tweak your profile to your hearts content on your <a href="#/profile">ethical profile page</a> or you can <a href="#/products/search">start searching products!</a>.</p></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/tag_list.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 tag-list" id="ethics-list"><h2 class="title-block title-black">Current Ethical Data</h2><div ng-repeat="category in tags"><h4 class="tag-list-title">{{ category.category.toUpperCase() }}</h4><ul><li ng-show="category.tags.length === 0"><h5 class="no-data">No Data in this category. You can <a href="#/references/how-to">help us</a> research!</h5></li><li ng-repeat="tag in category.tags"><div class="tag-block tag-block-header"><div class="tag-list-icon"><img class="brand-thumbnail" src="img/Logos/{{ tag.company.replace(\' \', \'-\') }}-small-black.png"></div><h5 class="tag-type">{{ tag.company }} -- <strong>{{ tag.tag_type }}<span ng-show="tag.value">: {{tag.value}}</span></strong></h5><span class="text-muted">From: <a href="#/references/detail/{{ tag.reference.id }}">{{ tag.reference.title }}</a> (<a href="{{ tag.reference.url }}" target="_newtab">External Link</a>) (<a role="button" data-target="#tag-detail-{{tag.id}}" data-toggle="collapse" aria-expanded="false" aria-controls="tag-detail-{{tag.id}}">See More</a>)</span></div><div class="tag-block"><div class="collapse" id="tag-detail-{{tag.id}}"><div class="tag-detail-content"><dl class="dl-horizontal"><dt>EXCERPT</dt><dd>"{{ tag.excerpt }}"</dd><dt>ADDED BY</dt><dd><span class="text-muted"><a href="#/users/{{ tag.added_by }}">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/search_results.html",'<div ng-controller="SearchResultsCtrl" id="top"><div ng-include="generalSearchForm"></div><section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><div class="text-center" ng-show="state.loading"><i class="fa fa-spinner fa-pulse fa-4x"></i> <span class="sr-only">Loading...</span></div><div ng-hide="state.loading"><div class="result-counts"><ul><li><strong>RESULTS FOUND:</strong></li><li ng-repeat="key in result_keys"><a href="" ng-click="goToHash(key)">{{ key.toUpperCase() }}: <strong>{{ results[key].length }}</strong></a></li></ul></div></div><div class="result-set" ng-show="results.companies.length > 0" id="companies"><div class="row"><div class="col-xs-6"><h3>Companies</h3></div><div class="col-xs-6 text-right search-controls"><span class="text-muted"><a href="" ng-click="goToHash(\'top\')"><h5>(Back to Top)</h5></a></span><span class="text-muted"><a type="button" href="" data-toggle="collapse" data-target="#company-data" aria-expanded="true" aria-controls="company-data"><h5>(Hide)</h5></a></span></div><div class="col-xs-12"><hr></div></div><div class="row search-list collapse in" id="company-data"><div ng-repeat="result in results.companies" class="search-item col-xs-12 col-sm-6"><a href="#/companies/detail/{{ result.text.replace(\' \',\'-\') }}"><div class="search-image"><img class="brand-thumbnail" src="img/Logos/{{ result.text.replace(\' \',\'-\') }}-small-black.png"></div><div class="search-content"><strong><h4 class="search-header">{{result.text}}</h4></strong></div></a></div></div></div><div class="result-set" ng-show="results.products.length > 0" id="products"><div class="row"><div class="col-xs-6"><h3>Products</h3></div><div class="col-xs-6 text-right search-controls"><span class="text-muted"><a href="" ng-click="goToHash(\'top\')"><h5>(Back to Top)</h5></a></span><span class="text-muted"><a type="button" href="" data-toggle="collapse" data-target="#product-data" aria-expanded="true" aria-controls="product-data"><h5>(Hide)</h5></a></span></div><div class="col-xs-12"><hr></div></div><div class="row search-list collapse in" id="product-data"><div class="search-item col-xs-12 col-sm-6" ng-repeat="result in results.products"><a href="#/products/detail/{{ result.id }}"><div class="search-image"><img class="brand-thumbnail" src="img/Logos/{{ result.text[1].replace(\' \',\'-\') }}-small-black.png"></div><div class="search-content"><strong><h4 class="search-header">{{result.text[0] }}</h4></strong><span class="text-muted">{{ result.text[1] }} | {{ result.text[2] }} | {{ result.text[3] }}</span></div></a></div></div></div><div class="result-set" ng-show="results.references.length > 0" id="references"><div class="row"><div class="col-xs-6"><h3>References</h3></div><div class="col-xs-6 text-right search-controls"><span class="text-muted"><a href="" ng-click="goToHash(\'top\')"><h5>(Back to Top)</h5></a></span><span class="text-muted"><a type="button" href="" data-toggle="collapse" data-target="#reference-data" aria-expanded="true" aria-controls="reference-data"><h5>(Hide)</h5></a></span></div><div class="col-xs-12"><hr></div></div><div class="row search-list collapse in" id="reference-data"><div class="search-item col-xs-12" ng-repeat="result in results.references"><a href="#/references/detail/{{ result.id }}"><div class="search-content"><strong><h4 class="search-header">{{result.text[0] }}</h4></strong><span class="text-muted">{{ result.text[1] }}</span></div></a></div></div></div></div></div></section></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/search_empty.html",'<section><div ng-include="generalSearchForm"></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/reference_new.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Add A Source</h2><div ng-include="referenceForm"></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/reference_list.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Sources</h2><form class="form-black"><div class="form-group"><label class="checkbox-inline"><input type="checkbox" ng-model="filtering.includeTagged">Include Analyzed Sources</label><label class="checkbox-inline"><input type="checkbox" ng-model="filtering.includeUntagged">Include Unanalyzed Sources</label><label class="checkbox-inline"><input type="checkbox" ng-model="filtering.includeNoData">Include Sources Without Concrete Data</label></div><div class="form-group"><label class="sr-only" for="textFilter">Filter by source title, notes, etc..."</label><input type="text" ng-model="filtering.text" class="form-control" id="textFilter" placeholder="Filter by source title, notes, etc..."></div></form><hr></div></div><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 reference-list"><uib-accordion close-others="true"><uib-accordion-group ng-repeat="reference in filteredSources = (references | filter: filterReferences)" is-open="status[reference.id]" class="reference-item"><uib-accordion-heading>{{ reference.title }} <i class="fa pull-right" ng-class="{\'fa-minus-square-o\': status[reference.id], \'fa-plus-square-o\': !status[reference.id]}"></i> <span class="reference-header-detail">({{ reference.header_text }})</span></uib-accordion-heading><dl class="dl-horizontal reference-detail"><dt>URL</dt><dd><a href="{{ reference.url }}" target="_newtab">{{ reference.url }}</a></dd><dt>NOTES</dt><dd>{{ reference.notes }}</dd><dt>DATA</dt><dd ng-show="reference.metatags.length > 0">Article Marked As Having No Relevant Data. It is still stored here as a reference.</dd><dd ng-show="reference.metatags.length === 0 && reference.ethicstags.length === 0">This reference hasn\'t been analyzed yet. Help us out by <a href="#/references/detail/{{ reference.id }}">adding a tag</a></dd><dd ng-repeat="tag in reference.ethicstags"><strong>{{ tag.tag_type.name }}</strong> ({{ tag.tag_type.subcategory }})<br><span class="text-muted">"{{ tag.excerpt }}"</span></dd></dl><a class="btn btn-black" href="#/references/detail/{{ reference.id }}">Edit or Analyze This Source</a></uib-accordion-group><div ng-hide="filteredSources.length"><h3 class="text-center">No Results Match Your Filters. Try Adjusting Your Filtering Criteria</h3></div></uib-accordion></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/reference_detail.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><div class="reference-detail-title-wrapper"><div ng-include="reference_template"></div></div></div></div></section><div ng-include="referenceModal" ng-controller="ReferenceDeleteCtrl"></div><div class="container-fluid dark-row"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h3 class="title-block title-white">Ethical Data From This Reference</h3><div class="reference-tag-detail" ng-repeat="tag in reference.ethicstags" ng-controller="SingleTagCtrl"><div ng-include="tag_template"></div></div><div ng-controller="NewTagCtrl" ng-show="authenticated"><button class="btn btn-white" ng-hide="state.showNewTagForm" ng-click="showTagForm()">Add New Tag</button><div ng-include="tagForm" ng-show="state.showNewTagForm"></div></div><div ng-hide="authenticated"><a class="btn btn-white" ng-hide="state.showNewTagForm" href="#/login">Login to Edit or Add Tags</a></div><hr></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/reference_deleted.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Article Deleted</h2><h3>The specified source has now been deleted. Continue to <a href="#/references/all">browse our sources</a> or navigate elsewhere using the menu above.</h3></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/question_list.html",'<section class="container"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Profile Setting Questions</h2><div class="question-list-item" ng-repeat="question in questions"><a href="#/profile/questions/{{question.id}}"><h4><strong>{{question.question}}</strong></h4><h4>{{question.supplement}}</h4></a></div><div class="newQuestionForm"><button class="btn btn-black" ng-hide="state.addQuestion" ng-click="showNewQuestion()">Add Question</button><form ng-show="state.addQuestion" ng-submit="addQuestion()"><h3 ng-show="state.error">{{state.error}}</h3><div class="form-group"><label for="newQuestion">Enter Your Question:</label><input type="text" class="form-control" id="newQuestion" placeholder="What do you want to ask?" ng-model="newQuestion.question"></div><div class="form-group"><label for="newSupplement">Enter Any Additional Info:</label><input type="text" class="form-control" id="newSupplement" placeholder="eg. Caveats, Explanations, etc" ng-model="newQuestion.supplement"></div><button type="submit" class="btn btn-black">Add Question</button> <button class="btn btn-black" ng-click="cancelQuestion($event)">Cancel</button></form></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/question_detail.html",'<section class="container"><div class="row"><div class="col-xs-12"><h2 class="title-block title-black">Set the Modifiers for this Question</h2><h3><strong>{{ ethics.question.question }}</strong></h3><h3>{{ ethics.question.supplement }}</h3><table class="table table-striped table-bordered table-modifiers form-black"><tr><th>Tag Type</th><th ng-repeat="answer in ethics.answers">{{answer.answer}}</th></tr><tbody ng-repeat="ethic in ethics.ethics"><tr><td><h4><strong>{{ethic.name}}</strong></h4></td><td ng-repeat="answer in ethics.answers"></td></tr><tr ng-repeat="tag_type in ethic.tag_types"><td><strong>{{tag_type.subcategory}}</strong>: {{tag_type.name}}</td><td ng-repeat="answer in ethics.answers"><label class="fa-label"><select class="form-control" ng-model="answer.modifiers[tag_type.id]" convert-to-number><option ng-repeat="option in options" value="{{option.value}}">{{option.display}}</option></select></label></td></tr></tbody></table><button class="btn btn-black" ng-click="saveAnswers()">Save Changes</button> <button class="btn btn-black" ng-hide="state.addAnswer" ng-click="showAnswerForm()">Add New Answer</button><form ng-show="state.addAnswer" ng-submit="addAnswer()"><h3 ng-show="state.error">{{state.error}}</h3><div class="form-group"><label for="newAnswer">Enter Your Answer:</label><input type="text" class="form-control" id="newAnswer" placeholder="Create a new answer to this question" ng-model="newAnswer.answer"></div><button type="submit" class="btn btn-black">Add Answer</button> <button ng-click="cancelAddAnswer($event)" class="btn btn-black">Cancel</button></form></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/product_search.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Find a Shoe</h2><div ng-include="productFormTemplate"></div></div></div><div ng-show="state.searched" class="row"><div class="col-xs-12 col-lg-10 col-lg-offset-1"><hr><div ng-show="state.loading" class="text-center"><i class="fa fa-spinner fa-pulse fa-4x"></i> <span class="sr-only">Loading...</span></div><div ng-hide="state.loading"><div class="row search-list" ng-show="results.length > 0"><div ng-repeat="product in results" class="search-item col-xs-12 col-sm-6"><a href="#/products/detail/{{ product.id }}"><div class="search-image"><img class="brand-thumbnail" src="img/Logos/{{ product.company.replace(\' \',\'-\') }}-small-black.png"></div><div class="search-content"><strong><h4 class="search-header">{{product.name}}</h4></strong><span class="text-muted">{{ product.company }}</span></div></a></div></div><div ng-hide="results.length > 0" class="text-center"><h2>No Products Found that Match Your Search</h2></div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/product_detail.html",'<header class="container-fluid"><div class="row"><div class="col-xs-12 col-md-4 text-center"><div class="detail-logo"><img src="img/Logos/{{ product.company.replace(\' \', \'-\') }}-large-black.png" class="img-responsive" alt="{{ product.name }}"></div><h2 class="title-block title-black-filled detail-title">{{ product.name }}</h2><h3 class="detail-supplement">Made By: <a href="#/companies/detail/{{ product.company.replace(\' \',\'-\') }}"><strong>{{ product.company }} </strong></a></h3><h3 class="detail-supplement">Category: {{ product.category }}</h3><div bars-legend data="scores"></div><div class="btn-personalized-wrapper"><a href="#/login" class="btn btn-black btn-sm btn-personalized" ng-hide="authenticated">Login to see your own personalized score</a></div></div><div class="col-xs-12 col-md-8"><div class="score-chart-header"><h2 class="title-block title-black score-title">Ethical Scores</h2></div><horizontal-bars data="scores"></horizontal-bars></div></div></header><section class="container-fluid dark-row"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list"><h2 class="title-block title-white">Data on {{ product.name }}</h2><div ng-show="product_tag_count === 0"><h5 class="no-data">No product-specific data on {{ product.name }}. You can <a href="#/references/how-to">help us</a> research!</h5></div><div ng-repeat="category in product_tags" ng-show="product_tag_count > 0"><h4 class="tag-list-title">{{ category.category.toUpperCase() }}</h4><ul><li ng-show="category.tags.length === 0"><h5 class="no-data">No Data in this category. You can <a href="#/references/how-to">help us</a> research!</h5></li><li ng-repeat="tag in category.tags"><div class="tag-block"><div class="tag-list-icon"><i class="fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-dark-gray"></i></div><h5 class="tag-type"><strong>{{ tag.tag_type }}<span ng-show="tag.value">: {{tag.value}}</span></strong></h5><span class="text-muted">From: <a href="#/references/detail/{{ tag.reference.id }}">{{ tag.reference.title }}</a> (<a href="{{ tag.reference.url }}" target="_newtab">External Link</a>) (<a role="button" data-target="#tag-detail-{{tag.id}}" data-toggle="collapse" aria-expanded="false" aria-controls="tag-detail-{{tag.id}}">Tag Details</a>)</span></div><div class="tag-block"><div class="collapse" id="tag-detail-{{tag.id}}"><div class="tag-detail-content"><dl class="dl-horizontal"><dt>EXCERPT</dt><dd>"{{ tag.excerpt }}"</dd><dt>ADDED BY</dt><dd><span class="text-muted"><a href="#/users/{{ tag.added_by }}">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div><div class="col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list"><h2 class="title-block title-white">Data on {{ product.company }}</h2><div ng-repeat="category in company_tags"><h4 class="tag-list-title">{{ category.category.toUpperCase() }}</h4><ul><li ng-show="category.tags.length === 0"><h5 class="no-data">No Data in this category. You can <a href="#/references/how-to">help us</a> research!</h5></li><li ng-repeat="tag in category.tags"><div class="tag-block"><div class="tag-list-icon"><i class="fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-dark-gray"></i></div><h5 class="tag-type"><strong>{{ tag.tag_type }}<span ng-show="tag.value">: {{tag.value}}</span></strong></h5><span class="text-muted">From: <a href="#/references/detail/{{ tag.reference.id }}">{{ tag.reference.title }}</a> (<a href="{{ tag.reference.url }}" target="_newtab">External Link</a>) (<a role="button" data-target="#company-tag-detail-{{tag.id}}" data-toggle="collapse" aria-expanded="false" aria-controls="tag-detail-{{tag.id}}">See More</a>)</span></div><div class="tag-block"><div class="collapse" id="company-tag-detail-{{tag.id}}"><div class="tag-detail-content"><dl class="dl-horizontal"><dt>EXCERPT</dt><dd>"{{ tag.excerpt }}"</dd><dt>ADDED BY</dt><dd><span class="text-muted"><a href="#/users/{{ tag.added_by }}">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div></div></section><div class="container-fluid dark-row"><div class="row"><div class="col-xs-12"><hr></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/landing.html",'<header class="container-fluid carousel-wrapper"><div class="row"><div class="col-xs-12 col-carousel"><div id="carousel-landing" class="carousel slide" data-ride="carousel"><ol class="carousel-indicators"><li data-target="#carousel-landing" data-slide-to="0" class="active"></li><li data-target="#carousel-landing" data-slide-to="1"></li><li data-target="#carousel-landing" data-slide-to="2"></li></ol><div class="carousel-inner" role="listbox"><div class="item active" style="background-image: url(\'img/headers/GrayWalking.jpg\')" ng-controller="GeneralSearchFormCtrl"><div class="carousel-caption caption-right carousel-caption-search"><h2>Which Shoes Match Your Ethics?</h2><form class="form-white" ng-submit="generalSearch()"><div class="input-group"><label class="sr-only" for="landing-search">Search</label><input type="text" name="landing-search" id="landing-search" class="form-control" placeholder="Search Shoes, Brands, or References.." ng-model="search.query"><div class="input-group-btn"><button type="submit" value="go" class="btn"><i class="fa fa-fw fa-search"></i></button></div></div></form></div></div><div class="item" style="background-image: url(\'img/headers/GrayShoeHanging.jpg\')"><div class="carousel-caption caption-bottom"><h2 class="heavy">Mindful Click:</h2><h3>Shop With Your Ethics on Amazon or Zappos</h3><button class="btn btn-lg btn-white">Get the Extension</button></div></div><div class="item" style="background-image: url(\'img/headers/GrayWalkingSand.jpg\')"><div class="carousel-caption caption-right caption-squares"><h2 class="caption-title">Browse By Brand</h2><div class="squares-wrapper"><div class="carousel-square"><a href="#/companies/detail/Nike"><img class="img-responsive" src="img/Logos/Nike-mid-white.png"></a></div><div class="carousel-square"><a href="#/companies/detail/Adidas"><img class="img-responsive" src="img/Logos/Adidas-mid-white.png"></a></div><div class="carousel-square"><a href="#/companies/detail/New-Balance"><img class="img-responsive" src="img/Logos/New-Balance-mid-white.png"></a></div><div class="carousel-square"><a href="#/companies/detail/Under-Armour"><img class="img-responsive" src="img/Logos/Under-Armour-mid-white.png"></a></div><div class="carousel-square"><a href="#/companies/detail/Asics"><img class="img-responsive" src="img/Logos/Asics-mid-white.png"></a></div><div class="carousel-square"><a href="#/companies/all"><h3>& Many More...</h3></a></div></div></div></div></div><span class="left carousel-control" data-target="#carousel-landing" role="button" data-slide="prev"><i class="fa fa-2x fa-angle-left" aria-hidden="true"></i> <span class="sr-only">Previous</span> </span><span class="right carousel-control" data-target="#carousel-landing" role="button" data-slide="next"><i class="fa fa-2x fa-angle-right" aria-hidden="true"></i> <span class="sr-only">Next</span></span></div></div></div></header><section class="container-fluid" id="whatIs"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">What is Axiologue?</h2><p>Axiologue is a crowd-sourced, community-based project to track the ethics of products and companies. We put ethical information in the hands of consumers, so they can shop in line with their own personal ethics and support the companies that are doing it right. We are guided by the following five principles:</p><ul class="fa-ul principles-list"><li><i class="fa-li fa fa-lg fa-usd"></i><h4>Free</h4>Ethical information should never be behind a paywall. We believe ethical information should be accessible to anyone who wants access to it.</li><li><i class="fa-li fa fa-lg fa-user"></i><h4>Personalized</h4>Who decides what\'s ethical? You do! Axiologue lets users customize their ethical profiles so they only see what\'s important to them.</li><li><i class="fa-li fa fa-lg fa-unlock-alt"></i><h4>Open</h4>We believe ethical behavior starts with the free exchange of knoweldge. All of Axiologue\'s raw data is freely available, via this website or our Open API. All of our software is open source.</li><li><i class="fa-li fa fa-lg fa-bar-chart"></i><h4>Comprehensive</h4>Axiologue covers all possible ethical categories, including environment, labor, political affiliation, and more.</li><li><i class="fa-li fa fa-lg fa-comments"></i><h4>Participatory</h4>Axiologue is a crowd-sourced project, and all you need to contribute is a desire to bring ethical information to those who want it!</li></ul></div></div></section><section class="container-fluid dark-row" id="whoIs"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-center"><h2 class="title-block title-white">Who is Axiologue?</h2><p class="text-left">Axiologue is a community-based project. We are researchers, designers, teachers, artists, philosophers, programmers, students, and more. Axiologue could even be you! Learn more about how to join the Axiologue community below. We\'d love to have you join our ever-growing community!</p><a href="#/references/how-to" class="btn btn-orange btn-lg btn-help">How To Help</a><p class="text-left">Axiologue was founded by artist/programmer <a href="http://www.nishi-broach.com/">Matt Nishi-Broach</a> and artist/community organizer <a href="http://www.chloebass.com">Chloë Bass</a>.</p></div></div></section><section class="container-fluid" id="recent" ng-controller="RecentCtrl"><div class="row"><div class="col-xs-12 col-md-6 col-lg-4 col-lg-offset-1"><h2 class="title-block title-black">Newly Added Research</h2><ul class="recent-list"><li ng-repeat="tag in tags"><img class="brand-thumbnail" src="img/Logos/{{ tag.company.replace(\' \',\'-\') }}-small-black.png"> <strong><h5 class="recent-header"><a href="{{ tag.link }}">{{ tag.tag_type }}<span ng-show="tag.value">: {{tag.value}}</span></a></h5></strong><span class="text-muted">From: <a href="#/references/detail/{{ tag.reference.id }}">{{ tag.reference }}</a></span></li><li class="text-center recent-button"><a class="btn btn-black" href="#/tags/all"><h4>Browse the rest of our ethical data</h4></a></li></ul></div><div class="col-xs-12 col-md-6 col-lg-4 col-lg-offset-2"><h2 class="title-block title-black">Recent/Upcoming Events</h2><ul class="recent-list"><li ng-repeat="event in events"><i class="fa fa-check-circle fa-2x fa-pull-left fa-border"></i> <strong><h5 class="recent-header"><a href="#/events/detail/{{ event.id }}">{{ event.name }}</a></h5></strong><span class="text-muted">{{ event.location.name}}, {{ event.location.city }} -- {{ event.start}}</span></li><li class="text-center recent-button"><a class="btn btn-black" href="#/events/all"><h4>See our full calendar</h4></a></li></ul></div></div><div class="row dark-row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-white">New Blog Posts</h2><ul class="recent-list"><li ng-repeat="post in posts"><strong><h3 class="recent-header recent-header-large"><a href="#/blog/detail/{{ post.title_url }}">{{ post.title.toUpperCase() }}</a></h3></strong><h4 class="recent-subheader">{{ post.sub_title }}</h4><span class="text-muted">posted by <a href="#/users/{{ post.posted_by }}">{{ post.posted_by }}</a> at {{ post.pub_time }}.</span></li><li class="text-center recent-button"><a class="btn btn-white" href="#/blog/all"><h4>Check out the rest of the blog!</h4></a></li></ul></div></div></section><section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">FAQ</h2><uib-accordion close-others="true"><uib-accordion-group is-open="status.open3"><uib-accordion-heading>How Does Scoring Work?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open3, \'fa-plus-square-o\': !status.open3}"></i></uib-accordion-heading><p>This is such an important topic that we wrote a whole <a href="#/blog/posts/how-unethical-is-a-negative-two">blog post</a> about it.</p><p>The short answer is that we match the facts we know about each company/product with your ethical feelings about each fact. The scores roughly translate to:</p><ul><li>a <strong>postive</strong> score means the product is in line with your ethics!</li><li>a <strong>negative</strong> score means the product is contrary to your ethics!</li><li>a <strong>zero</strong> means you don\'t care about that issue (it could also mean we don\'t have any data in that particular category)!</li></ul><p>To construct your own ethical profile, <a href="#/signUp">sign up</a> for an account. If you don\'t want to make an account at this time, don\'t worry: you can browse our products and see scores for our generic profiles</p></uib-accordion-group><uib-accordion-group is-open="status.open4"><uib-accordion-heading>How can I help?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open4, \'fa-plus-square-o\': !status.open4}"></i></uib-accordion-heading><p>All our research is collected by user volunteers like you! We wrote a guide to help <a href="#/references/how-to">first-time contributors</a>, and you should drop into our <a href="#/forum">forum</a> if you have have further questions.</p></uib-accordion-group><uib-accordion-group is-open="status.open5"><uib-accordion-heading>Do you only have information on shoes?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open5, \'fa-plus-square-o\': !status.open5}"></i></uib-accordion-heading><p>As of right now, yes. In fact, we\'re focusing specifically on <em>athletic shoes</em>. We are planning to expand to other product categories in the near future, so if you have suggestions for a certain product category you\'d like us to research, please <a href="MAILTO:info@axiologue.org">email us</a>. We\'d love to hear your suggestions!</p></uib-accordion-group><uib-accordion-group is-open="status.open1"><uib-accordion-heading>How do you define your ethics?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open1, \'fa-plus-square-o\': !status.open1}"></i></uib-accordion-heading><p>If you want to browse without making an account, Axiologue has generic profiles that represent the ethical profiles of certain stock characters (e.g. Generic Liberal, Generic Conservative). To make your own ethical profile, <a href="#/signUp">Sign Up</a> and Axiologue will ask a few questions to help you set a base profile. If you want to further tweak your ethical profile, you can do so on your <a href="#/profile">profile page</a>.</p></uib-accordion-group><uib-accordion-group is-open="status.open2"><uib-accordion-heading>How can I request a product category?<i class="pull-right fa" ng-class="{\'fa-minus-square-o\': status.open2, \'fa-plus-square-o\': !status.open2}"></i></uib-accordion-heading><p>We are currently only focused on athletic shoes, but we are planning to expand into new product categories soon. If you have an idea for what product categories you\'d like to see Axiologue cover, <a href="MAILTO:info@axiologue.org">email us</a> or let us on <a href="#/forum/main">on the forums</a>.</p></uib-accordion-group></uib-accordion></div></div></section><section class="container-fluid dark-row"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-left"><h2 class="title-block title-white">Stay In Touch</h2><div id="mc_embed_signup"><h3>Sign Up For Our Mailing List</h3><form action="//axiologue.us10.list-manage.com/subscribe/post?u=a4380cffd095d122a97aaeae6&amp;id=1b7d52909b" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate form-white" target="_blank" novalidate><div id="mc_embed_signup_scroll"><div class="mc-field-group form-group"><label for="mce-EMAIL" class="sr-only">Email Address (required)</label><input type="email" value="" name="EMAIL" class="required email form-control" id="mce-EMAIL" placeholder="Enter Your Email Address (required)"></div><div class="mc-field-group form-group"><label for="mce-FNAME" class="sr-only">First Name</label><input type="text" value="" name="FNAME" class="form-control" id="mce-FNAME" placeholder="Enter First Name"></div><div class="mc-field-group form-group"><label for="mce-LNAME" class="sr-only">Last Name</label><input type="text" value="" name="LNAME" class="form-control" id="mce-LNAME" placeholder="Enter Last Name"></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px" aria-hidden="true"><input type="text" name="b_a4380cffd095d122a97aaeae6_1b7d52909b" tabindex="-1" value=""></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-white"></div></div></form></div></div></div><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-center"><hr class="white-rule"></div></div></section>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/initial_questions.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><div ng-show="user.initial_answers"><h2 class="title-block title-black">Profile Already Set!</h2><p>If you\'re seeing this message, it means you\'ve already set your initial profile! If you want to further tweak your profile, you can go to your <a href="#/profile">profile page</a>. Otherwise, use the menu above to browse our data or look up a product!</p></div><div ng-hide="user.initial_answers"><h2 class="title-block title-black">Welcome To Axiologue!</h2><p>To help you get the most out of your Axiologue experience, we\'d like you to answer a few quick questions about your ethical preferences. We\'ll use this to set an initial profile, but don\'t worry -- you\'ll be able to tweak your answers later!</p><p>We take your privacy very seriously, especially with something as personal as your ethical information. Your answers to these questions won\'t be made available (unless you\'d like them to be), and are solely used to help make Axiologue as useful for you as possible</p><hr><form ng-submit="answerQuestions()"><div class="form-group initial-question-form" ng-repeat="question in questions"><h3>{{ question.question }}</h3><h4 class="text-muted">{{ question.supplement }}</h4><div ng-repeat="answer in question.answers"><input type="radio" ng-model="question.selected" id="answer_{{ answer.id }}" value="{{ answer.id }}" name="answers_{{ answer.question }}"><label for="answer_{{ answer.id }}">{{ answer.answer }}</label></div></div><div class="alert alert-danger" ng-if="error">{{ error }}</div><input type="submit" value="Submit Answers" class="btn btn-black"></form></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/how_to.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">How To Contribute</h2><p>Axiologue is a crowd-sourced project, so our data is built with the help of users like you! We strive to make the process of contributing to our research as easy as possible, so if you\'d like to learn how you could help us make our research <em>even better</em>, keeping reading!</p><p>Axiologue\'s Data is built using <a href="#/references/all">Sources</a> and <a href="#/tags/all">Tags</a>. A source represents a reliable, verifiable document (it could be an NGO reporter, a journalistic report, or even a company\'s own product). A tag represents one "ethical fact" from a particular source -- a distillation of what we <em>really know</em> from that source. A source can have multiple tags on it. Here are the ways you can help us collected data:</p><ul class="fa-ul principles-list"><li><i class="fa-li fa fa-lg fa-file-o"></i><h4>Add An Article</h4>If you find an article/source that has information about the ethics of athletic shoes or the companies that make them, you can <a href="#/references/new">add it here</a></li><li><i class="fa-li fa fa-lg fa-edit"></i><h4>Add A Tag</h4>Read one of our <a href="#/references/all">Sources</a> and click the <em>Add a Tag</em> button at the bottom of the page to add a Tag. Ask yourself "what is one verifiable ethical fact in the article that isn\'t currently in the Axiologue database", and then add a tag that records that fact!</li><li><i class="fa-li fa fa-lg fa-comments"></i><h4>Join The Discussion</h4>Questions? Want to talk to other contributors? Want to give some feedback on the process? Head to our <a href="#/forum/main">Forums</a> to join the discussion.</li></ul></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/forum_thread_list.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Axiologue Forums</h2><h3 class="forum-category-detail-title">{{ category.name }}</h3><h4 class="forum-category-detail-subtitle">{{ category.description }}</h4><table class="table forum-category-table"><tr><th>Topic</th><th>Post Count</th><th>Last Modified</th></tr><tr ng-repeat="thread in category.threads"><td><a class="forum-thread-title" href="#/forum/thread/{{ thread.id }}"><h3>{{ thread.subject }}</h3></a><p class="forum-thread-description text-muted"><em>created by {{ thread.author }} on {{ thread.created_date }}</em></p></td><td>{{ thread.post_count }}</td><td><em ng-show="thread.latest">{{ thread.latest }}</em> <em ng-hide="thread.latest">{{ thread.created_date }}</em></td></tr></table></div></div><div class="row" ng-show="authenticated"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><hr><div ng-hide="showNewThreadForm"><button class="btn btn-black" ng-click="showThreadForm()">Add New Thread</button></div><div ng-show="showNewThreadForm"><form ng-submit="submitThread()"><div class="form-group"><label for="thread-text">New Thread</label><input type="text" class="form-control" id="thread-text" ng-model="newThread.subject"></div><div class="form-group"><label for="thread-body">Write Your Post Content Here</label><textarea rows="8" class="form-control" id="thread-body" ng-model="newThread.post_content"></textarea></div><input class="btn btn-black" type="submit" name="Create"> <button class="btn btn-black" ng-click="cancelNewThread($event)">Cancel</button></form></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/forum_post_list.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Axiologue Forums</h2><h3 class="forum-thread-detail-title">{{ thread.subject }}</h3><table class="table forum-post-table"><colgroup><col class="col-meta"><col class="col-content"></colgroup><tr><th>Posted By</th><th>Post</th></tr><tr ng-repeat="post in thread.posts"><td><span class="fa-stack pull-left"><i class="fa fa-file fa-stack-2x fa-outline-dark-gray-on-white"></i> <i ng-if="post.sticky" class="fa fa-lock fa-stack-1x"></i></span><div class="post-meta"><span class="text-muted">{{ post.author }}</span><br><em class="text-muted">posted on {{ post.created_date }}</em></div></td><td><div class="post-content" marked="post.text"></div></td></tr></table></div></div><div class="row" ng-show="authenticated"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><hr><div ng-hide="showNewPostForm"><button class="btn btn-black" ng-click="showPostForm()">Add New Post</button></div><div ng-show="showNewPostForm"><form ng-submit="submitPost()"><div class="form-group"><label for="post-body">Write Your Post</label><textarea class="form-control" id="post-body" ng-model="newPost.text"></textarea></div><input class="btn btn-black" type="submit" name="Post"> <button class="btn btn-black" ng-click="cancelNewPost($event)">Cancel</button></form></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/forum_main.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Axiologue Forums</h2><table class="table forum-category-table"><tr><th>Category</th><th>Thread Count</th><th>Post Count</th></tr><tr ng-repeat="category in categories"><td><a class="forum-category-title" href="#/forum/category/{{ category.id }}"><h3>{{ category.name }}</h3></a><p class="forum-category-description text-muted">{{ category.description }}<br><em ng-show="{{ category.latest }}">last updated {{ category.latest }}</em></p></td><td>{{ category.thread_count }}</td><td>{{ category.post_count }}</td></tr></table></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/event_list.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Events</h2><ul class="event-list"><li ng-repeat="event in events" class="event-item"><i class="fa fa-{{ event.icon }} fa-2x fa-pull-left fa-outline-dark-gray-on-white"></i><div class="event-list-content"><strong><h4 class="event-header"><a href="#/events/detail/{{ event.id }}">{{ event.name }}</a></h4></strong><span class="text-muted">{{ event.location.name}}, {{ event.location.city }} -- {{ event.start|dateFormat }}</span><p>{{ event.description }}</p></div></li></ul></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/event_detail.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-6 col-lg-5 col-lg-offset-1 event-detail"><h2 class="event-detail-header">{{ eventInfo.name }}</h2><h4 class="event-detail-subheader text-muted">{{ eventInfo.start|dateFormat }} <span ng-show="eventInfo.end">- {{ eventInfo.end|dateFormat }}</span></h4><div marked="eventInfo.description"></div></div><div class="col-xs-12 col-md-6 col-lg-5 event-location"><h3>{{ eventInfo.location.name }}</h3><h4>{{ eventInfo.location.street_address }}, {{ eventInfo.location.city }}<span ng-show="eventInfo.location.postal_code">, {{ eventInfo.location.postal_code }}</span></h4><div class="google-maps"><iframe width="450" height="500" frameborder="0" style="border:1px #000 solid" ng-src="{{ mapsUrl }}" allowfullscreen></iframe></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/ethics_profile.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><h2 class="title-block title-black">Your Ethical Profile</h2><div ng-repeat="category in preferences" class="preferences"><h2>{{ category.category }}</h2><table class="table" ng-repeat="subcat in category.sub" ng-show="subcat.prefs.length > 0"><colgroup><col class="col-type"><col class="col-score"></colgroup><tr class="header-row"><th>{{ subcat.sub }}</th><th>Your Ethical Preference</th></tr><tr class="content-row" ng-repeat="fact in subcat.prefs" ng-controller="SinglePrefCtrl"><td>{{ fact.type }}</td><td class="cell-score"><div ng-hide="showPrefForm"><span class="score" ng-class="{\'text-positive\': fact.preference > 0, \'text-negative\': fact.preference< 0}">{{ fact.preference }}</span> <span class="text-muted"><button class="btn btn-sm btn-borderless" ng-click="openPrefForm()">(edit)</button></span></div><div ng-show="showPrefForm"><form class="form-inline form-black" ng-submit="updatePref()"><label class="fa-label"><select ng-model="newPref.preference" class="form-control" convert-to-number><option value="{{ opt }}" ng-repeat="opt in options">{{ opt }}</option></select></label><button type="submit" class="btn btn-sm btn-borderless"><i class="fa fa-check"></i></button> <button class="btn btn-sm btn-borderless" ng-click="closePrefForm($event)"><i class="fa fa-times"></i></button></form></div></td></tr></table></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/company_detail.html",'<header class="container-fluid"><div class="row"><div class="col-xs-12 col-md-4 text-center"><div class="detail-logo"><img src="img/Logos/{{ company.name.replace(\' \', \'-\') }}-large-black.png" class="img-responsive" alt="{{ company.name }}"></div><h2 class="title-block title-black-filled detail-title">{{ company.name }}</h2><h3 class="detail-supplement" ng-show="company.owns.length > 0">Owns: <span ng-repeat="owned in company.owns"><a href="#/companies/detail/{{ owned.replace(\' \', \'-\') }}"><strong>{{ owned }} </strong></a></span></h3><h3 class="detail-supplement" ng-show="company.owned_by">Owned By: <a href="#/companies/detail/{{ company.owned_by.replace(\' \', \'-\')}}"><strong>{{ company.owned_by }}</strong></a></h3><div bars-legend data="scores"></div><div class="btn-personalized-wrapper"><a href="#/login" class="btn btn-black btn-sm btn-personalized" ng-hide="authenticated">Login to see your own personalized score</a></div></div><div class="col-xs-12 col-md-8"><div class="score-chart-header"><h2 class="title-block title-black score-title">Ethical Scores</h2></div><horizontal-bars data="scores"></horizontal-bars></div></div></header><section class="container-fluid dark-row"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-2 col-lg-8 col-lg-offset-2 tag-list"><h2 class="title-block title-white">Data on {{ company.name }}</h2><div ng-repeat="category in tags"><h4 class="tag-list-title">{{ category.category.toUpperCase() }}</h4><ul><li ng-show="category.tags.length === 0"><h5 class="no-data">No Data in this category. You can <a href="#/references/how-to">help us</a> research!</h5></li><li ng-repeat="tag in category.tags"><div class="tag-block"><div class="tag-list-icon"><i class="fa fa-{{ categoryIcons[category.category] }} fa-2x fa-outline-dark-gray"></i></div><h5 class="tag-type"><strong>{{ tag.tag_type }}<span ng-show="tag.value">: {{tag.value}}</span></strong></h5><span class="text-muted">From: <a href="#/references/detail/{{ tag.reference.id }}">{{ tag.reference.title }}</a> (<a href="{{ tag.reference.url }}" target="_newtab">External Link</a>) (<a role="button" data-target="#tag-detail-{{tag.id}}" data-toggle="collapse" aria-expanded="false" aria-controls="tag-detail-{{tag.id}}">See More</a>)</span></div><div class="tag-block"><div class="collapse" id="tag-detail-{{tag.id}}"><div class="tag-detail-content"><dl class="dl-horizontal"><dt>EXCERPT</dt><dd>"{{ tag.excerpt }}"</dd><dt>ADDED BY</dt><dd><span class="text-muted"><a href="#/users/{{ tag.added_by }}">{{ tag.added_by }}</a> at {{ tag.submitted_at }}</span></dd></dl></div></div></div></li></ul></div></div></div></section><div class="container-fluid dark-row"><div class="row"><div class="col-xs-12"><hr></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/company_all.html",'<section class="container-fluid"><div class="row"><h2 class="title-block title-black">How Ethical Are These Companies?</h2><div class="col-xs-12 col-md-4 col-lg-4"><div bars-legend data="scores"></div><div class="btn-personalized-wrapper"><a href="#/login" class="btn btn-black btn-sm btn-personalized" ng-hide="authenticated">Login to see your own personalized score</a></div><div class="filter-box"><form><div ng-show="authenticated"><h4>Chart Filtering</h4><div class="checkbox"><label><input type="checkbox" ng-model="filterProps.showGeneric" ng-change="filterScores()"> Show Generic Profile Scores</label></div></div><h4>Chart Sorting</h4><div class="radio"><label><input type="radio" ng-change="sortScores()" ng-model="filterProps.ordering" value="alphabetic"> Sort Alphabetically</label></div><div class="radio" ng-repeat="_user in scores[0].scores"><label><input type="radio" ng-change="sortScores()" ng-model="filterProps.ordering" value="{{ _user.user }}"> Sort by Scores ({{ _user.user.replace(\'_\', \' \') }})</label></div></form></div></div><div class="col-xs-12 col-md-8 col-lg-8"><horizontal-bars data="scores" bar-height="12" chart-gap="12" margin-top="20" link-text="#/companies/detail/"></horizontal-bars><div ng-show="loading" class="text-center"><i class="fa fa-spinner fa-pulse fa-4x"></i> <span class="sr-only">Loading...</span></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/coming_soon.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12"><h2 class="title-block title-black">This Page Coming Soon!</h2></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/blog_list.html",'<section class="container"><div class="row"><div class="col-xs-12"><h2 class="title-block title-black">Blog Posts</h2><ul class="blog-list"><li ng-repeat="post in posts"><strong><h3 class="recent-header recent-header-large"><a href="#/blog/detail/{{ post.title_url }}">{{ post.title.toUpperCase() }}</a></h3></strong><h4 class="recent-subheader">{{ post.sub_title }}</h4><p class="text-muted">{{post.excerpt}}... (<a href="#/blog/posts/{{ post.title_url }}">Read More</a>)</p><p class="text-muted"><em>posted by</em> <a href="#/users/{{ post.posted_by }}">{{ post.posted_by }}</a> <em>at</em> {{ post.pub_time }}</p></li></ul></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/blog_detail.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><div class="post-header"><h1 class="post-title">{{ post.title }}</h1><h3 class="post-subtitle">{{ post.sub_title}}</h3><span class="text-muted">posted by <a href="#/user/{{ post.posted_by }}">{{ post.posted_by }}</a> at {{ post.pub_time }}</span></div><div class="post-content"><div marked="post.body"></div></div></div></div></section>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("templates/404.html",'<section class="container-fluid"><div class="row"><div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 text-center"><h2 class="title-block title-black">Oops! That Page Doesn\'t Exist!</h2><p class="text-large">If we made a mistake or have a broken link on the site, please <a class="orange" href="MAILTO:admin@axiologue.org">email us</a> so we can fix it. Otherwise, go back to <a class="orange" href="#/">browsing</a>!</p></div></div></section>')}])}();
//# sourceMappingURL=../maps/app.min.js.map
